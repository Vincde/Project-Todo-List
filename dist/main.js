(()=>{"use strict";const e=function(){const e=[];return{pushProjectIntoArray:t=>{e.push(t)},getName:t=>e[t].getName(),getLength:()=>e.length,deleteElement:t=>{e.splice(t,1)}}}(),t=e;class n{constructor(e){this.name=e}changeName(e){this.name=e}getName(){return this.name}}const o=function(e,t,n,o,r){let c=e,l=t,u=n,i=o,a=r;return{getTitle:function(){return c},getDescription:function(){return l},getDate:function(){return u},getPriority:function(){return i},getProjectName:function(){return a},getLink:function(){return a},changeName:function(e){c=e},changeDescription:function(e){l=e},changeDueDate:function(e){u=e},changePriority:function(e){i=e},changeLink:function(e){a=e}}},r=function(){const e=[];return{addElement:t=>{e.push(t)},getDescription:t=>e[t].getDescription(),getDueDate:t=>e[t].getDate(),getPriority:t=>e[t].getPriority(),getProjectName:t=>e[t].getLink(),getLength:()=>e.length,getLink:t=>e[t].getLink(),getName:t=>e[t].getTitle(),deleteElement:t=>{e.splice(t,1)},changeName:(t,n)=>{e[t].changeName(n)},changeDescription:(t,n)=>{e[t].changeDescription(n)},changeDueDate:(t,n)=>{e[t].changeDueDate(n)},changePriority:(t,n)=>{e[t].changePriority(n)},changeLink:(t,n)=>{e[t].changeLink(n)}}}(),c=r;function l(e,t,n,r,l){const u=o(e,t,n,r,l);c.addElement(u)}const u=function(e){let o=function(e){return new n(e)}(e);t.pushProjectIntoArray(o)};function i(e){const t=document.querySelector(".my-projects"),n=document.createElement("button");n.setAttribute("type","button"),n.textContent=e,t.appendChild(n)}function a(){const e=document.querySelector(".my-projects button:last-of-type"),n=document.querySelector(".todo-board");e.addEventListener("click",(()=>{C();const o=document.createElement("button");var r;o.setAttribute("type","button"),o.textContent="delete this project",n.appendChild(o),r=e.textContent,document.querySelector(".todo-board button:nth-child(1)").addEventListener("click",(()=>{if(0!==c.getLength())for(let e=0;e<c.getLength();e++)c.getLink(e)===r&&c.deleteElement(e);for(let e=0;e<t.getLength();e++)if(t.getName(e)===r){t.deleteElement(e),s();break}const e=document.querySelectorAll(".my-projects button");for(let t of e)t.textContent===r&&t.parentElement.removeChild(t);C()})),function(e){for(let t=0;t<c.getLength();t++)c.getLink(t)===e&&(d(),m(t),b(),y(t))}(e.textContent)}))}function d(){const e=document.createElement("div"),t=document.createElement("button"),n=document.querySelector(".todo-board");t.setAttribute("type","button"),t.textContent="delete this task",e.appendChild(t),n.appendChild(e)}function m(e){const t=document.querySelector(".todo-board > div:last-of-type"),n=document.createElement("div"),o=document.createElement("p"),r=document.createElement("p"),l=document.createElement("p"),u=document.createElement("p");o.textContent=c.getName(e),r.textContent=c.getDescription(e),l.textContent=c.getDueDate(e),u.textContent=c.getPriority(e),n.appendChild(o),n.appendChild(r),n.appendChild(l),n.appendChild(u),t.appendChild(n)}function s(){let e=[];for(let n=0;n<t.getLength();n++)e.push(t.getName(n));localStorage.setItem("projects",JSON.stringify(e))}function p(){const e=document.createElement("div"),n=document.createElement("label"),o=document.createElement("input"),r=document.createElement("label"),c=document.createElement("input"),l=document.createElement("label"),u=document.createElement("input"),i=document.createElement("label"),a=document.createElement("input"),d=document.createElement("label"),m=document.createElement("select");d.setAttribute("for","labelSelect"),d.textContent="which project",m.setAttribute("id","labelSelect"),m.setAttribute("name","selectOption");const s=document.createElement("option");s.setAttribute("value","0"),s.textContent="none",m.appendChild(s);for(let e=0;e<t.getLength();e++){const n=document.createElement("option");n.textContent=`${t.getName(e)}`,n.setAttribute("value",`${t.getName(e)}`),m.appendChild(n)}const p=document.createElement("button");e.setAttribute("class","taskForm"),p.setAttribute("type","button"),p.textContent="Ok",o.setAttribute("id","NewTaskName"),n.textContent="Name => ",n.setAttribute("for","NewTaskName"),c.setAttribute("id","NewTaskDescription"),r.textContent="Description => ",r.setAttribute("for","NewTaskDescription"),u.setAttribute("id","NewTaskDate"),l.textContent="DueDate => ",l.setAttribute("for","NewTaskDate"),a.setAttribute("id","NewTaskPrio"),i.textContent="Priority => ",i.setAttribute("for","NewTaskPrio"),e.appendChild(n),e.appendChild(o),o.insertAdjacentHTML("afterend","<br>"),e.appendChild(r),e.appendChild(c),c.insertAdjacentHTML("afterend","<br>"),e.appendChild(l),e.appendChild(u),u.insertAdjacentHTML("afterend","<br>"),e.appendChild(i),e.appendChild(a),a.insertAdjacentHTML("afterend","<br>"),e.appendChild(d),e.appendChild(m),m.insertAdjacentHTML("afterend","<br>"),e.appendChild(p),document.querySelector("body").appendChild(e)}function g(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(1px)"}function h(){const e=document.querySelector(".taskForm button"),t=document.querySelector(".taskForm");e.parentElement.parentElement.removeChild(t)}function f(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(0)"}function b(){const e=document.querySelector(".todo-board div:last-of-type button:nth-child(1)"),t=document.querySelector(".todo-board div:last-of-type > div > p:nth-child(1)");e.addEventListener("click",(()=>{for(let e=0;e<c.getLength();e++)c.getName(e)===t.textContent&&(c.deleteElement(e),v());C()}))}function y(e){document.querySelector(".todo-board div:last-of-type");const t=document.querySelector(".todo-board div:last-of-type button:nth-child(1)"),n=document.createElement("button");document.querySelector(".todo-board div:last-of-type div"),n.setAttribute("type","button"),n.textContent="Rename the Form",t.parentNode.insertBefore(n,t.nextSibling),n.addEventListener("click",(()=>{p(),g();const t=document.querySelector(".taskForm select"),n=document.querySelectorAll(".taskForm input");n[0].value=c.getName(e),n[1].value=c.getDescription(e),n[2].value=c.getDueDate(e),n[3].value=c.getPriority(e),t.value=c.getLink(e),document.querySelector(".taskForm button").addEventListener("click",(()=>{c.changeName(e,n[0].value),c.changeDescription(e,n[1].value),c.changeDueDate(e,n[2].value),c.changePriority(e,n[3].value),c.changeLink(e,t.value),f(),h(),v()}))}))}function v(){let e=[];for(let t=0;t<c.getLength();t++)e.push(c.getName(t)),e.push(c.getDescription(t)),e.push(c.getDueDate(t)),e.push(c.getPriority(t)),e.push(c.getLink(t));localStorage.setItem("tasks",JSON.stringify(e))}function C(){const e=document.querySelectorAll(".todo-board *");for(let t of e)t.remove()}!function(){if(localStorage.getItem("projects")){let e=JSON.parse(localStorage.getItem("projects"));for(let t=0;t<e.length;t++)u(e[t]),i(e[t]),a()}if(localStorage.getItem("tasks")){let e=[];e=JSON.parse(localStorage.getItem("tasks"));let t=0;for(;t<e.length;)l(e[t],e[t+1],e[t+2],e[t+3],e[t+4]),t+=5}document.querySelector(".my-projects button").addEventListener("click",(()=>{C();for(let e=0;e<c.getLength();e++)d(),m(e),y(e)})),document.querySelector(".buttons button:first-of-type").addEventListener("click",(()=>{!function(){const e=document.createElement("div"),t=document.createElement("label"),n=document.createElement("input"),o=document.createElement("button");e.setAttribute("class","projectForm"),o.setAttribute("type","button"),o.textContent="Ok",n.setAttribute("id","NewProjectName"),t.textContent="Name => ",t.setAttribute("for","NewProjectName"),e.appendChild(t),e.appendChild(n),e.appendChild(o),document.querySelector("body").appendChild(e)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(1px)"}(),function(){const e=document.querySelector(".projectForm button"),t=(document.querySelector(".projectForm"),document.querySelector(".projectForm input"));e.addEventListener("click",(()=>{""==t.value&&null==t.value&&null==t.value||(u(t.value),i(t.value),function(){const e=document.querySelector(".projectForm button"),t=document.querySelector(".projectForm");e.parentElement.parentElement.removeChild(t)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(0)"}(),a(),s())}))}()})),document.querySelector(".buttons button:nth-child(2)").addEventListener("click",(()=>{p(),g(),function(){const e=document.querySelector(".taskForm button"),t=document.querySelectorAll(".taskForm input"),n=document.querySelector(".taskForm select");e.addEventListener("click",(()=>{let e=t[0].value,o=t[1].value,r=t[2].value,c=t[3].value,u=n.value;e&&o&&r&&c&&(l(e,o,r,c,u),h(),f(),v())}))}()}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBdUJBLE1BQU1BLEVBdkJOLFdBQ0ksTUFBTUMsRUFBa0IsR0FtQnhCLE1BQU8sQ0FBQ0MscUJBaEJzQkMsSUFDMUJGLEVBQWdCRyxLQUFLRCxFQUFRLEVBZUpFLFFBWlpDLEdBQ05MLEVBQWdCSyxHQUFPRCxVQVdHRSxVQVJuQixJQUNQTixFQUFnQk8sT0FPb0JDLGNBSnhCQyxJQUNuQlQsRUFBZ0JVLE9BQU9ELEVBQUUsRUFBRSxFQUluQyxDQUVxQlQsR0FFckIsSUN6QkEsTUFBTVcsRUFFRixXQUFBQyxDQUFZQyxHQUNSQyxLQUFLRCxLQUFPQSxDQUNoQixDQUVBLFVBQUFFLENBQVdDLEdBQ1BGLEtBQUtELEtBQU9HLENBQ2hCLENBRUEsT0FBQVosR0FDSSxPQUFPVSxLQUFLRCxJQUNoQixFQVVKLE1DeUJBLEVBL0NBLFNBQTJCSSxFQUFTQyxFQUFlQyxFQUFXQyxFQUFZQyxHQUN0RSxJQUFJQyxFQUFRTCxFQUNSTSxFQUFjTCxFQUNkTSxFQUFVTCxFQUNWTSxFQUFXTCxFQUNYTSxFQUFjTCxFQXNDbEIsTUFBTyxDQUFDTSxTQXBDUixXQUNJLE9BQU9MLENBQ1gsRUFrQ2lCTSxlQWpDakIsV0FDSSxPQUFPTCxDQUNYLEVBK0JnQ00sUUE5QmhDLFdBQ0ksT0FBT0wsQ0FDWCxFQTRCd0NNLFlBM0J4QyxXQUNJLE9BQU9MLENBQ1gsRUF5Qm9ETSxlQXhCcEQsV0FDSSxPQUFPTCxDQUNYLEVBc0JtRU0sUUFyQm5FLFdBQ0ksT0FBT04sQ0FDWCxFQW1CMkVYLFdBbEIzRSxTQUFvQkMsR0FDaEJNLEVBQVFOLENBQ1osRUFnQnNGaUIsa0JBZnRGLFNBQTJCZixHQUN2QkssRUFBY0wsQ0FDbEIsRUFhd0dnQixjQVp4RyxTQUF1QmYsR0FDbkJLLEVBQVVMLENBQ2QsRUFVc0hnQixlQVR0SCxTQUF3QmYsR0FDcEJLLEVBQVdMLENBQ2YsRUFPcUlnQixXQU5ySSxTQUFvQkMsR0FDaEJYLEVBQWNXLENBQ2xCLEVBS0osRUNnQk1DLEVBNUROLFdBQ0ksTUFBTUMsRUFBZSxHQXdEckIsTUFBTyxDQUFDQyxXQWxEWUMsSUFDaEJGLEVBQWFwQyxLQUFLc0MsRUFBSyxFQWlEUmIsZUE5Q0t2QixHQUNia0MsRUFBYWxDLEdBQU91QixpQkE2Q0djLFdBMUNkckMsR0FDVGtDLEVBQWFsQyxHQUFPd0IsVUF5Q2NDLFlBdEN4QnpCLEdBQ1ZrQyxFQUFhbEMsR0FBT3lCLGNBcUMwQkMsZUFsQ2pDMUIsR0FDYmtDLEVBQWFsQyxHQUFPMkIsVUFpQ3lDMUIsVUE5QnRELElBQ1BpQyxFQUFhaEMsT0E2QjBEeUIsUUExQmpFM0IsR0FDTmtDLEVBQWFsQyxHQUFPMkIsVUF5QjJENUIsUUF0RHpFQyxHQUNOa0MsRUFBYWxDLEdBQU9zQixXQXFEbUVuQixjQXRCM0VILElBQ25Ca0MsRUFBYTdCLE9BQU9MLEVBQU0sRUFBRSxFQXFCZ0ZVLFdBbEI3RixDQUFDVixFQUFNVyxLQUN0QnVCLEVBQWFsQyxHQUFPVSxXQUFXQyxFQUFRLEVBaUJnRmlCLGtCQWZqRyxDQUFDNUIsRUFBTWEsS0FDN0JxQixFQUFhbEMsR0FBTzRCLGtCQUFrQmYsRUFBZSxFQWNvRmdCLGNBWnZILENBQUM3QixFQUFNYyxLQUN6Qm9CLEVBQWFsQyxHQUFPNkIsY0FBY2YsRUFBVyxFQVcwR2dCLGVBVHBJLENBQUM5QixFQUFNZSxLQUMxQm1CLEVBQWFsQyxHQUFPOEIsZUFBZWYsRUFBWSxFQVF1SGdCLFdBTnZKLENBQUMvQixFQUFNZ0MsS0FDdEJFLEVBQWFsQyxHQUFPK0IsV0FBV0MsRUFBUSxFQU0vQyxDQUVvQkUsR0FFcEIsSUNuREEsU0FBU0ksRUFBZTlCLEVBQUsrQixFQUFNQyxFQUFLcEIsRUFBU0MsR0FDN0MsTUFBTW9CLEVBQVUsRUFBa0JqQyxFQUFLK0IsRUFBTUMsRUFBS3BCLEVBQVNDLEdBQzNELEVBQVljLFdBQVdNLEVBQzNCLENBR0EsUUFYQSxTQUE0Q2pDLEdBQ3hDLElBQUlrQyxFSFFSLFNBQTBCbEMsR0FFdEIsT0FEbUIsSUFBSUYsRUFBUUUsRUFFbkMsQ0dYcUIsQ0FBaUJBLEdBQ2xDLEVBQWFaLHFCQUFxQjhDLEVBQ3RDLEVDZ0VBLFNBQVNDLEVBQTBCQyxHQUMvQixNQUFNQyxFQUFvQkMsU0FBU0MsY0FBYyxnQkFDM0NDLEVBQVlGLFNBQVNHLGNBQWMsVUFFekNELEVBQVVFLGFBQWEsT0FBTyxVQUU5QkYsRUFBVUcsWUFBY1AsRUFFeEJDLEVBQWtCTyxZQUFZSixFQUNsQyxDQW9CQSxTQUFTSyxJQUNMLE1BQU1DLEVBQWVSLFNBQVNDLGNBQWMsb0NBQ3RDUSxFQUFnQlQsU0FBU0MsY0FBYyxlQUc3Q08sRUFBYUUsaUJBQWlCLFNBQVEsS0FDbENDLElBR0EsTUFBTUMsRUFBaUJaLFNBQVNHLGNBQWMsVUE4RHRELElBQTRCVSxFQTdEcEJELEVBQWVSLGFBQWEsT0FBTyxVQUNuQ1EsRUFBZVAsWUFBYyxzQkFHN0JJLEVBQWNILFlBQVlNLEdBeUROQyxFQXhEREwsRUFBYUgsWUF5RGxCTCxTQUFTQyxjQUFjLG1DQUUvQlMsaUJBQWlCLFNBQVMsS0FDaEMsR0FBK0IsSUFBNUIsRUFBWXZELFlBQ1gsSUFBSSxJQUFJRyxFQUFJLEVBQUdBLEVBQUksRUFBWUgsWUFBYUcsSUFDckMsRUFBWXVCLFFBQVF2QixLQUFPdUQsR0FDMUIsRUFBWXhELGNBQWNDLEdBSXRDLElBQUksSUFBSXdELEVBQUksRUFBR0EsRUFBSSxFQUFhM0QsWUFBYTJELElBQ3pDLEdBQUcsRUFBYTdELFFBQVE2RCxLQUFPRCxFQUFjLENBQ3pDLEVBQWF4RCxjQUFjeUQsR0FDM0JDLElBQ0EsS0FDSixDQUdKLE1BQU1DLEVBQVVoQixTQUFTaUIsaUJBQWlCLHVCQUUxQyxJQUFJLElBQUlDLEtBQVFGLEVBQ1RFLEVBQUtiLGNBQWdCUSxHQUNwQkssRUFBS0MsY0FBY0MsWUFBWUYsR0FJdkNQLEdBQVUsSUE3RWxCLFNBQXlCRSxHQUVyQixJQUFJLElBQUl2RCxFQUFJLEVBQUdBLEVBQUksRUFBWUgsWUFBYUcsSUFDckMsRUFBWXVCLFFBQVF2QixLQUFPdUQsSUFDMUJRLElBQ0FDLEVBQWtCaEUsR0FDbEJpRSxJQUNBQyxFQUFnQmxFLEdBSzVCLENBaEJRbUUsQ0FBZ0JqQixFQUFhSCxZQUFZLEdBRWpELENBaUJBLFNBQVNnQixJQUNMLE1BQU1LLEVBQWUxQixTQUFTRyxjQUFjLE9BQ3RDd0IsRUFBVTNCLFNBQVNHLGNBQWMsVUFDakNNLEVBQWdCVCxTQUFTQyxjQUFjLGVBRTdDMEIsRUFBUXZCLGFBQWEsT0FBUSxVQUM3QnVCLEVBQVF0QixZQUFjLG1CQUV0QnFCLEVBQWFwQixZQUFZcUIsR0FDekJsQixFQUFjSCxZQUFZb0IsRUFDOUIsQ0FFQSxTQUFTSixFQUFrQmhFLEdBQ3ZCLE1BQU1zRSxFQUFrQjVCLFNBQVNDLGNBQWMsa0NBRXpDeUIsRUFBZTFCLFNBQVNHLGNBQWMsT0FDdEN6QyxFQUFPc0MsU0FBU0csY0FBYyxLQUM5Qi9CLEVBQWM0QixTQUFTRyxjQUFjLEtBQ3JDOUIsRUFBVTJCLFNBQVNHLGNBQWMsS0FDakM3QixFQUFXMEIsU0FBU0csY0FBYyxLQUV4Q3pDLEVBQUsyQyxZQUFjLEVBQVlwRCxRQUFRSyxHQUN2Q2MsRUFBWWlDLFlBQWMsRUFBWTVCLGVBQWVuQixHQUNyRGUsRUFBUWdDLFlBQWMsRUFBWWQsV0FBV2pDLEdBQzdDZ0IsRUFBUytCLFlBQWMsRUFBWTFCLFlBQVlyQixHQUUvQ29FLEVBQWFwQixZQUFZNUMsR0FDekJnRSxFQUFhcEIsWUFBWWxDLEdBQ3pCc0QsRUFBYXBCLFlBQVlqQyxHQUN6QnFELEVBQWFwQixZQUFZaEMsR0FFekJzRCxFQUFnQnRCLFlBQVlvQixFQUVoQyxDQWlDQSxTQUFTWCxJQUNMLElBQUljLEVBQU0sR0FFVixJQUFJLElBQUl2RSxFQUFJLEVBQUdBLEVBQUksRUFBYUgsWUFBYUcsSUFDekN1RSxFQUFJN0UsS0FBSyxFQUFhQyxRQUFRSyxJQUdsQ3dFLGFBQWFDLFFBQVEsV0FBWUMsS0FBS0MsVUFBVUosR0FDcEQsQ0FlQSxTQUFTSyxJQUNMLE1BQU1SLEVBQWUxQixTQUFTRyxjQUFjLE9BRXRDZ0MsRUFBZW5DLFNBQVNHLGNBQWMsU0FDdENpQyxFQUFlcEMsU0FBU0csY0FBYyxTQUV0Q2tDLEVBQXNCckMsU0FBU0csY0FBYyxTQUM3Q21DLEVBQXNCdEMsU0FBU0csY0FBYyxTQUU3Q29DLEVBQWV2QyxTQUFTRyxjQUFjLFNBQ3RDcUMsRUFBZXhDLFNBQVNHLGNBQWMsU0FFdENzQyxFQUFtQnpDLFNBQVNHLGNBQWMsU0FDMUN1QyxFQUFtQjFDLFNBQVNHLGNBQWMsU0FFMUN3QyxFQUFPM0MsU0FBU0csY0FBYyxTQUM5QnlDLEVBQVM1QyxTQUFTRyxjQUFjLFVBQ3RDd0MsRUFBS3ZDLGFBQWEsTUFBTSxlQUN4QnVDLEVBQUt0QyxZQUFjLGdCQUNuQnVDLEVBQU94QyxhQUFhLEtBQUssZUFDekJ3QyxFQUFPeEMsYUFBYSxPQUFPLGdCQUUzQixNQUFNeUMsRUFBWTdDLFNBQVNHLGNBQWMsVUFDekMwQyxFQUFVekMsYUFBYSxRQUFRLEtBQy9CeUMsRUFBVXhDLFlBQWMsT0FDeEJ1QyxFQUFPdEMsWUFBWXVDLEdBRW5CLElBQUksSUFBSXZGLEVBQUksRUFBR0EsRUFBSSxFQUFhSCxZQUFhRyxJQUFJLENBQzdDLE1BQU13RixFQUFTOUMsU0FBU0csY0FBYyxVQUN0QzJDLEVBQU96QyxZQUFjLEdBQUcsRUFBYXBELFFBQVFLLEtBQzdDd0YsRUFBTzFDLGFBQWEsUUFBUSxHQUFHLEVBQWFuRCxRQUFRSyxNQUNwRHNGLEVBQU90QyxZQUFZd0MsRUFDdkIsQ0FHQSxNQUFNQyxFQUFXL0MsU0FBU0csY0FBYyxVQUl4Q3VCLEVBQWF0QixhQUFhLFFBQVEsWUFFbEMyQyxFQUFTM0MsYUFBYSxPQUFPLFVBQzdCMkMsRUFBUzFDLFlBQWMsS0FJdkIrQixFQUFhaEMsYUFBYSxLQUFLLGVBQy9CK0IsRUFBYTlCLFlBQWEsV0FDMUI4QixFQUFhL0IsYUFBYSxNQUFNLGVBRWhDa0MsRUFBb0JsQyxhQUFhLEtBQUssc0JBQ3RDaUMsRUFBb0JoQyxZQUFjLGtCQUNsQ2dDLEVBQW9CakMsYUFBYSxNQUFNLHNCQUV2Q29DLEVBQWFwQyxhQUFhLEtBQUssZUFDL0JtQyxFQUFhbEMsWUFBYyxjQUMzQmtDLEVBQWFuQyxhQUFhLE1BQU0sZUFFaENzQyxFQUFpQnRDLGFBQWEsS0FBSyxlQUNuQ3FDLEVBQWlCcEMsWUFBYyxlQUMvQm9DLEVBQWlCckMsYUFBYSxNQUFNLGVBS3BDc0IsRUFBYXBCLFlBQVk2QixHQUN6QlQsRUFBYXBCLFlBQVk4QixHQUV6QkEsRUFBYVksbUJBQW1CLFdBQVcsUUFFM0N0QixFQUFhcEIsWUFBWStCLEdBQ3pCWCxFQUFhcEIsWUFBWWdDLEdBRXpCQSxFQUFvQlUsbUJBQW1CLFdBQVcsUUFFbER0QixFQUFhcEIsWUFBWWlDLEdBQ3pCYixFQUFhcEIsWUFBWWtDLEdBRXpCQSxFQUFhUSxtQkFBbUIsV0FBVyxRQUUzQ3RCLEVBQWFwQixZQUFZbUMsR0FDekJmLEVBQWFwQixZQUFZb0MsR0FFekJBLEVBQWlCTSxtQkFBbUIsV0FBVyxRQUUvQ3RCLEVBQWFwQixZQUFZcUMsR0FDekJqQixFQUFhcEIsWUFBWXNDLEdBRXpCQSxFQUFPSSxtQkFBbUIsV0FBVyxRQUVyQ3RCLEVBQWFwQixZQUFZeUMsR0FFSi9DLFNBQVNDLGNBQWMsUUFDL0JLLFlBQVlvQixFQUU3QixDQStCQSxTQUFTdUIsSUFDTCxNQUFNQyxFQUEyQmxELFNBQVNpQixpQkFBaUIsc0JBRTNELElBQUksSUFBSWtDLEtBQU9ELEVBQ2ZDLEVBQUlDLE1BQU1DLE9BQVMsV0FFdkIsQ0FFQSxTQUFTQyxJQUNMLE1BQU1DLEVBQWlCdkQsU0FBU0MsY0FBYyxvQkFDeEN1RCxFQUFXeEQsU0FBU0MsY0FBYyxhQUN4Q3NELEVBQWVwQyxjQUFjQSxjQUFjQyxZQUFZb0MsRUFDM0QsQ0FFQSxTQUFTQyxJQUNMLE1BQU1QLEVBQTJCbEQsU0FBU2lCLGlCQUFpQixzQkFFdkQsSUFBSSxJQUFJa0MsS0FBT0QsRUFDWEMsRUFBSUMsTUFBTUMsT0FBUyxTQUUvQixDQUdBLFNBQVM5QixJQUNMLE1BQU1tQyxFQUFZMUQsU0FBU0MsY0FBYyxvREFDbkMwRCxFQUFZM0QsU0FBU0MsY0FBYyx1REFFekN5RCxFQUFVaEQsaUJBQWlCLFNBQVMsS0FDaEMsSUFBSSxJQUFJcEQsRUFBSSxFQUFHQSxFQUFJLEVBQVlILFlBQWNHLElBQ3RDLEVBQVlMLFFBQVFLLEtBQU9xRyxFQUFVdEQsY0FDcEMsRUFBWWhELGNBQWNDLEdBQzFCc0csS0FHUmpELEdBQVUsR0FFbEIsQ0FFQSxTQUFTYSxFQUFnQmxFLEdBQ0wwQyxTQUFTQyxjQUFjLGdDQUF2QyxNQUNNNEQsRUFBVzdELFNBQVNDLGNBQWMsb0RBQ2xDNkQsRUFBYTlELFNBQVNHLGNBQWMsVUFDaEJILFNBQVNDLGNBQWMsb0NBRWpENkQsRUFBVzFELGFBQWEsT0FBTyxVQUMvQjBELEVBQVd6RCxZQUFjLGtCQUV6QndELEVBQVNFLFdBQVdDLGFBQWFGLEVBQVlELEVBQVNJLGFBRXRESCxFQUFXcEQsaUJBQWlCLFNBQVMsS0FDakN3QixJQUNBZSxJQUVBLE1BQU1MLEVBQVM1QyxTQUFTQyxjQUFjLG9CQUNoQ2lFLEVBQWdCbEUsU0FBU2lCLGlCQUFpQixtQkFFaERpRCxFQUFjLEdBQUdDLE1BQVEsRUFBWWxILFFBQVFLLEdBQzdDNEcsRUFBYyxHQUFHQyxNQUFRLEVBQVkxRixlQUFlbkIsR0FDcEQ0RyxFQUFjLEdBQUdDLE1BQVEsRUFBWTVFLFdBQVdqQyxHQUNoRDRHLEVBQWMsR0FBR0MsTUFBUSxFQUFZeEYsWUFBWXJCLEdBQ2pEc0YsRUFBT3VCLE1BQVEsRUFBWXRGLFFBQVF2QixHQUVkMEMsU0FBU0MsY0FBYyxvQkFDL0JTLGlCQUFpQixTQUFTLEtBQ25DLEVBQVk5QyxXQUFXTixFQUFFNEcsRUFBYyxHQUFHQyxPQUMxQyxFQUFZckYsa0JBQWtCeEIsRUFBRTRHLEVBQWMsR0FBR0MsT0FDakQsRUFBWXBGLGNBQWN6QixFQUFFNEcsRUFBYyxHQUFHQyxPQUM3QyxFQUFZbkYsZUFBZTFCLEVBQUU0RyxFQUFjLEdBQUdDLE9BQzlDLEVBQVlsRixXQUFXM0IsRUFBRXNGLEVBQU91QixPQUVoQ1YsSUFDQUgsSUFDQU0sR0FBd0IsR0FDMUIsR0FHVixDQUVBLFNBQVNBLElBQ0wsSUFBSVEsRUFBVyxHQUVmLElBQUksSUFBSTlHLEVBQUksRUFBR0EsRUFBSSxFQUFZSCxZQUFhRyxJQUN4QzhHLEVBQVNwSCxLQUFLLEVBQVlDLFFBQVFLLElBQ2xDOEcsRUFBU3BILEtBQUssRUFBWXlCLGVBQWVuQixJQUN6QzhHLEVBQVNwSCxLQUFLLEVBQVl1QyxXQUFXakMsSUFDckM4RyxFQUFTcEgsS0FBSyxFQUFZMkIsWUFBWXJCLElBQ3RDOEcsRUFBU3BILEtBQUssRUFBWTZCLFFBQVF2QixJQUd0Q3dFLGFBQWFDLFFBQVEsUUFBU0MsS0FBS0MsVUFBVW1DLEdBQ2pELENBZ0JBLFNBQVN6RCxJQUNMLE1BQU0wRCxFQUFRckUsU0FBU2lCLGlCQUFpQixpQkFFeEMsSUFBSSxJQUFJQyxLQUFRbUQsRUFDWm5ELEVBQUtvRCxRQUViLEVDNWNhLFdBRVQsR0FBR3hDLGFBQWF5QyxRQUFRLFlBQVksQ0FDaEMsSUFBSTFDLEVBQU1HLEtBQUt3QyxNQUFNMUMsYUFBYXlDLFFBQVEsYUFFMUMsSUFBSSxJQUFJekQsRUFBSSxFQUFHQSxFQUFJZSxFQUFJekUsT0FBUTBELElBQy9CLEVBQW1DZSxFQUFJZixJQUN2Q2pCLEVBQTBCZ0MsRUFBSWYsSUFDOUJQLEdBRUosQ0FFQSxHQUFHdUIsYUFBYXlDLFFBQVEsU0FBUyxDQUM3QixJQUFJSCxFQUFXLEdBQ2ZBLEVBQVdwQyxLQUFLd0MsTUFBTTFDLGFBQWF5QyxRQUFRLFVBQzNDLElBQUlqSCxFQUFJLEVBR1IsS0FBTUEsRUFBSzhHLEVBQWUsUUFDdEI1RSxFQUFlNEUsRUFBUzlHLEdBQ1Q4RyxFQUFTOUcsRUFBRSxHQUNYOEcsRUFBUzlHLEVBQUUsR0FDWDhHLEVBQVM5RyxFQUFFLEdBQ1g4RyxFQUFTOUcsRUFBRSxJQUMxQkEsR0FBTSxDQUVkLENEaWFzQjBDLFNBQVNDLGNBQWMsdUJBQy9CUyxpQkFBaUIsU0FBUyxLQUNwQ0MsSUFDQSxJQUFJLElBQUlyRCxFQUFJLEVBQUdBLEVBQUssRUFBWUgsWUFBY0csSUFDMUMrRCxJQUNBQyxFQUFrQmhFLEdBQ2xCa0UsRUFBZ0JsRSxFQUNwQixJQWhjZTBDLFNBQVNDLGNBQWMsaUNBRS9CUyxpQkFBaUIsU0FBUyxNQVF6QyxXQUNJLE1BQU1nQixFQUFlMUIsU0FBU0csY0FBYyxPQUN0Q3NFLEVBQVd6RSxTQUFTRyxjQUFjLFNBQ2xDdUUsRUFBVzFFLFNBQVNHLGNBQWMsU0FDbEM0QyxFQUFXL0MsU0FBU0csY0FBYyxVQUV4Q3VCLEVBQWF0QixhQUFhLFFBQVEsZUFFbEMyQyxFQUFTM0MsYUFBYSxPQUFPLFVBQzdCMkMsRUFBUzFDLFlBQWMsS0FFdkJxRSxFQUFTdEUsYUFBYSxLQUFLLGtCQUMzQnFFLEVBQVNwRSxZQUFjLFdBQ3ZCb0UsRUFBU3JFLGFBQWEsTUFBTSxrQkFFNUJzQixFQUFhcEIsWUFBWW1FLEdBQ3pCL0MsRUFBYXBCLFlBQVlvRSxHQUN6QmhELEVBQWFwQixZQUFZeUMsR0FFSi9DLFNBQVNDLGNBQWMsUUFDL0JLLFlBQVlvQixFQUU3QixDQTdCUWlELEdBZ0NSLFdBQ0ksTUFBTXpCLEVBQTJCbEQsU0FBU2lCLGlCQUFpQix5QkFFM0QsSUFBSSxJQUFJa0MsS0FBT0QsRUFDZkMsRUFBSUMsTUFBTUMsT0FBUyxXQUV2QixDQXJDUXVCLEdBd0NSLFdBQ0ksTUFBTUMsRUFBb0I3RSxTQUFTQyxjQUFjLHVCQUUzQzZFLEdBRGM5RSxTQUFTQyxjQUFjLGdCQUN6QkQsU0FBU0MsY0FBYyx1QkFFekM0RSxFQUFrQm5FLGlCQUFpQixTQUFTLEtBQ2xCLElBQW5Cb0UsRUFBVVgsT0FDU1ksTUFBbkJELEVBQVVYLE9BQ1MsTUFBbkJXLEVBQVVYLFFBRVQsRUFBbUNXLEVBQVVYLE9BQzdDdEUsRUFBMEJpRixFQUFVWCxPQXVCaEQsV0FDSSxNQUFNVSxFQUFvQjdFLFNBQVNDLGNBQWMsdUJBQzNDK0UsRUFBY2hGLFNBQVNDLGNBQWMsZ0JBQzNDNEUsRUFBa0IxRCxjQUFjQSxjQUFjQyxZQUFZNEQsRUFDOUQsQ0ExQllDLEdBOEJaLFdBQ0ksTUFBTS9CLEVBQTJCbEQsU0FBU2lCLGlCQUFpQix5QkFFdkQsSUFBSSxJQUFJa0MsS0FBT0QsRUFDWEMsRUFBSUMsTUFBTUMsT0FBUyxTQUUvQixDQW5DWTZCLEdBQ0EzRSxJQUNBUSxJQUNKLEdBSVIsQ0EzRFFvRSxFQUFlLElBNk1GbkYsU0FBU0MsY0FBYyxnQ0FFL0JTLGlCQUFpQixTQUFTLEtBQy9Cd0IsSUFDQWUsSUF1R1IsV0FDSSxNQUFNbUMsRUFBZXBGLFNBQVNDLGNBQWMsb0JBQ3RDaUUsRUFBZ0JsRSxTQUFTaUIsaUJBQWlCLG1CQUMxQzJCLEVBQVM1QyxTQUFTQyxjQUFjLG9CQUl0Q21GLEVBQWExRSxpQkFBaUIsU0FBUyxLQUNuQyxJQUFJaEQsRUFBT3dHLEVBQWMsR0FBR0MsTUFDeEIxRSxFQUFReUUsRUFBYyxHQUFHQyxNQUN6QnpFLEVBQU93RSxFQUFjLEdBQUdDLE1BQ3hCN0YsRUFBVzRGLEVBQWMsR0FBR0MsTUFDNUI1RixFQUFjcUUsRUFBT3VCLE1BRXRCekcsR0FDQStCLEdBQ0FDLEdBQ0FwQixJQUNLa0IsRUFBZTlCLEVBQUsrQixFQUFNQyxFQUFLcEIsRUFBU0MsR0FDeEMrRSxJQUNBRyxJQUNBRyxJQUNMLEdBSVgsQ0FoSVF5QixFQUFtQixHQ3hMM0IsQ0NsQ0EsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvdGVtcGxhdGVGaWxlcy9hcnJheU9mUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL3Rhc2suanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZUYXNrcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3Byb2plY3RNYW5hZ2UvbmV3UHJvamVjdENhbGwuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9kb20vZG9tLmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvaW5pdC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBhcnJheU9mUHJvamVjdHMoKXtcbiAgICBjb25zdCBhcnJheU9mUHJvamVjdHMgPSBbXTtcblxuXG4gICAgY29uc3QgcHVzaFByb2plY3RJbnRvQXJyYXkgPSAocHJvamVjdCkgPT57XG4gICAgICAgIGFycmF5T2ZQcm9qZWN0cy5wdXNoKHByb2plY3QpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldE5hbWUgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZQcm9qZWN0c1tjb3VudF0uZ2V0TmFtZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldExlbmd0aCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZQcm9qZWN0cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlRWxlbWVudCA9IChpKSA9PiB7XG4gICAgICAgIGFycmF5T2ZQcm9qZWN0cy5zcGxpY2UoaSwxKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3B1c2hQcm9qZWN0SW50b0FycmF5LGdldE5hbWUsZ2V0TGVuZ3RoLGRlbGV0ZUVsZW1lbnR9O1xufVxuXG5jb25zdCBwcm9qZWN0QXJyYXkgPSBhcnJheU9mUHJvamVjdHMoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdEFycmF5OyIsImNsYXNzIFByb2plY3R7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lKXtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBjaGFuZ2VOYW1lKG5ld05hbWUpe1xuICAgICAgICB0aGlzLm5hbWUgPSBuZXdOYW1lO1xuICAgIH1cblxuICAgIGdldE5hbWUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld1Byb2plY3QobmFtZSl7XG4gICAgY29uc3QgbmV3UHJvamVjdCA9IG5ldyBQcm9qZWN0KG5hbWUpO1xuICAgIHJldHVybiBuZXdQcm9qZWN0O1xufVxuXG4vL0FkZCB0aGlzIGZ1bmN0aW9uYWxpdHkgaGVyZSB0byBub3QgaGF2ZSBhbm90aGVyIGZpbGUgdG8gbWFuYWdlXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU5ld1Byb2plY3Q7IiwiZnVuY3Rpb24gY3JlYXRlVGFza0ZvclRvZG8obmV3VGl0bGUsbmV3RGVzY3JpcHRpb24sbmV3RHVlRGF0ZSxuZXdQcmlvcml0eSxuZXdQcm9qZWN0TGluayl7XG4gICAgbGV0IHRpdGxlID0gbmV3VGl0bGU7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgbGV0IGR1ZURhdGUgPSBuZXdEdWVEYXRlO1xuICAgIGxldCBwcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIGxldCBwcm9qZWN0TGluayA9IG5ld1Byb2plY3RMaW5rO1xuXG4gICAgZnVuY3Rpb24gZ2V0VGl0bGUoKXtcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREZXNjcmlwdGlvbigpe1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGUoKXtcbiAgICAgICAgcmV0dXJuIGR1ZURhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFByaW9yaXR5KCl7XG4gICAgICAgIHJldHVybiBwcmlvcml0eTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UHJvamVjdE5hbWUoKXtcbiAgICAgICAgcmV0dXJuIHByb2plY3RMaW5rO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMaW5rKCl7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TGluaztcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhbmdlTmFtZShuZXdOYW1lKXtcbiAgICAgICAgdGl0bGUgPSBuZXdOYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFuZ2VEZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbil7XG4gICAgICAgIGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb25cbiAgICB9ICAgIFxuICAgIGZ1bmN0aW9uIGNoYW5nZUR1ZURhdGUobmV3RHVlRGF0ZSl7XG4gICAgICAgIGR1ZURhdGUgPSBuZXdEdWVEYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFuZ2VQcmlvcml0eShuZXdQcmlvcml0eSl7XG4gICAgICAgIHByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYW5nZUxpbmsobmV3TGluayl7XG4gICAgICAgIHByb2plY3RMaW5rID0gbmV3TGluaztcbiAgICB9ICAgXG4gICAgXG4gICAgXG5cbiAgICByZXR1cm4ge2dldFRpdGxlLGdldERlc2NyaXB0aW9uLGdldERhdGUsZ2V0UHJpb3JpdHksZ2V0UHJvamVjdE5hbWUsZ2V0TGluayxjaGFuZ2VOYW1lLGNoYW5nZURlc2NyaXB0aW9uLGNoYW5nZUR1ZURhdGUsY2hhbmdlUHJpb3JpdHksY2hhbmdlTGlua307XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlVGFza0ZvclRvZG87IiwiZnVuY3Rpb24gYXJyYXlPZlRhc2tzKCl7XG4gICAgY29uc3QgYXJyYXlPZlRhc2tzID0gW107XG5cbiAgICBjb25zdCBnZXROYW1lID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldFRpdGxlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWRkRWxlbWVudCA9ICh0YXNrKSA9PntcbiAgICAgICAgYXJyYXlPZlRhc2tzLnB1c2godGFzayk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0RGVzY3JpcHRpb24gPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0RGVzY3JpcHRpb24oKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXREdWVEYXRlID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldERhdGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRQcmlvcml0eSA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXRQcmlvcml0eSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldFByb2plY3ROYW1lID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldExpbmsoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRMZW5ndGggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3MubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGdldExpbmsgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0TGluaygpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZUVsZW1lbnQgPSAoY291bnQpID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzLnNwbGljZShjb3VudCwxKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFuZ2VOYW1lID0gKGNvdW50LG5ld05hbWUpID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzW2NvdW50XS5jaGFuZ2VOYW1lKG5ld05hbWUpO1xuICAgIH1cbiAgICBjb25zdCBjaGFuZ2VEZXNjcmlwdGlvbiA9IChjb3VudCxuZXdEZXNjcmlwdGlvbikgPT4ge1xuICAgICAgICBhcnJheU9mVGFza3NbY291bnRdLmNoYW5nZURlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlRHVlRGF0ZSA9IChjb3VudCxuZXdEdWVEYXRlKSA9PiB7XG4gICAgICAgIGFycmF5T2ZUYXNrc1tjb3VudF0uY2hhbmdlRHVlRGF0ZShuZXdEdWVEYXRlKTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlUHJpb3JpdHkgPSAoY291bnQsbmV3UHJpb3JpdHkpID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzW2NvdW50XS5jaGFuZ2VQcmlvcml0eShuZXdQcmlvcml0eSk7XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZUxpbmsgPSAoY291bnQsbmV3TGluaykgPT4ge1xuICAgICAgICBhcnJheU9mVGFza3NbY291bnRdLmNoYW5nZUxpbmsobmV3TGluayk7XG4gICAgfVxuXG5cblxuICAgIHJldHVybiB7YWRkRWxlbWVudCxnZXREZXNjcmlwdGlvbixnZXREdWVEYXRlLGdldFByaW9yaXR5LGdldFByb2plY3ROYW1lLGdldExlbmd0aCxnZXRMaW5rLGdldE5hbWUsZGVsZXRlRWxlbWVudCxjaGFuZ2VOYW1lLGNoYW5nZURlc2NyaXB0aW9uLGNoYW5nZUR1ZURhdGUsY2hhbmdlUHJpb3JpdHksY2hhbmdlTGlua307XG59XG5cbmNvbnN0IHByb2plY3RUYXNrID0gYXJyYXlPZlRhc2tzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHByb2plY3RUYXNrOyIsImltcG9ydCBwcm9qZWN0QXJyYXkgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlByb2plY3RzLmpzXCI7XG5pbXBvcnQgY3JlYXRlTmV3UHJvamVjdCBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9wcm9qZWN0LmpzXCI7XG5pbXBvcnQgY3JlYXRlVGFza0ZvclRvZG8gZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvdGFzay5qc1wiO1xuaW1wb3J0IHByb2plY3RUYXNrIGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZUYXNrcy5qc1wiO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXkobmFtZSl7XG4gICAgbGV0IG5ld1Byb2plY3QgPSBjcmVhdGVOZXdQcm9qZWN0KG5hbWUpO1xuICAgIHByb2plY3RBcnJheS5wdXNoUHJvamVjdEludG9BcnJheShuZXdQcm9qZWN0KTtcbn1cblxuZnVuY3Rpb24gYXV0b0NyZWF0ZVRhc2sobmFtZSxkZXNjcixkYXRlLHByaW9yaXR5LHByb2plY3RMaW5rKXtcbiAgICBjb25zdCBuZXdUYXNrID0gY3JlYXRlVGFza0ZvclRvZG8obmFtZSxkZXNjcixkYXRlLHByaW9yaXR5LHByb2plY3RMaW5rKTtcbiAgICBwcm9qZWN0VGFzay5hZGRFbGVtZW50KG5ld1Rhc2spO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXk7XG5leHBvcnQge2F1dG9DcmVhdGVUYXNrfTtcblxuXG5cblxuIiwiaW1wb3J0IGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXkgZnJvbSBcIi4uL3Byb2plY3RNYW5hZ2UvbmV3UHJvamVjdENhbGwuanNcIjtcbmltcG9ydCBwcm9qZWN0VGFzayBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mVGFza3MuanNcIjtcbmltcG9ydCBwcm9qZWN0QXJyYXkgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlByb2plY3RzLmpzXCI7XG5pbXBvcnQgeyBhdXRvQ3JlYXRlVGFzayB9IGZyb20gXCIuLi9wcm9qZWN0TWFuYWdlL25ld1Byb2plY3RDYWxsLmpzXCI7XG5cblxuZnVuY3Rpb24gc3RhcnROZXdQcm9qZWN0QnV0dG9uKCl7XG4gICAgY29uc3QgbmV3UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25zIGJ1dHRvbjpmaXJzdC1vZi10eXBlJyk7XG5cbiAgICBuZXdQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgZHJhd0Zvcm0oKTtcbiAgICAgICAgYmx1clRoZUZvcm0oKTtcbiAgICAgICAgZHJhd0Zvcm1Mb2dpYygpO1xuICAgIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGRyYXdGb3JtKCl7XG4gICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbmV3TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjb25zdCBva0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIFxuICAgIG5ld0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywncHJvamVjdEZvcm0nKTtcblxuICAgIG9rQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsJ2J1dHRvbicpO1xuICAgIG9rQnV0dG9uLnRleHRDb250ZW50ID0gJ09rJztcblxuICAgIG5ld0lucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCdOZXdQcm9qZWN0TmFtZScpO1xuICAgIG5ld0xhYmVsLnRleHRDb250ZW50ID0gJ05hbWUgPT4gJztcbiAgICBuZXdMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Byb2plY3ROYW1lJyk7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWwpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdJbnB1dCk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG9rQnV0dG9uKTtcblxuICAgIGNvbnN0IGJvZHlTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbiAgICBib2R5U2VsZWN0b3IuYXBwZW5kQ2hpbGQobmV3Q29udGFpbmVyKTtcblxufVxuXG5cbmZ1bmN0aW9uIGJsdXJUaGVGb3JtKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgucHJvamVjdEZvcm0pJyk7XG4gICAgXG4gICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMXB4KSc7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGRyYXdGb3JtTG9naWMoKXtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybSBidXR0b24nKTtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybScpO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybSBpbnB1dCcpO1xuXG4gICAgcHJvamVjdEZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmKGlucHV0Rm9ybS52YWx1ZSAhPSAnJyB8fFxuICAgICAgICAgICBpbnB1dEZvcm0udmFsdWUgIT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgIGlucHV0Rm9ybS52YWx1ZSAhPSBudWxsKXtcblxuICAgICAgICAgICAgY3JlYXRlVGhlUHJvamVjdEFuZEFkZEl0VG9UaGVBcnJheShpbnB1dEZvcm0udmFsdWUpO1xuICAgICAgICAgICAgY3JlYXRlQnV0dG9uRm9yTmV3UHJvamVjdChpbnB1dEZvcm0udmFsdWUpO1xuICAgICAgICAgICAgcmVtb3ZlVGhlRm9ybSgpO1xuICAgICAgICAgICAgdW5ibHVyVGhlRm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheUxvZ2ljQnV0dG9uKCk7XG4gICAgICAgICAgICBsb2NhbHN0b3JhZ2VQcm9qZWN0c0xvZ2ljKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0KG5hbWVPZk5ld0J1dHRvbil7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktcHJvamVjdHMnKTtcbiAgICBjb25zdCBuZXdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcblxuICAgIG5ld0J1dHRvbi50ZXh0Q29udGVudCA9IG5hbWVPZk5ld0J1dHRvbjtcblxuICAgIHByb2plY3RzQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0J1dHRvbik7XG59XG5cblxuZnVuY3Rpb24gcmVtb3ZlVGhlRm9ybSgpe1xuICAgIGNvbnN0IHByb2plY3RGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtIGJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyk7XG4gICAgcHJvamVjdEZvcm1CdXR0b24ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHByb2plY3RGb3JtKTtcbn1cblxuXG5cbmZ1bmN0aW9uIHVuYmx1clRoZUZvcm0oKXtcbiAgICBjb25zdCBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bm90KC5wcm9qZWN0Rm9ybSknKTtcbiAgICBcbiAgICAgICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICAgICAgICAgIGFsbC5zdHlsZS5maWx0ZXIgPSAnYmx1cigwKSc7XG4gICAgICAgICAgICB9XG59XG5cblxuZnVuY3Rpb24gZGlzcGxheUxvZ2ljQnV0dG9uKCl7XG4gICAgY29uc3Qgc2VsZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LXByb2plY3RzIGJ1dHRvbjpsYXN0LW9mLXR5cGUnKTtcbiAgICBjb25zdCBzZWxlY3REaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQnKTtcbiAgICBcblxuICAgIHNlbGVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT4ge1xuICAgICAgICBjbGVhckFsbCgpO1xuXG5cbiAgICAgICAgY29uc3QgZGVsUHJvamVjdEJ0dG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsUHJvamVjdEJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgICAgIGRlbFByb2plY3RCdHRuLnRleHRDb250ZW50ID0gJ2RlbGV0ZSB0aGlzIHByb2plY3QnO1xuICAgICAgICBcblxuICAgICAgICBzZWxlY3REaXNwbGF5LmFwcGVuZENoaWxkKGRlbFByb2plY3RCdHRuKTtcbiAgICAgICAgZGVsZXRlUHJvamVjdExvZ2ljKHNlbGVjdEJ1dHRvbi50ZXh0Q29udGVudCk7XG5cbiAgICAgICAgZGlzcGxheUF0U2NyZWVuKHNlbGVjdEJ1dHRvbi50ZXh0Q29udGVudCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlBdFNjcmVlbihuYW1lT2ZQcm9qZWN0KXtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgaWYocHJvamVjdFRhc2suZ2V0TGluayhpKSA9PT0gbmFtZU9mUHJvamVjdCl7XG4gICAgICAgICAgICBjcmVhdGVOZXdEaXZzV2l0aERlbEJ1dHRvbigpO1xuICAgICAgICAgICAgcG9wdWxhdGVDb250YWluZXIoaSk7XG4gICAgICAgICAgICBkZWxldGVUYXNrTG9naWMoKTtcbiAgICAgICAgICAgIGFkZFJlbmFtaW5nQnR0bihpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFxufVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCl7XG4gICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZGVsQnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IHNlbGVjdERpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCcpO1xuICAgIFxuICAgIGRlbEJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGRlbEJ0dG4udGV4dENvbnRlbnQgPSAnZGVsZXRlIHRoaXMgdGFzayc7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVsQnR0bik7XG4gICAgc2VsZWN0RGlzcGxheS5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xufVxuXG5mdW5jdGlvbiBwb3B1bGF0ZUNvbnRhaW5lcihpKXtcbiAgICBjb25zdCBzZWxlY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCA+IGRpdjpsYXN0LW9mLXR5cGUnKTtcblxuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblxuICAgIG5hbWUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXROYW1lKGkpO1xuICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcHJvamVjdFRhc2suZ2V0RGVzY3JpcHRpb24oaSk7XG4gICAgZHVlRGF0ZS50ZXh0Q29udGVudCA9IHByb2plY3RUYXNrLmdldER1ZURhdGUoaSk7XG4gICAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXRQcmlvcml0eShpKTsgXG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHByaW9yaXR5KTtcblxuICAgIHNlbGVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xuXG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVByb2plY3RMb2dpYyhuYW1lT2ZQcm9qZWN0KXtcbiAgICBjb25zdCBkZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBidXR0b246bnRoLWNoaWxkKDEpJyk7XG5cbiAgICBkZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmKHByb2plY3RUYXNrLmdldExlbmd0aCgpICE9PSAwKXtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZihwcm9qZWN0VGFzay5nZXRMaW5rKGkpID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdFRhc2suZGVsZXRlRWxlbWVudChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHByb2plY3RBcnJheS5nZXRMZW5ndGgoKTsgaisrKXtcbiAgICAgICAgICAgIGlmKHByb2plY3RBcnJheS5nZXROYW1lKGopID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgICAgICBwcm9qZWN0QXJyYXkuZGVsZXRlRWxlbWVudChqKTtcbiAgICAgICAgICAgICAgICBsb2NhbHN0b3JhZ2VQcm9qZWN0c0xvZ2ljKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm15LXByb2plY3RzIGJ1dHRvbicpO1xuXG4gICAgICAgIGZvcihsZXQgZWxlbSBvZiBidXR0b25zKXtcbiAgICAgICAgICAgIGlmKGVsZW0udGV4dENvbnRlbnQgPT09IG5hbWVPZlByb2plY3Qpe1xuICAgICAgICAgICAgICAgIGVsZW0ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyQWxsKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZVByb2plY3RzTG9naWMoKXtcbiAgICBsZXQgYXJyID0gW107XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdEFycmF5LmdldExlbmd0aCgpOyBpKyspe1xuICAgICAgICBhcnIucHVzaChwcm9qZWN0QXJyYXkuZ2V0TmFtZShpKSk7XG4gICAgfVxuXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcm9qZWN0c1wiLCBKU09OLnN0cmluZ2lmeShhcnIpKTtcbn1cblxuLy8gQUREIE5FVyBFVkVOVCBUQVNLXG5cbmZ1bmN0aW9uIGFkZE5ld0V2ZW50QnV0dG9uKCl7XG4gICAgY29uc3QgbmV3RXZlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9ucyBidXR0b246bnRoLWNoaWxkKDIpJyk7XG4gICAgXG4gICAgbmV3RXZlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGRyYXdGb3JtVGFzaygpO1xuICAgICAgICBibHVyVGhlRm9ybVRhc2soKTtcbiAgICAgICAgZHJhd0Zvcm1Mb2dpY1Rhc2soKTtcbiAgICB9KTtcblxufVxuXG5mdW5jdGlvbiBkcmF3Rm9ybVRhc2soKXtcbiAgICBjb25zdCBuZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGNvbnN0IG5ld0xhYmVsTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGNvbnN0IG5ld0xhYmVsRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gICAgY29uc3QgbmV3TGFiZWxEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dERhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gICAgY29uc3QgbmV3TGFiZWxQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXRQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcbiAgICBmb3JtLnNldEF0dHJpYnV0ZSgnZm9yJywnbGFiZWxTZWxlY3QnKTtcbiAgICBmb3JtLnRleHRDb250ZW50ID0gJ3doaWNoIHByb2plY3QnO1xuICAgIHNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2lkJywnbGFiZWxTZWxlY3QnKTtcbiAgICBzZWxlY3Quc2V0QXR0cmlidXRlKCduYW1lJywnc2VsZWN0T3B0aW9uJyk7XG5cbiAgICBjb25zdCBkZWZPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBkZWZPcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsJzAnKTtcbiAgICBkZWZPcHRpb24udGV4dENvbnRlbnQgPSAnbm9uZSc7XG4gICAgc2VsZWN0LmFwcGVuZENoaWxkKGRlZk9wdGlvbik7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdEFycmF5LmdldExlbmd0aCgpOyBpKyspe1xuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gYCR7cHJvamVjdEFycmF5LmdldE5hbWUoaSl9YDtcbiAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLGAke3Byb2plY3RBcnJheS5nZXROYW1lKGkpfWApO1xuICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9XG5cblxuICAgIGNvbnN0IG9rQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cblxuICAgIFxuICAgIG5ld0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywndGFza0Zvcm0nKTtcblxuICAgIG9rQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsJ2J1dHRvbicpO1xuICAgIG9rQnV0dG9uLnRleHRDb250ZW50ID0gJ09rJztcblxuXG5cbiAgICBuZXdJbnB1dE5hbWUuc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Rhc2tOYW1lJyk7XG4gICAgbmV3TGFiZWxOYW1lLnRleHRDb250ZW50ID0nTmFtZSA9PiAnO1xuICAgIG5ld0xhYmVsTmFtZS5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Rhc2tOYW1lJyk7XG5cbiAgICBuZXdJbnB1dERlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZSgnaWQnLCdOZXdUYXNrRGVzY3JpcHRpb24nKTtcbiAgICBuZXdMYWJlbERlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gJ0Rlc2NyaXB0aW9uID0+ICc7XG4gICAgbmV3TGFiZWxEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Rhc2tEZXNjcmlwdGlvbicpO1xuXG4gICAgbmV3SW5wdXREYXRlLnNldEF0dHJpYnV0ZSgnaWQnLCdOZXdUYXNrRGF0ZScpO1xuICAgIG5ld0xhYmVsRGF0ZS50ZXh0Q29udGVudCA9ICdEdWVEYXRlID0+ICc7XG4gICAgbmV3TGFiZWxEYXRlLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza0RhdGUnKTtcblxuICAgIG5ld0lucHV0UHJpb3JpdHkuc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Rhc2tQcmlvJyk7XG4gICAgbmV3TGFiZWxQcmlvcml0eS50ZXh0Q29udGVudCA9ICdQcmlvcml0eSA9PiAnO1xuICAgIG5ld0xhYmVsUHJpb3JpdHkuc2V0QXR0cmlidXRlKCdmb3InLCdOZXdUYXNrUHJpbycpO1xuXG4gICBcblxuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0xhYmVsTmFtZSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0TmFtZSk7XG5cbiAgICBuZXdJbnB1dE5hbWUuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsXCI8YnI+XCIpO1xuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0xhYmVsRGVzY3JpcHRpb24pO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdJbnB1dERlc2NyaXB0aW9uKTtcblxuICAgIG5ld0lucHV0RGVzY3JpcHRpb24uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsXCI8YnI+XCIpO1xuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0xhYmVsRGF0ZSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0RGF0ZSk7XG5cbiAgICBuZXdJbnB1dERhdGUuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsXCI8YnI+XCIpO1xuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0xhYmVsUHJpb3JpdHkpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdJbnB1dFByaW9yaXR5KTtcblxuICAgIG5ld0lucHV0UHJpb3JpdHkuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsXCI8YnI+XCIpO1xuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGZvcm0pO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChzZWxlY3QpO1xuXG4gICAgc2VsZWN0Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcbiAgICBcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQob2tCdXR0b24pO1xuXG4gICAgY29uc3QgYm9keVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgIGJvZHlTZWxlY3Rvci5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xuXG59XG5cbmZ1bmN0aW9uIGRyYXdGb3JtTG9naWNUYXNrKCl7XG4gICAgY29uc3Qgb2tCdXR0b25UYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtIGJ1dHRvbicpO1xuICAgIGNvbnN0IGlucHV0U2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFza0Zvcm0gaW5wdXQnKTtcbiAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0gc2VsZWN0Jyk7XG5cbiAgICBcblxuICAgIG9rQnV0dG9uVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgICAgICBsZXQgbmFtZSA9IGlucHV0U2VsZWN0b3JbMF0udmFsdWU7XG4gICAgICAgIGxldCBkZXNjciA9IGlucHV0U2VsZWN0b3JbMV0udmFsdWU7XG4gICAgICAgIGxldCBkYXRlID0gaW5wdXRTZWxlY3RvclsyXS52YWx1ZTtcbiAgICAgICAgbGV0IHByaW9yaXR5ID0gaW5wdXRTZWxlY3RvclszXS52YWx1ZTtcbiAgICAgICAgbGV0IHByb2plY3RMaW5rID0gc2VsZWN0LnZhbHVlO1xuXG4gICAgICAgIGlmKG5hbWUgICYmXG4gICAgICAgICAgIGRlc2NyICYmXG4gICAgICAgICAgIGRhdGUgICYmXG4gICAgICAgICAgIHByaW9yaXR5KXtcbiAgICAgICAgICAgICAgICBhdXRvQ3JlYXRlVGFzayhuYW1lLGRlc2NyLGRhdGUscHJpb3JpdHkscHJvamVjdExpbmspO1xuICAgICAgICAgICAgICAgIHJlbW92ZVRoZUZvcm1UYXNrKCk7XG4gICAgICAgICAgICAgICAgdW5ibHVyVGhlRm9ybVRhc2soKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VUYXNrc0xvZ2ljKCk7XG4gICAgICAgICAgIH1cblxuXG4gICAgfSk7XG59XG5cblxuZnVuY3Rpb24gYmx1clRoZUZvcm1UYXNrKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgudGFza0Zvcm0pJyk7XG4gICAgXG4gICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMXB4KSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUaGVGb3JtVGFzaygpe1xuICAgIGNvbnN0IHRhc2tGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtIGJ1dHRvbicpO1xuICAgIGNvbnN0IHRhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtJyk7XG4gICAgdGFza0Zvcm1CdXR0b24ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRhc2tGb3JtKTtcbn1cblxuZnVuY3Rpb24gdW5ibHVyVGhlRm9ybVRhc2soKXtcbiAgICBjb25zdCBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bm90KC50YXNrRm9ybSknKTtcbiAgICBcbiAgICAgICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICAgICAgICAgIGFsbC5zdHlsZS5maWx0ZXIgPSAnYmx1cigwKSc7XG4gICAgICAgICAgICB9XG59XG5cblxuZnVuY3Rpb24gZGVsZXRlVGFza0xvZ2ljKCl7XG4gICAgY29uc3QgZGVsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSBidXR0b246bnRoLWNoaWxkKDEpJyk7XG4gICAgY29uc3QgbmFtZUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSA+IGRpdiA+IHA6bnRoLWNoaWxkKDEpJyk7XG5cbiAgICBkZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKSA7IGkrKyl7XG4gICAgICAgICAgICBpZihwcm9qZWN0VGFzay5nZXROYW1lKGkpID09PSBuYW1lRmllbGQudGV4dENvbnRlbnQpe1xuICAgICAgICAgICAgICAgIHByb2plY3RUYXNrLmRlbGV0ZUVsZW1lbnQoaSk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlVGFza3NMb2dpYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsZWFyQWxsKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFJlbmFtaW5nQnR0bihpKXtcbiAgICBjb25zdCBsYXN0RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZScpO1xuICAgIGNvbnN0IGxhc3RCdHRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSBidXR0b246bnRoLWNoaWxkKDEpJyk7XG4gICAgY29uc3QgcmVuYW1lQnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IHNlbGVjdERpdkludGVybmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSBkaXYnKTtcblxuICAgIHJlbmFtZUJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgcmVuYW1lQnR0bi50ZXh0Q29udGVudCA9ICdSZW5hbWUgdGhlIEZvcm0nO1xuXG4gICAgbGFzdEJ0dG4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocmVuYW1lQnR0biwgbGFzdEJ0dG4ubmV4dFNpYmxpbmcpO1xuXG4gICAgcmVuYW1lQnR0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZHJhd0Zvcm1UYXNrKCk7XG4gICAgICAgIGJsdXJUaGVGb3JtVGFzaygpO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBzZWxlY3QnKTtcbiAgICAgICAgY29uc3QgaW5wdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrRm9ybSBpbnB1dCcpO1xuICAgICAgICBcbiAgICAgICAgaW5wdXRTZWxlY3RvclswXS52YWx1ZSA9IHByb2plY3RUYXNrLmdldE5hbWUoaSk7XG4gICAgICAgIGlucHV0U2VsZWN0b3JbMV0udmFsdWUgPSBwcm9qZWN0VGFzay5nZXREZXNjcmlwdGlvbihpKTtcbiAgICAgICAgaW5wdXRTZWxlY3RvclsyXS52YWx1ZSA9IHByb2plY3RUYXNrLmdldER1ZURhdGUoaSk7XG4gICAgICAgIGlucHV0U2VsZWN0b3JbM10udmFsdWUgPSBwcm9qZWN0VGFzay5nZXRQcmlvcml0eShpKTtcbiAgICAgICAgc2VsZWN0LnZhbHVlID0gcHJvamVjdFRhc2suZ2V0TGluayhpKTtcblxuICAgICAgICBjb25zdCBva0J1dHRvblRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0gYnV0dG9uJyk7XG4gICAgICAgIG9rQnV0dG9uVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmNoYW5nZU5hbWUoaSxpbnB1dFNlbGVjdG9yWzBdLnZhbHVlKTtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmNoYW5nZURlc2NyaXB0aW9uKGksaW5wdXRTZWxlY3RvclsxXS52YWx1ZSk7XG4gICAgICAgICAgICBwcm9qZWN0VGFzay5jaGFuZ2VEdWVEYXRlKGksaW5wdXRTZWxlY3RvclsyXS52YWx1ZSk7XG4gICAgICAgICAgICBwcm9qZWN0VGFzay5jaGFuZ2VQcmlvcml0eShpLGlucHV0U2VsZWN0b3JbM10udmFsdWUpO1xuICAgICAgICAgICAgcHJvamVjdFRhc2suY2hhbmdlTGluayhpLHNlbGVjdC52YWx1ZSk7XG5cbiAgICAgICAgICAgIHVuYmx1clRoZUZvcm1UYXNrKCk7XG4gICAgICAgICAgICByZW1vdmVUaGVGb3JtVGFzaygpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlVGFza3NMb2dpYygpO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2NhbFN0b3JhZ2VUYXNrc0xvZ2ljKCl7XG4gICAgbGV0IGFyclRhc2tzID0gW107XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2suZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgIGFyclRhc2tzLnB1c2gocHJvamVjdFRhc2suZ2V0TmFtZShpKSk7XG4gICAgICAgIGFyclRhc2tzLnB1c2gocHJvamVjdFRhc2suZ2V0RGVzY3JpcHRpb24oaSkpO1xuICAgICAgICBhcnJUYXNrcy5wdXNoKHByb2plY3RUYXNrLmdldER1ZURhdGUoaSkpO1xuICAgICAgICBhcnJUYXNrcy5wdXNoKHByb2plY3RUYXNrLmdldFByaW9yaXR5KGkpKTtcbiAgICAgICAgYXJyVGFza3MucHVzaChwcm9qZWN0VGFzay5nZXRMaW5rKGkpKTtcbiAgICB9XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRhc2tzXCIsIEpTT04uc3RyaW5naWZ5KGFyclRhc2tzKSk7XG59XG5cblxuLy9ERUZBVUxUIEJVVFRPTiBNRVRIT0RcbmZ1bmN0aW9uIHN0YXJ0RGVmYXVsdEJ1dHRvbigpe1xuICAgIGNvbnN0IGRlZmF1bHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktcHJvamVjdHMgYnV0dG9uJyk7XG4gICAgZGVmYXVsdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY2xlYXJBbGwoKTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IChwcm9qZWN0VGFzay5nZXRMZW5ndGgoKSk7IGkrKyl7XG4gICAgICAgICAgICBjcmVhdGVOZXdEaXZzV2l0aERlbEJ1dHRvbigpO1xuICAgICAgICAgICAgcG9wdWxhdGVDb250YWluZXIoaSk7XG4gICAgICAgICAgICBhZGRSZW5hbWluZ0J0dG4oaSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJBbGwoKXtcbiAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b2RvLWJvYXJkIConKTtcblxuICAgIGZvcihsZXQgZWxlbSBvZiBib2FyZCl7XG4gICAgICAgIGVsZW0ucmVtb3ZlKCk7XG4gICAgfVxufVxuXG5cblxuXG5cblxuXG5cblxuZXhwb3J0IHtzdGFydE5ld1Byb2plY3RCdXR0b24sXG4gICAgICAgIGNsZWFyQWxsLFxuICAgICAgICBhZGROZXdFdmVudEJ1dHRvbixcbiAgICAgICAgc3RhcnREZWZhdWx0QnV0dG9uLFxuICAgICAgICBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5LFxuICAgICAgICBjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0LFxuICAgICAgICBkaXNwbGF5TG9naWNCdXR0b24sXG4gICAgICAgIGRlbGV0ZVRhc2tMb2dpYyxcbiAgICAgICAgYWRkUmVuYW1pbmdCdHRufTsiLCJpbXBvcnQgeyBzdGFydE5ld1Byb2plY3RCdXR0b24sIGNsZWFyQWxsLCBhZGROZXdFdmVudEJ1dHRvbiwgc3RhcnREZWZhdWx0QnV0dG9uLCBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5LCBjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0LCBkaXNwbGF5TG9naWNCdXR0b24sIGRlbGV0ZVRhc2tMb2dpYywgYWRkUmVuYW1pbmdCdHRuIH0gZnJvbSBcIi4vZG9tL2RvbS5qc1wiO1xuaW1wb3J0IHsgYXV0b0NyZWF0ZVRhc2sgfSBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlL25ld1Byb2plY3RDYWxsLmpzXCI7XG5pbXBvcnQgcHJvamVjdEFycmF5IGZyb20gXCIuL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlByb2plY3RzLmpzXCI7XG5pbXBvcnQgcHJvamVjdFRhc2sgZnJvbSBcIi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mVGFza3MuanNcIjtcblxuY29uc3QgaW5pdCA9IGZ1bmN0aW9uKCl7XG5cbiAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RzXCIpKXtcbiAgICAgICAgbGV0IGFyciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0c1wiKSk7XG5cbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKyl7XG4gICAgICAgIGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXkoYXJyW2pdKTtcbiAgICAgICAgY3JlYXRlQnV0dG9uRm9yTmV3UHJvamVjdChhcnJbal0pO1xuICAgICAgICBkaXNwbGF5TG9naWNCdXR0b24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGFza3NcIikpe1xuICAgICAgICBsZXQgYXJyVGFza3MgPSBbXTtcbiAgICAgICAgYXJyVGFza3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGFza3NcIikpO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgd2hpbGUoaSA8IChhcnJUYXNrcy5sZW5ndGgpKXtcbiAgICAgICAgICAgIGF1dG9DcmVhdGVUYXNrKGFyclRhc2tzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyVGFza3NbaSsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyclRhc2tzW2krMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJUYXNrc1tpKzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyVGFza3NbaSs0XSk7XG4gICAgICAgICAgICBpID0gaSs1OyAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnREZWZhdWx0QnV0dG9uKCk7XG4gICAgc3RhcnROZXdQcm9qZWN0QnV0dG9uKCk7XG4gICAgYWRkTmV3RXZlbnRCdXR0b24oKTtcbiAgICBcblxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGluaXQ7XG5cbiIsImltcG9ydCBpbml0IGZyb20gJy4vbW9kdWxlcy9pbml0LmpzJztcblxuXG5cbmluaXQoKTsiXSwibmFtZXMiOlsicHJvamVjdEFycmF5IiwiYXJyYXlPZlByb2plY3RzIiwicHVzaFByb2plY3RJbnRvQXJyYXkiLCJwcm9qZWN0IiwicHVzaCIsImdldE5hbWUiLCJjb3VudCIsImdldExlbmd0aCIsImxlbmd0aCIsImRlbGV0ZUVsZW1lbnQiLCJpIiwic3BsaWNlIiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRoaXMiLCJjaGFuZ2VOYW1lIiwibmV3TmFtZSIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwibmV3UHJpb3JpdHkiLCJuZXdQcm9qZWN0TGluayIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJwcm9qZWN0TGluayIsImdldFRpdGxlIiwiZ2V0RGVzY3JpcHRpb24iLCJnZXREYXRlIiwiZ2V0UHJpb3JpdHkiLCJnZXRQcm9qZWN0TmFtZSIsImdldExpbmsiLCJjaGFuZ2VEZXNjcmlwdGlvbiIsImNoYW5nZUR1ZURhdGUiLCJjaGFuZ2VQcmlvcml0eSIsImNoYW5nZUxpbmsiLCJuZXdMaW5rIiwicHJvamVjdFRhc2siLCJhcnJheU9mVGFza3MiLCJhZGRFbGVtZW50IiwidGFzayIsImdldER1ZURhdGUiLCJhdXRvQ3JlYXRlVGFzayIsImRlc2NyIiwiZGF0ZSIsIm5ld1Rhc2siLCJuZXdQcm9qZWN0IiwiY3JlYXRlQnV0dG9uRm9yTmV3UHJvamVjdCIsIm5hbWVPZk5ld0J1dHRvbiIsInByb2plY3RzQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmV3QnV0dG9uIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5TG9naWNCdXR0b24iLCJzZWxlY3RCdXR0b24iLCJzZWxlY3REaXNwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFyQWxsIiwiZGVsUHJvamVjdEJ0dG4iLCJuYW1lT2ZQcm9qZWN0IiwiaiIsImxvY2Fsc3RvcmFnZVByb2plY3RzTG9naWMiLCJidXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsImVsZW0iLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVOZXdEaXZzV2l0aERlbEJ1dHRvbiIsInBvcHVsYXRlQ29udGFpbmVyIiwiZGVsZXRlVGFza0xvZ2ljIiwiYWRkUmVuYW1pbmdCdHRuIiwiZGlzcGxheUF0U2NyZWVuIiwibmV3Q29udGFpbmVyIiwiZGVsQnR0biIsInNlbGVjdENvbnRhaW5lciIsImFyciIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZHJhd0Zvcm1UYXNrIiwibmV3TGFiZWxOYW1lIiwibmV3SW5wdXROYW1lIiwibmV3TGFiZWxEZXNjcmlwdGlvbiIsIm5ld0lucHV0RGVzY3JpcHRpb24iLCJuZXdMYWJlbERhdGUiLCJuZXdJbnB1dERhdGUiLCJuZXdMYWJlbFByaW9yaXR5IiwibmV3SW5wdXRQcmlvcml0eSIsImZvcm0iLCJzZWxlY3QiLCJkZWZPcHRpb24iLCJvcHRpb24iLCJva0J1dHRvbiIsImluc2VydEFkamFjZW50SFRNTCIsImJsdXJUaGVGb3JtVGFzayIsImFsbEV4Y2VwdE91ckZvcm1TZWxlY3RvciIsImFsbCIsInN0eWxlIiwiZmlsdGVyIiwicmVtb3ZlVGhlRm9ybVRhc2siLCJ0YXNrRm9ybUJ1dHRvbiIsInRhc2tGb3JtIiwidW5ibHVyVGhlRm9ybVRhc2siLCJkZWxCdXR0b24iLCJuYW1lRmllbGQiLCJsb2NhbFN0b3JhZ2VUYXNrc0xvZ2ljIiwibGFzdEJ0dG4iLCJyZW5hbWVCdHRuIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwiaW5wdXRTZWxlY3RvciIsInZhbHVlIiwiYXJyVGFza3MiLCJib2FyZCIsInJlbW92ZSIsImdldEl0ZW0iLCJwYXJzZSIsIm5ld0xhYmVsIiwibmV3SW5wdXQiLCJkcmF3Rm9ybSIsImJsdXJUaGVGb3JtIiwicHJvamVjdEZvcm1CdXR0b24iLCJpbnB1dEZvcm0iLCJ1bmRlZmluZWQiLCJwcm9qZWN0Rm9ybSIsInJlbW92ZVRoZUZvcm0iLCJ1bmJsdXJUaGVGb3JtIiwiZHJhd0Zvcm1Mb2dpYyIsIm9rQnV0dG9uVGFzayIsImRyYXdGb3JtTG9naWNUYXNrIl0sInNvdXJjZVJvb3QiOiIifQ==