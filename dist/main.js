(()=>{"use strict";const e=function(){const e=[];return{pushProjectIntoArray:t=>{e.push(t)},getName:t=>e[t].getName(),getLength:()=>e.length,deleteElement:()=>{e.splice(i,1)}}}(),t=e;class n{constructor(e){this.name=e}changeName(e){this.name=e}getName(){return this.name}}const o=function(){const e=[];return{addElement:t=>{e.push(t)},getDescription:t=>e[t].getDescription(),getDueDate:t=>e[t].getDate(),getPriority:t=>e[t].getPriority(),getProjectName:t=>e[t].getLink(),getLength:()=>e.length,getLink:t=>e[t].getLink(),getName:t=>e[t].getTitle(),deleteElement:t=>{e.splice(t,1)},changeName:(t,n)=>{e[t].changeName(n)},changeDescription:(t,n)=>{e[t].changeDescription(n)},changeDueDate:(t,n)=>{e[t].changeDueDate(n)},changePriority:(t,n)=>{e[t].changePriority(n)},changeLink:(t,n)=>{e[t].changeLink(n)}}}(),r=o,c=function(e){let o=function(e){return new n(e)}(e);t.pushProjectIntoArray(o)};function u(){const e=document.createElement("div"),t=document.createElement("button"),n=document.querySelector(".todo-board");t.setAttribute("type","button"),t.textContent="delete this task",e.appendChild(t),n.appendChild(e)}function l(e){const t=document.querySelector(".todo-board > div:last-of-type"),n=document.createElement("div"),o=document.createElement("p"),c=document.createElement("p"),u=document.createElement("p"),l=document.createElement("p");o.textContent=r.getName(e),c.textContent=r.getDescription(e),u.textContent=r.getDueDate(e),l.textContent=r.getPriority(e),n.appendChild(o),n.appendChild(c),n.appendChild(u),n.appendChild(l),t.appendChild(n)}function a(){const e=document.createElement("div"),n=document.createElement("label"),o=document.createElement("input"),r=document.createElement("label"),c=document.createElement("input"),u=document.createElement("label"),l=document.createElement("input"),i=document.createElement("label"),a=document.createElement("input"),d=document.createElement("label"),m=document.createElement("select");d.setAttribute("for","labelSelect"),d.textContent="which project",m.setAttribute("id","labelSelect"),m.setAttribute("name","selectOption");const s=document.createElement("option");s.setAttribute("value","0"),s.textContent="none",m.appendChild(s);for(let e=0;e<t.getLength();e++){const n=document.createElement("option");n.textContent=`${t.getName(e)}`,n.setAttribute("value",`${t.getName(e)}`),m.appendChild(n)}const p=document.createElement("button");e.setAttribute("class","taskForm"),p.setAttribute("type","button"),p.textContent="Ok",o.setAttribute("id","NewTaskName"),n.textContent="Name => ",n.setAttribute("for","NewTaskName"),c.setAttribute("id","NewTaskDescription"),r.textContent="Description => ",r.setAttribute("for","NewTaskDescription"),l.setAttribute("id","NewTaskDate"),u.textContent="DueDate => ",u.setAttribute("for","NewTaskDate"),a.setAttribute("id","NewTaskPrio"),i.textContent="Priority => ",i.setAttribute("for","NewTaskPrio"),e.appendChild(n),e.appendChild(o),o.insertAdjacentHTML("afterend","<br>"),e.appendChild(r),e.appendChild(c),c.insertAdjacentHTML("afterend","<br>"),e.appendChild(u),e.appendChild(l),l.insertAdjacentHTML("afterend","<br>"),e.appendChild(i),e.appendChild(a),a.insertAdjacentHTML("afterend","<br>"),e.appendChild(d),e.appendChild(m),m.insertAdjacentHTML("afterend","<br>"),e.appendChild(p),document.querySelector("body").appendChild(e)}function d(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(1px)"}function m(){const e=document.querySelector(".taskForm button"),t=document.querySelector(".taskForm");e.parentElement.parentElement.removeChild(t)}function s(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(0)"}function p(){const e=document.querySelector(".todo-board div:last-of-type button:nth-child(1)"),t=document.querySelector(".todo-board div:last-of-type > div > p:nth-child(1)");e.addEventListener("click",(()=>{for(let e=0;e<r.getLength();e++)r.getName(e)===t.textContent&&r.deleteElement(e);b()}))}function h(e){const t=document.querySelector(".todo-board div:last-of-type"),n=document.createElement("button"),o=document.querySelector(".todo-board div:last-of-type div");n.setAttribute("type","button"),n.textContent="Rename the Form",t.insertBefore(n,o),n.addEventListener("click",(()=>{a(),d();const t=document.querySelector(".taskForm select"),n=document.querySelectorAll(".taskForm input");n[0].value=r.getName(e),n[1].value=r.getDescription(e),n[2].value=r.getDueDate(e),n[3].value=r.getPriority(e),t.value=r.getLink(e),document.querySelector(".taskForm button").addEventListener("click",(()=>{r.changeName(e,n[0].value),r.changeDescription(e,n[1].value),r.changeDueDate(e,n[2].value),r.changePriority(e,n[3].value),r.changeLink(e,t.value),s(),m()}))}))}function b(){const e=document.querySelectorAll(".todo-board *");for(let t of e)t.remove()}document.querySelector(".my-projects button").addEventListener("click",(()=>{b();for(let e=0;e<r.getLength();e++)u(),l(e)})),document.querySelector(".buttons button:first-of-type").addEventListener("click",(()=>{!function(){const e=document.createElement("div"),t=document.createElement("label"),n=document.createElement("input"),o=document.createElement("button");e.setAttribute("class","projectForm"),o.setAttribute("type","button"),o.textContent="Ok",n.setAttribute("id","NewProjectName"),t.textContent="Name => ",t.setAttribute("for","NewProjectName"),e.appendChild(t),e.appendChild(n),e.appendChild(o),document.querySelector("body").appendChild(e)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(1px)"}(),function(){const e=document.querySelector(".projectForm button"),n=(document.querySelector(".projectForm"),document.querySelector(".projectForm input"));e.addEventListener("click",(()=>{""==n.value&&null==n.value&&null==n.value||(c(n.value),function(e){const t=document.querySelector(".my-projects"),n=document.createElement("button");n.setAttribute("type","button"),n.textContent=e,t.appendChild(n)}(n.value),function(){const e=document.querySelector(".projectForm button"),t=document.querySelector(".projectForm");e.parentElement.parentElement.removeChild(t)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(0)"}(),function(){const e=document.querySelector(".my-projects button:last-of-type"),n=document.querySelector(".todo-board");e.addEventListener("click",(()=>{b();const o=document.createElement("button");var c;o.setAttribute("type","button"),o.textContent="delete this project",n.appendChild(o),c=e.textContent,document.querySelector(".todo-board button:nth-child(1)").addEventListener("click",(()=>{for(let e=0;e<r.getLength();e++)r.getLink(e)===c&&r.deleteElement(e);for(let e=0;e<t.getLength;e++)if(t.getName(i)===c){t.deleteElement(i);break}const e=document.querySelectorAll(".my-projects button");for(let t of e)t.textContent===c&&t.parentElement.removeChild(t);b()})),function(e){for(let t=0;t<r.getLength();t++)r.getLink(t)===e&&(u(),l(t),p(),h(t))}(e.textContent)}))}())}))}()})),document.querySelector(".buttons button:nth-child(2)").addEventListener("click",(()=>{a(),d(),function(){const e=document.querySelector(".taskForm button"),t=document.querySelectorAll(".taskForm input"),n=document.querySelector(".taskForm select");e.addEventListener("click",(()=>{let e=t[0].value,o=t[1].value,c=t[2].value,u=t[3].value,l=n.value;e&&o&&c&&u&&(function(e,t,n,o,c){const u=function(e,t,n,o,r){let c=e,u=t,l=n,i=o,a=r;return{getTitle:function(){return c},getDescription:function(){return u},getDate:function(){return l},getPriority:function(){return i},getProjectName:function(){return a},getLink:function(){return a},changeName:function(e){c=e},changeDescription:function(e){u=e},changeDueDate:function(e){l=e},changePriority:function(e){i=e},changeLink:function(e){a=e}}}(e,t,n,o,c);r.addElement(u)}(e,o,c,u,l),m(),s())}))}()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWxCM0UsU0FBb0JDLEdBQ2hCMkcsRUFBUTNHLENBQ1osRUFnQnNGWSxrQkFmdEYsU0FBMkJDLEdBQ3ZCb0IsRUFBY3BCLENBQ2xCLEVBYXdHQyxjQVp4RyxTQUF1QkMsR0FDbkJtQixFQUFVbkIsQ0FDZCxFQVVzSEMsZUFUdEgsU0FBd0JDLEdBQ3BCa0IsRUFBV2xCLENBQ2YsRUFPcUlDLFdBTnJJLFNBQW9CQyxHQUNoQm9GLEVBQWNwRixDQUNsQixFQUtKLENGaENvQixDQUFrQnRCLEVBQUt3RyxFQUFNQyxFQUFLbkUsRUFBU29FLEdBQzNELEVBQVlwRyxXQUFXcUcsRUFDM0IsQ0MwVGdCSSxDQUFlL0csRUFBS3dHLEVBQU1DLEVBQUtuRSxFQUFTb0UsR0FDeEM5QyxJQUNBSyxJQUNMLEdBSVgsQ0EvSFErQyxFQUFtQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZQcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlRhc2tzLmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdE1hbmFnZS9uZXdQcm9qZWN0Q2FsbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2RvbS9kb20uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL3Rhc2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gYXJyYXlPZlByb2plY3RzKCl7XG4gICAgY29uc3QgYXJyYXlPZlByb2plY3RzID0gW107XG5cblxuICAgIGNvbnN0IHB1c2hQcm9qZWN0SW50b0FycmF5ID0gKHByb2plY3QpID0+e1xuICAgICAgICBhcnJheU9mUHJvamVjdHMucHVzaChwcm9qZWN0KTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXROYW1lID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mUHJvamVjdHNbY291bnRdLmdldE5hbWUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRMZW5ndGggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mUHJvamVjdHMubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZUVsZW1lbnQgPSAoKSA9PiB7XG4gICAgICAgIGFycmF5T2ZQcm9qZWN0cy5zcGxpY2UoaSwxKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3B1c2hQcm9qZWN0SW50b0FycmF5LGdldE5hbWUsZ2V0TGVuZ3RoLGRlbGV0ZUVsZW1lbnR9O1xufVxuXG5jb25zdCBwcm9qZWN0QXJyYXkgPSBhcnJheU9mUHJvamVjdHMoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdEFycmF5OyIsImNsYXNzIFByb2plY3R7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lKXtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBjaGFuZ2VOYW1lKG5ld05hbWUpe1xuICAgICAgICB0aGlzLm5hbWUgPSBuZXdOYW1lO1xuICAgIH1cblxuICAgIGdldE5hbWUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld1Byb2plY3QobmFtZSl7XG4gICAgY29uc3QgbmV3UHJvamVjdCA9IG5ldyBQcm9qZWN0KG5hbWUpO1xuICAgIHJldHVybiBuZXdQcm9qZWN0O1xufVxuXG4vL0FkZCB0aGlzIGZ1bmN0aW9uYWxpdHkgaGVyZSB0byBub3QgaGF2ZSBhbm90aGVyIGZpbGUgdG8gbWFuYWdlXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU5ld1Byb2plY3Q7IiwiZnVuY3Rpb24gYXJyYXlPZlRhc2tzKCl7XG4gICAgY29uc3QgYXJyYXlPZlRhc2tzID0gW107XG5cbiAgICBjb25zdCBnZXROYW1lID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldFRpdGxlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWRkRWxlbWVudCA9ICh0YXNrKSA9PntcbiAgICAgICAgYXJyYXlPZlRhc2tzLnB1c2godGFzayk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0RGVzY3JpcHRpb24gPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0RGVzY3JpcHRpb24oKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXREdWVEYXRlID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldERhdGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRQcmlvcml0eSA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXRQcmlvcml0eSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldFByb2plY3ROYW1lID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldExpbmsoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRMZW5ndGggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3MubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGdldExpbmsgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0TGluaygpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZUVsZW1lbnQgPSAoY291bnQpID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzLnNwbGljZShjb3VudCwxKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFuZ2VOYW1lID0gKGNvdW50LG5ld05hbWUpID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzW2NvdW50XS5jaGFuZ2VOYW1lKG5ld05hbWUpO1xuICAgIH1cbiAgICBjb25zdCBjaGFuZ2VEZXNjcmlwdGlvbiA9IChjb3VudCxuZXdEZXNjcmlwdGlvbikgPT4ge1xuICAgICAgICBhcnJheU9mVGFza3NbY291bnRdLmNoYW5nZURlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlRHVlRGF0ZSA9IChjb3VudCxuZXdEdWVEYXRlKSA9PiB7XG4gICAgICAgIGFycmF5T2ZUYXNrc1tjb3VudF0uY2hhbmdlRHVlRGF0ZShuZXdEdWVEYXRlKTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlUHJpb3JpdHkgPSAoY291bnQsbmV3UHJpb3JpdHkpID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzW2NvdW50XS5jaGFuZ2VQcmlvcml0eShuZXdQcmlvcml0eSk7XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZUxpbmsgPSAoY291bnQsbmV3TGluaykgPT4ge1xuICAgICAgICBhcnJheU9mVGFza3NbY291bnRdLmNoYW5nZUxpbmsobmV3TGluayk7XG4gICAgfVxuXG5cblxuICAgIHJldHVybiB7YWRkRWxlbWVudCxnZXREZXNjcmlwdGlvbixnZXREdWVEYXRlLGdldFByaW9yaXR5LGdldFByb2plY3ROYW1lLGdldExlbmd0aCxnZXRMaW5rLGdldE5hbWUsZGVsZXRlRWxlbWVudCxjaGFuZ2VOYW1lLGNoYW5nZURlc2NyaXB0aW9uLGNoYW5nZUR1ZURhdGUsY2hhbmdlUHJpb3JpdHksY2hhbmdlTGlua307XG59XG5cbmNvbnN0IHByb2plY3RUYXNrID0gYXJyYXlPZlRhc2tzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHByb2plY3RUYXNrOyIsImltcG9ydCBwcm9qZWN0QXJyYXkgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlByb2plY3RzLmpzXCI7XG5pbXBvcnQgY3JlYXRlTmV3UHJvamVjdCBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9wcm9qZWN0LmpzXCI7XG5pbXBvcnQgY3JlYXRlVGFza0ZvclRvZG8gZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvdGFzay5qc1wiO1xuaW1wb3J0IHByb2plY3RUYXNrIGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZUYXNrcy5qc1wiO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXkobmFtZSl7XG4gICAgbGV0IG5ld1Byb2plY3QgPSBjcmVhdGVOZXdQcm9qZWN0KG5hbWUpO1xuICAgIHByb2plY3RBcnJheS5wdXNoUHJvamVjdEludG9BcnJheShuZXdQcm9qZWN0KTtcbn1cblxuZnVuY3Rpb24gYXV0b0NyZWF0ZVRhc2sobmFtZSxkZXNjcixkYXRlLHByaW9yaXR5LHByb2plY3RMaW5rKXtcbiAgICBjb25zdCBuZXdUYXNrID0gY3JlYXRlVGFza0ZvclRvZG8obmFtZSxkZXNjcixkYXRlLHByaW9yaXR5LHByb2plY3RMaW5rKTtcbiAgICBwcm9qZWN0VGFzay5hZGRFbGVtZW50KG5ld1Rhc2spO1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXk7XG5leHBvcnQge2F1dG9DcmVhdGVUYXNrfTtcblxuXG5cblxuIiwiaW1wb3J0IGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXkgZnJvbSBcIi4uL3Byb2plY3RNYW5hZ2UvbmV3UHJvamVjdENhbGwuanNcIjtcbmltcG9ydCBwcm9qZWN0VGFzayBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mVGFza3MuanNcIjtcbmltcG9ydCBwcm9qZWN0QXJyYXkgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlByb2plY3RzLmpzXCI7XG5pbXBvcnQgeyBhdXRvQ3JlYXRlVGFzayB9IGZyb20gXCIuLi9wcm9qZWN0TWFuYWdlL25ld1Byb2plY3RDYWxsLmpzXCI7XG5cblxuZnVuY3Rpb24gc3RhcnROZXdQcm9qZWN0QnV0dG9uKCl7XG4gICAgY29uc3QgbmV3UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25zIGJ1dHRvbjpmaXJzdC1vZi10eXBlJyk7XG5cbiAgICBuZXdQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgZHJhd0Zvcm0oKTtcbiAgICAgICAgYmx1clRoZUZvcm0oKTtcbiAgICAgICAgZHJhd0Zvcm1Mb2dpYygpO1xuICAgIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGRyYXdGb3JtKCl7XG4gICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbmV3TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjb25zdCBva0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIFxuICAgIG5ld0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywncHJvamVjdEZvcm0nKTtcblxuICAgIG9rQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsJ2J1dHRvbicpO1xuICAgIG9rQnV0dG9uLnRleHRDb250ZW50ID0gJ09rJztcblxuICAgIG5ld0lucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCdOZXdQcm9qZWN0TmFtZScpO1xuICAgIG5ld0xhYmVsLnRleHRDb250ZW50ID0gJ05hbWUgPT4gJztcbiAgICBuZXdMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Byb2plY3ROYW1lJyk7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWwpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdJbnB1dCk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG9rQnV0dG9uKTtcblxuICAgIGNvbnN0IGJvZHlTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbiAgICBib2R5U2VsZWN0b3IuYXBwZW5kQ2hpbGQobmV3Q29udGFpbmVyKTtcblxufVxuXG5cbmZ1bmN0aW9uIGJsdXJUaGVGb3JtKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgucHJvamVjdEZvcm0pJyk7XG4gICAgXG4gICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMXB4KSc7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGRyYXdGb3JtTG9naWMoKXtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybSBidXR0b24nKTtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybScpO1xuICAgIGNvbnN0IGlucHV0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybSBpbnB1dCcpO1xuXG4gICAgcHJvamVjdEZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmKGlucHV0Rm9ybS52YWx1ZSAhPSAnJyB8fFxuICAgICAgICAgICBpbnB1dEZvcm0udmFsdWUgIT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgIGlucHV0Rm9ybS52YWx1ZSAhPSBudWxsKXtcblxuICAgICAgICAgICAgY3JlYXRlVGhlUHJvamVjdEFuZEFkZEl0VG9UaGVBcnJheShpbnB1dEZvcm0udmFsdWUpO1xuICAgICAgICAgICAgY3JlYXRlQnV0dG9uRm9yTmV3UHJvamVjdChpbnB1dEZvcm0udmFsdWUpO1xuICAgICAgICAgICAgcmVtb3ZlVGhlRm9ybSgpO1xuICAgICAgICAgICAgdW5ibHVyVGhlRm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheUxvZ2ljQnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0KG5hbWVPZk5ld0J1dHRvbil7XG4gICAgY29uc3QgcHJvamVjdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktcHJvamVjdHMnKTtcbiAgICBjb25zdCBuZXdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcblxuICAgIG5ld0J1dHRvbi50ZXh0Q29udGVudCA9IG5hbWVPZk5ld0J1dHRvbjtcblxuICAgIHByb2plY3RzQ29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0J1dHRvbik7XG59XG5cblxuZnVuY3Rpb24gcmVtb3ZlVGhlRm9ybSgpe1xuICAgIGNvbnN0IHByb2plY3RGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtIGJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyk7XG4gICAgcHJvamVjdEZvcm1CdXR0b24ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHByb2plY3RGb3JtKTtcbn1cblxuXG5cbmZ1bmN0aW9uIHVuYmx1clRoZUZvcm0oKXtcbiAgICBjb25zdCBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bm90KC5wcm9qZWN0Rm9ybSknKTtcbiAgICBcbiAgICAgICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICAgICAgICAgIGFsbC5zdHlsZS5maWx0ZXIgPSAnYmx1cigwKSc7XG4gICAgICAgICAgICB9XG59XG5cblxuZnVuY3Rpb24gZGlzcGxheUxvZ2ljQnV0dG9uKCl7XG4gICAgY29uc3Qgc2VsZWN0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LXByb2plY3RzIGJ1dHRvbjpsYXN0LW9mLXR5cGUnKTtcbiAgICBjb25zdCBzZWxlY3REaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQnKTtcbiAgICBcblxuICAgIHNlbGVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT4ge1xuICAgICAgICBjbGVhckFsbCgpO1xuXG5cbiAgICAgICAgY29uc3QgZGVsUHJvamVjdEJ0dG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVsUHJvamVjdEJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgICAgIGRlbFByb2plY3RCdHRuLnRleHRDb250ZW50ID0gJ2RlbGV0ZSB0aGlzIHByb2plY3QnO1xuICAgICAgICBcblxuICAgICAgICBzZWxlY3REaXNwbGF5LmFwcGVuZENoaWxkKGRlbFByb2plY3RCdHRuKTtcbiAgICAgICAgZGVsZXRlUHJvamVjdExvZ2ljKHNlbGVjdEJ1dHRvbi50ZXh0Q29udGVudCk7XG5cbiAgICAgICAgZGlzcGxheUF0U2NyZWVuKHNlbGVjdEJ1dHRvbi50ZXh0Q29udGVudCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlBdFNjcmVlbihuYW1lT2ZQcm9qZWN0KXtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgaWYocHJvamVjdFRhc2suZ2V0TGluayhpKSA9PT0gbmFtZU9mUHJvamVjdCl7XG4gICAgICAgICAgICBjcmVhdGVOZXdEaXZzV2l0aERlbEJ1dHRvbigpO1xuICAgICAgICAgICAgcG9wdWxhdGVDb250YWluZXIoaSk7XG4gICAgICAgICAgICBkZWxldGVUYXNrTG9naWMoKTtcbiAgICAgICAgICAgIGFkZFJlbmFtaW5nQnR0bihpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFxufVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCl7XG4gICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZGVsQnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IHNlbGVjdERpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCcpO1xuICAgIFxuICAgIGRlbEJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGRlbEJ0dG4udGV4dENvbnRlbnQgPSAnZGVsZXRlIHRoaXMgdGFzayc7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVsQnR0bik7XG4gICAgc2VsZWN0RGlzcGxheS5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xufVxuXG5mdW5jdGlvbiBwb3B1bGF0ZUNvbnRhaW5lcihpKXtcbiAgICBjb25zdCBzZWxlY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCA+IGRpdjpsYXN0LW9mLXR5cGUnKTtcblxuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblxuICAgIG5hbWUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXROYW1lKGkpO1xuICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcHJvamVjdFRhc2suZ2V0RGVzY3JpcHRpb24oaSk7XG4gICAgZHVlRGF0ZS50ZXh0Q29udGVudCA9IHByb2plY3RUYXNrLmdldER1ZURhdGUoaSk7XG4gICAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXRQcmlvcml0eShpKTsgXG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHByaW9yaXR5KTtcblxuICAgIHNlbGVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xuXG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVByb2plY3RMb2dpYyhuYW1lT2ZQcm9qZWN0KXtcbiAgICBjb25zdCBkZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBidXR0b246bnRoLWNoaWxkKDEpJyk7XG5cbiAgICBkZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgICAgIGlmKHByb2plY3RUYXNrLmdldExpbmsoaSkgPT09IG5hbWVPZlByb2plY3Qpe1xuICAgICAgICAgICAgICAgIHByb2plY3RUYXNrLmRlbGV0ZUVsZW1lbnQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHByb2plY3RBcnJheS5nZXRMZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBpZihwcm9qZWN0QXJyYXkuZ2V0TmFtZShpKSA9PT0gbmFtZU9mUHJvamVjdCl7XG4gICAgICAgICAgICAgICAgcHJvamVjdEFycmF5LmRlbGV0ZUVsZW1lbnQoaSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm15LXByb2plY3RzIGJ1dHRvbicpO1xuXG4gICAgICAgIGZvcihsZXQgZWxlbSBvZiBidXR0b25zKXtcbiAgICAgICAgICAgIGlmKGVsZW0udGV4dENvbnRlbnQgPT09IG5hbWVPZlByb2plY3Qpe1xuICAgICAgICAgICAgICAgIGVsZW0ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyQWxsKCk7XG4gICAgfSk7XG59XG5cbi8vIEFERCBORVcgRVZFTlQgVEFTS1xuXG5mdW5jdGlvbiBhZGROZXdFdmVudEJ1dHRvbigpe1xuICAgIGNvbnN0IG5ld0V2ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbnMgYnV0dG9uOm50aC1jaGlsZCgyKScpO1xuICAgIFxuICAgIG5ld0V2ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBkcmF3Rm9ybVRhc2soKTtcbiAgICAgICAgYmx1clRoZUZvcm1UYXNrKCk7XG4gICAgICAgIGRyYXdGb3JtTG9naWNUYXNrKCk7XG4gICAgfSk7XG5cbn1cblxuZnVuY3Rpb24gZHJhd0Zvcm1UYXNrKCl7XG4gICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGNvbnN0IG5ld0xhYmVsRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGNvbnN0IG5ld0xhYmVsUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ2xhYmVsU2VsZWN0Jyk7XG4gICAgZm9ybS50ZXh0Q29udGVudCA9ICd3aGljaCBwcm9qZWN0JztcbiAgICBzZWxlY3Quc2V0QXR0cmlidXRlKCdpZCcsJ2xhYmVsU2VsZWN0Jyk7XG4gICAgc2VsZWN0LnNldEF0dHJpYnV0ZSgnbmFtZScsJ3NlbGVjdE9wdGlvbicpO1xuXG4gICAgY29uc3QgZGVmT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgZGVmT3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCcwJyk7XG4gICAgZGVmT3B0aW9uLnRleHRDb250ZW50ID0gJ25vbmUnO1xuICAgIHNlbGVjdC5hcHBlbmRDaGlsZChkZWZPcHRpb24pO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RBcnJheS5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGAke3Byb2plY3RBcnJheS5nZXROYW1lKGkpfWA7XG4gICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJyxgJHtwcm9qZWN0QXJyYXkuZ2V0TmFtZShpKX1gKTtcbiAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgfVxuXG5cbiAgICBjb25zdCBva0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG5cbiAgICBcbiAgICBuZXdDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsJ3Rhc2tGb3JtJyk7XG5cbiAgICBva0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcbiAgICBva0J1dHRvbi50ZXh0Q29udGVudCA9ICdPayc7XG5cblxuXG4gICAgbmV3SW5wdXROYW1lLnNldEF0dHJpYnV0ZSgnaWQnLCdOZXdUYXNrTmFtZScpO1xuICAgIG5ld0xhYmVsTmFtZS50ZXh0Q29udGVudCA9J05hbWUgPT4gJztcbiAgICBuZXdMYWJlbE5hbWUuc2V0QXR0cmlidXRlKCdmb3InLCdOZXdUYXNrTmFtZScpO1xuXG4gICAgbmV3SW5wdXREZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza0Rlc2NyaXB0aW9uJyk7XG4gICAgbmV3TGFiZWxEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9ICdEZXNjcmlwdGlvbiA9PiAnO1xuICAgIG5ld0xhYmVsRGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdmb3InLCdOZXdUYXNrRGVzY3JpcHRpb24nKTtcblxuICAgIG5ld0lucHV0RGF0ZS5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza0RhdGUnKTtcbiAgICBuZXdMYWJlbERhdGUudGV4dENvbnRlbnQgPSAnRHVlRGF0ZSA9PiAnO1xuICAgIG5ld0xhYmVsRGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Rhc2tEYXRlJyk7XG5cbiAgICBuZXdJbnB1dFByaW9yaXR5LnNldEF0dHJpYnV0ZSgnaWQnLCdOZXdUYXNrUHJpbycpO1xuICAgIG5ld0xhYmVsUHJpb3JpdHkudGV4dENvbnRlbnQgPSAnUHJpb3JpdHkgPT4gJztcbiAgICBuZXdMYWJlbFByaW9yaXR5LnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza1ByaW8nKTtcblxuICAgXG5cblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbE5hbWUpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdJbnB1dE5hbWUpO1xuXG4gICAgbmV3SW5wdXROYW1lLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbERlc2NyaXB0aW9uKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXREZXNjcmlwdGlvbik7XG5cbiAgICBuZXdJbnB1dERlc2NyaXB0aW9uLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbERhdGUpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdJbnB1dERhdGUpO1xuXG4gICAgbmV3SW5wdXREYXRlLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbFByaW9yaXR5KTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXRQcmlvcml0eSk7XG5cbiAgICBuZXdJbnB1dFByaW9yaXR5Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VsZWN0KTtcblxuICAgIHNlbGVjdC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG4gICAgXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG9rQnV0dG9uKTtcblxuICAgIGNvbnN0IGJvZHlTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbiAgICBib2R5U2VsZWN0b3IuYXBwZW5kQ2hpbGQobmV3Q29udGFpbmVyKTtcblxufVxuXG5mdW5jdGlvbiBkcmF3Rm9ybUxvZ2ljVGFzaygpe1xuICAgIGNvbnN0IG9rQnV0dG9uVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBidXR0b24nKTtcbiAgICBjb25zdCBpbnB1dFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2tGb3JtIGlucHV0Jyk7XG4gICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtIHNlbGVjdCcpO1xuXG4gICAgXG5cbiAgICBva0J1dHRvblRhc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICAgICAgbGV0IG5hbWUgPSBpbnB1dFNlbGVjdG9yWzBdLnZhbHVlO1xuICAgICAgICBsZXQgZGVzY3IgPSBpbnB1dFNlbGVjdG9yWzFdLnZhbHVlO1xuICAgICAgICBsZXQgZGF0ZSA9IGlucHV0U2VsZWN0b3JbMl0udmFsdWU7XG4gICAgICAgIGxldCBwcmlvcml0eSA9IGlucHV0U2VsZWN0b3JbM10udmFsdWU7XG4gICAgICAgIGxldCBwcm9qZWN0TGluayA9IHNlbGVjdC52YWx1ZTtcblxuICAgICAgICBpZihuYW1lICAmJlxuICAgICAgICAgICBkZXNjciAmJlxuICAgICAgICAgICBkYXRlICAmJlxuICAgICAgICAgICBwcmlvcml0eSl7XG4gICAgICAgICAgICAgICAgYXV0b0NyZWF0ZVRhc2sobmFtZSxkZXNjcixkYXRlLHByaW9yaXR5LHByb2plY3RMaW5rKTtcbiAgICAgICAgICAgICAgICByZW1vdmVUaGVGb3JtVGFzaygpO1xuICAgICAgICAgICAgICAgIHVuYmx1clRoZUZvcm1UYXNrKCk7XG4gICAgICAgICAgIH1cblxuXG4gICAgfSk7XG59XG5cblxuZnVuY3Rpb24gYmx1clRoZUZvcm1UYXNrKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgudGFza0Zvcm0pJyk7XG4gICAgXG4gICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMXB4KSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUaGVGb3JtVGFzaygpe1xuICAgIGNvbnN0IHRhc2tGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtIGJ1dHRvbicpO1xuICAgIGNvbnN0IHRhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtJyk7XG4gICAgdGFza0Zvcm1CdXR0b24ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRhc2tGb3JtKTtcbn1cblxuZnVuY3Rpb24gdW5ibHVyVGhlRm9ybVRhc2soKXtcbiAgICBjb25zdCBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bm90KC50YXNrRm9ybSknKTtcbiAgICBcbiAgICAgICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICAgICAgICAgIGFsbC5zdHlsZS5maWx0ZXIgPSAnYmx1cigwKSc7XG4gICAgICAgICAgICB9XG59XG5cblxuZnVuY3Rpb24gZGVsZXRlVGFza0xvZ2ljKCl7XG4gICAgY29uc3QgZGVsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSBidXR0b246bnRoLWNoaWxkKDEpJyk7XG4gICAgY29uc3QgbmFtZUZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSA+IGRpdiA+IHA6bnRoLWNoaWxkKDEpJyk7XG5cbiAgICBkZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKSA7IGkrKyl7XG4gICAgICAgICAgICBpZihwcm9qZWN0VGFzay5nZXROYW1lKGkpID09PSBuYW1lRmllbGQudGV4dENvbnRlbnQpe1xuICAgICAgICAgICAgICAgIHByb2plY3RUYXNrLmRlbGV0ZUVsZW1lbnQoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJBbGwoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkUmVuYW1pbmdCdHRuKGkpe1xuICAgIGNvbnN0IGxhc3REaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBkaXY6bGFzdC1vZi10eXBlJyk7XG4gICAgY29uc3QgcmVuYW1lQnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IHNlbGVjdERpdkludGVybmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSBkaXYnKTtcblxuICAgIHJlbmFtZUJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgcmVuYW1lQnR0bi50ZXh0Q29udGVudCA9ICdSZW5hbWUgdGhlIEZvcm0nO1xuXG4gICAgbGFzdERpdi5pbnNlcnRCZWZvcmUocmVuYW1lQnR0biwgc2VsZWN0RGl2SW50ZXJuYWwpO1xuXG4gICAgcmVuYW1lQnR0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZHJhd0Zvcm1UYXNrKCk7XG4gICAgICAgIGJsdXJUaGVGb3JtVGFzaygpO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBzZWxlY3QnKTtcbiAgICAgICAgY29uc3QgaW5wdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrRm9ybSBpbnB1dCcpO1xuICAgICAgICBcbiAgICAgICAgaW5wdXRTZWxlY3RvclswXS52YWx1ZSA9IHByb2plY3RUYXNrLmdldE5hbWUoaSk7XG4gICAgICAgIGlucHV0U2VsZWN0b3JbMV0udmFsdWUgPSBwcm9qZWN0VGFzay5nZXREZXNjcmlwdGlvbihpKTtcbiAgICAgICAgaW5wdXRTZWxlY3RvclsyXS52YWx1ZSA9IHByb2plY3RUYXNrLmdldER1ZURhdGUoaSk7XG4gICAgICAgIGlucHV0U2VsZWN0b3JbM10udmFsdWUgPSBwcm9qZWN0VGFzay5nZXRQcmlvcml0eShpKTtcbiAgICAgICAgc2VsZWN0LnZhbHVlID0gcHJvamVjdFRhc2suZ2V0TGluayhpKTtcblxuICAgICAgICBjb25zdCBva0J1dHRvblRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0gYnV0dG9uJyk7XG4gICAgICAgIG9rQnV0dG9uVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmNoYW5nZU5hbWUoaSxpbnB1dFNlbGVjdG9yWzBdLnZhbHVlKTtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmNoYW5nZURlc2NyaXB0aW9uKGksaW5wdXRTZWxlY3RvclsxXS52YWx1ZSk7XG4gICAgICAgICAgICBwcm9qZWN0VGFzay5jaGFuZ2VEdWVEYXRlKGksaW5wdXRTZWxlY3RvclsyXS52YWx1ZSk7XG4gICAgICAgICAgICBwcm9qZWN0VGFzay5jaGFuZ2VQcmlvcml0eShpLGlucHV0U2VsZWN0b3JbM10udmFsdWUpO1xuICAgICAgICAgICAgcHJvamVjdFRhc2suY2hhbmdlTGluayhpLHNlbGVjdC52YWx1ZSk7XG5cbiAgICAgICAgICAgIHVuYmx1clRoZUZvcm1UYXNrKCk7XG4gICAgICAgICAgICByZW1vdmVUaGVGb3JtVGFzaygpO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xufVxuXG5cbi8vREVGQVVMVCBCVVRUT04gTUVUSE9EXG5mdW5jdGlvbiBzdGFydERlZmF1bHRCdXR0b24oKXtcbiAgICBjb25zdCBkZWZhdWx0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LXByb2plY3RzIGJ1dHRvbicpO1xuICAgIGRlZmF1bHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyQWxsKCk7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCk7XG4gICAgICAgICAgICBwb3B1bGF0ZUNvbnRhaW5lcihpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhckFsbCgpe1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvZG8tYm9hcmQgKicpO1xuXG4gICAgZm9yKGxldCBlbGVtIG9mIGJvYXJkKXtcbiAgICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5leHBvcnQge3N0YXJ0TmV3UHJvamVjdEJ1dHRvbixcbiAgICAgICAgY2xlYXJBbGwsXG4gICAgICAgIGFkZE5ld0V2ZW50QnV0dG9uLFxuICAgICAgICBzdGFydERlZmF1bHRCdXR0b259OyIsImZ1bmN0aW9uIGNyZWF0ZVRhc2tGb3JUb2RvKG5ld1RpdGxlLG5ld0Rlc2NyaXB0aW9uLG5ld0R1ZURhdGUsbmV3UHJpb3JpdHksbmV3UHJvamVjdExpbmspe1xuICAgIGxldCB0aXRsZSA9IG5ld1RpdGxlO1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgIGxldCBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICBsZXQgcHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICBsZXQgcHJvamVjdExpbmsgPSBuZXdQcm9qZWN0TGluaztcblxuICAgIGZ1bmN0aW9uIGdldFRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRlKCl7XG4gICAgICAgIHJldHVybiBkdWVEYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0eSgpe1xuICAgICAgICByZXR1cm4gcHJpb3JpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFByb2plY3ROYW1lKCl7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TGluaztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGluaygpe1xuICAgICAgICByZXR1cm4gcHJvamVjdExpbms7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYW5nZU5hbWUobmV3TmFtZSl7XG4gICAgICAgIHRpdGxlID0gbmV3TmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhbmdlRGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pe1xuICAgICAgICBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uXG4gICAgfSAgICBcbiAgICBmdW5jdGlvbiBjaGFuZ2VEdWVEYXRlKG5ld0R1ZURhdGUpe1xuICAgICAgICBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhbmdlUHJpb3JpdHkobmV3UHJpb3JpdHkpe1xuICAgICAgICBwcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFuZ2VMaW5rKG5ld0xpbmspe1xuICAgICAgICBwcm9qZWN0TGluayA9IG5ld0xpbms7XG4gICAgfSAgIFxuICAgIFxuICAgIFxuXG4gICAgcmV0dXJuIHtnZXRUaXRsZSxnZXREZXNjcmlwdGlvbixnZXREYXRlLGdldFByaW9yaXR5LGdldFByb2plY3ROYW1lLGdldExpbmssY2hhbmdlTmFtZSxjaGFuZ2VEZXNjcmlwdGlvbixjaGFuZ2VEdWVEYXRlLGNoYW5nZVByaW9yaXR5LGNoYW5nZUxpbmt9O1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRhc2tGb3JUb2RvOyJdLCJuYW1lcyI6WyJwcm9qZWN0QXJyYXkiLCJhcnJheU9mUHJvamVjdHMiLCJwdXNoUHJvamVjdEludG9BcnJheSIsInByb2plY3QiLCJwdXNoIiwiZ2V0TmFtZSIsImNvdW50IiwiZ2V0TGVuZ3RoIiwibGVuZ3RoIiwiZGVsZXRlRWxlbWVudCIsInNwbGljZSIsImkiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGhpcyIsImNoYW5nZU5hbWUiLCJuZXdOYW1lIiwicHJvamVjdFRhc2siLCJhcnJheU9mVGFza3MiLCJhZGRFbGVtZW50IiwidGFzayIsImdldERlc2NyaXB0aW9uIiwiZ2V0RHVlRGF0ZSIsImdldERhdGUiLCJnZXRQcmlvcml0eSIsImdldFByb2plY3ROYW1lIiwiZ2V0TGluayIsImdldFRpdGxlIiwiY2hhbmdlRGVzY3JpcHRpb24iLCJuZXdEZXNjcmlwdGlvbiIsImNoYW5nZUR1ZURhdGUiLCJuZXdEdWVEYXRlIiwiY2hhbmdlUHJpb3JpdHkiLCJuZXdQcmlvcml0eSIsImNoYW5nZUxpbmsiLCJuZXdMaW5rIiwibmV3UHJvamVjdCIsImNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uIiwibmV3Q29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGVsQnR0biIsInNlbGVjdERpc3BsYXkiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInBvcHVsYXRlQ29udGFpbmVyIiwic2VsZWN0Q29udGFpbmVyIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJkcmF3Rm9ybVRhc2siLCJuZXdMYWJlbE5hbWUiLCJuZXdJbnB1dE5hbWUiLCJuZXdMYWJlbERlc2NyaXB0aW9uIiwibmV3SW5wdXREZXNjcmlwdGlvbiIsIm5ld0xhYmVsRGF0ZSIsIm5ld0lucHV0RGF0ZSIsIm5ld0xhYmVsUHJpb3JpdHkiLCJuZXdJbnB1dFByaW9yaXR5IiwiZm9ybSIsInNlbGVjdCIsImRlZk9wdGlvbiIsIm9wdGlvbiIsIm9rQnV0dG9uIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiYmx1clRoZUZvcm1UYXNrIiwiYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImFsbCIsInN0eWxlIiwiZmlsdGVyIiwicmVtb3ZlVGhlRm9ybVRhc2siLCJ0YXNrRm9ybUJ1dHRvbiIsInRhc2tGb3JtIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwidW5ibHVyVGhlRm9ybVRhc2siLCJkZWxldGVUYXNrTG9naWMiLCJkZWxCdXR0b24iLCJuYW1lRmllbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYXJBbGwiLCJhZGRSZW5hbWluZ0J0dG4iLCJsYXN0RGl2IiwicmVuYW1lQnR0biIsInNlbGVjdERpdkludGVybmFsIiwiaW5zZXJ0QmVmb3JlIiwiaW5wdXRTZWxlY3RvciIsInZhbHVlIiwiYm9hcmQiLCJlbGVtIiwicmVtb3ZlIiwibmV3TGFiZWwiLCJuZXdJbnB1dCIsImRyYXdGb3JtIiwiYmx1clRoZUZvcm0iLCJwcm9qZWN0Rm9ybUJ1dHRvbiIsImlucHV0Rm9ybSIsInVuZGVmaW5lZCIsIm5hbWVPZk5ld0J1dHRvbiIsInByb2plY3RzQ29udGFpbmVyIiwibmV3QnV0dG9uIiwiY3JlYXRlQnV0dG9uRm9yTmV3UHJvamVjdCIsInByb2plY3RGb3JtIiwicmVtb3ZlVGhlRm9ybSIsInVuYmx1clRoZUZvcm0iLCJzZWxlY3RCdXR0b24iLCJkZWxQcm9qZWN0QnR0biIsIm5hbWVPZlByb2plY3QiLCJqIiwiYnV0dG9ucyIsImRpc3BsYXlBdFNjcmVlbiIsImRpc3BsYXlMb2dpY0J1dHRvbiIsImRyYXdGb3JtTG9naWMiLCJva0J1dHRvblRhc2siLCJkZXNjciIsImRhdGUiLCJwcm9qZWN0TGluayIsIm5ld1Rhc2siLCJuZXdUaXRsZSIsIm5ld1Byb2plY3RMaW5rIiwidGl0bGUiLCJhdXRvQ3JlYXRlVGFzayIsImRyYXdGb3JtTG9naWNUYXNrIl0sInNvdXJjZVJvb3QiOiIifQ==