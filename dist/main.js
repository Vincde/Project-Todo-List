(()=>{"use strict";const e=function(){const e=[];return{pushProjectIntoArray:t=>{e.push(t)},getName:t=>e[t].getName(),getLength:()=>e.length,deleteElement:()=>{e.splice(i,1)}}}(),t=e;class n{constructor(e){this.name=e}changeName(e){this.name=e}getName(){return this.name}}const o=function(){const e=[];return{addElement:t=>{e.push(t)},getDescription:t=>e[t].getDescription(),getDueDate:t=>e[t].getDate(),getPriority:t=>e[t].getPriority(),getProjectName:t=>e[t].getLink(),getLength:()=>e.length,getLink:t=>e[t].getLink(),getName:t=>e[t].getTitle(),deleteElement:t=>{e.splice(t,1)}}}(),r=o,c=function(e){let o=function(e){return new n(e)}(e);t.pushProjectIntoArray(o)};function l(){const e=document.createElement("div"),t=document.createElement("button"),n=document.querySelector(".todo-board");t.setAttribute("type","button"),t.textContent="delete this task",e.appendChild(t),n.appendChild(e)}function u(e){const t=document.querySelector(".todo-board > div:last-of-type"),n=document.createElement("div"),o=document.createElement("p"),c=document.createElement("p"),l=document.createElement("p"),u=document.createElement("p");o.textContent=r.getName(e),c.textContent=r.getDescription(e),l.textContent=r.getDueDate(e),u.textContent=r.getPriority(e),n.appendChild(o),n.appendChild(c),n.appendChild(l),n.appendChild(u),t.appendChild(n)}function d(){const e=document.querySelector(".todo-board div:last-of-type button:nth-child(1)"),t=document.querySelector(".todo-board div:last-of-type > div > p:nth-child(1)");e.addEventListener("click",(()=>{for(let e=0;e<r.getLength();e++)r.getName(e)===t.textContent&&r.deleteElement(e);m()}))}function a(){const e=document.querySelector(".todo-board div:last-of-type"),t=document.createElement("button"),n=document.querySelector(".todo-board div:last-of-type div");t.setAttribute("type","button"),t.textContent="Rename the Form",e.insertBefore(t,n)}function m(){const e=document.querySelectorAll(".todo-board *");for(let t of e)t.remove()}document.querySelector(".my-projects button").addEventListener("click",(()=>{m();for(let e=0;e<r.getLength();e++)l(),u(e)})),document.querySelector(".buttons button:first-of-type").addEventListener("click",(()=>{!function(){const e=document.createElement("div"),t=document.createElement("label"),n=document.createElement("input"),o=document.createElement("button");e.setAttribute("class","projectForm"),o.setAttribute("type","button"),o.textContent="Ok",n.setAttribute("id","NewProjectName"),t.textContent="Name => ",t.setAttribute("for","NewProjectName"),e.appendChild(t),e.appendChild(n),e.appendChild(o),document.querySelector("body").appendChild(e)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(1px)"}(),function(){const e=document.querySelector(".projectForm button"),n=(document.querySelector(".projectForm"),document.querySelector(".projectForm input"));e.addEventListener("click",(()=>{""==n.value&&null==n.value&&null==n.value||(c(n.value),function(e){const t=document.querySelector(".my-projects"),n=document.createElement("button");n.setAttribute("type","button"),n.textContent=e,t.appendChild(n)}(n.value),function(){const e=document.querySelector(".projectForm button"),t=document.querySelector(".projectForm");e.parentElement.parentElement.removeChild(t)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(0)"}(),function(){const e=document.querySelector(".my-projects button:last-of-type"),n=document.querySelector(".todo-board");e.addEventListener("click",(()=>{m();const o=document.createElement("button");var c;o.setAttribute("type","button"),o.textContent="delete this project",n.appendChild(o),c=e.textContent,document.querySelector(".todo-board button:nth-child(1)").addEventListener("click",(()=>{for(let e=0;e<r.getLength();e++)r.getLink(e)===c&&r.deleteElement(e);for(let e=0;e<t.getLength;e++)if(t.getName(i)===c){t.deleteElement(i);break}const e=document.querySelectorAll(".my-projects button");for(let t of e)t.textContent===c&&t.parentElement.removeChild(t);m()})),function(e){for(let t=0;t<r.getLength();t++)r.getLink(t)===e&&(l(),u(t),d(),a())}(e.textContent)}))}())}))}()})),document.querySelector(".buttons button:nth-child(2)").addEventListener("click",(()=>{!function(){const e=document.createElement("div"),n=document.createElement("label"),o=document.createElement("input"),r=document.createElement("label"),c=document.createElement("input"),l=document.createElement("label"),u=document.createElement("input"),d=document.createElement("label"),i=document.createElement("input"),a=document.createElement("label"),m=document.createElement("select");a.setAttribute("for","labelSelect"),a.textContent="which project",m.setAttribute("id","labelSelect"),m.setAttribute("name","selectOption");const s=document.createElement("option");s.setAttribute("value","0"),s.textContent="none",m.appendChild(s);for(let e=0;e<t.getLength();e++){const n=document.createElement("option");n.textContent=`${t.getName(e)}`,n.setAttribute("value",`${t.getName(e)}`),m.appendChild(n)}const p=document.createElement("button");e.setAttribute("class","taskForm"),p.setAttribute("type","button"),p.textContent="Ok",o.setAttribute("id","NewTaskName"),n.textContent="Name => ",n.setAttribute("for","NewTaskName"),c.setAttribute("id","NewTaskDescription"),r.textContent="Description => ",r.setAttribute("for","NewTaskDescription"),u.setAttribute("id","NewTaskDate"),l.textContent="DueDate => ",l.setAttribute("for","NewTaskDate"),i.setAttribute("id","NewTaskPrio"),d.textContent="Priority => ",d.setAttribute("for","NewTaskPrio"),e.appendChild(n),e.appendChild(o),o.insertAdjacentHTML("afterend","<br>"),e.appendChild(r),e.appendChild(c),c.insertAdjacentHTML("afterend","<br>"),e.appendChild(l),e.appendChild(u),u.insertAdjacentHTML("afterend","<br>"),e.appendChild(d),e.appendChild(i),i.insertAdjacentHTML("afterend","<br>"),e.appendChild(a),e.appendChild(m),m.insertAdjacentHTML("afterend","<br>"),e.appendChild(p),document.querySelector("body").appendChild(e)}(),function(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(1px)"}(),function(){const e=document.querySelector(".taskForm button"),t=document.querySelectorAll(".taskForm input"),n=document.querySelector(".taskForm select");e.addEventListener("click",(()=>{let e=t[0].value,o=t[1].value,c=t[2].value,l=t[3].value,u=n.value;e&&o&&c&&l&&(function(e,t,n,o,c){const l=function(e,t,n,o,r){let c=e,l=t,u=n,d=o,i=r;return{getTitle:function(){return c},getDescription:function(){return l},getDate:function(){return u},getPriority:function(){return d},getProjectName:function(){return i},getLink:function(){return i}}}(e,t,n,o,c);r.addElement(l)}(e,o,c,l,u),function(){const e=document.querySelector(".taskForm button"),t=document.querySelector(".taskForm");e.parentElement.parentElement.removeChild(t)}(),function(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(0)"}())}))}()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBU0ksY0FBYyxhQUN4Q2lGLEVBQWV4QyxjQUFjQSxjQUFjQyxZQUFZd0MsRUFDM0QsQ0FyQmdCQyxHQXVCaEIsV0FDSSxNQUFNeEQsRUFBMkIvQixTQUFTd0IsaUJBQWlCLHNCQUV2RCxJQUFJLElBQUlRLEtBQU9ELEVBQ1hDLEVBQUlDLE1BQU1DLE9BQVMsU0FFL0IsQ0E1QmdCc0QsR0FDTCxHQUlYLENBL0hRQyxFQUFtQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZQcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlRhc2tzLmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdE1hbmFnZS9uZXdQcm9qZWN0Q2FsbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2RvbS9kb20uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL3Rhc2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gYXJyYXlPZlByb2plY3RzKCl7XG4gICAgY29uc3QgYXJyYXlPZlByb2plY3RzID0gW107XG5cblxuICAgIGNvbnN0IHB1c2hQcm9qZWN0SW50b0FycmF5ID0gKHByb2plY3QpID0+e1xuICAgICAgICBhcnJheU9mUHJvamVjdHMucHVzaChwcm9qZWN0KTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXROYW1lID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mUHJvamVjdHNbY291bnRdLmdldE5hbWUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRMZW5ndGggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mUHJvamVjdHMubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZUVsZW1lbnQgPSAoKSA9PiB7XG4gICAgICAgIGFycmF5T2ZQcm9qZWN0cy5zcGxpY2UoaSwxKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3B1c2hQcm9qZWN0SW50b0FycmF5LGdldE5hbWUsZ2V0TGVuZ3RoLGRlbGV0ZUVsZW1lbnR9O1xufVxuXG5jb25zdCBwcm9qZWN0QXJyYXkgPSBhcnJheU9mUHJvamVjdHMoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdEFycmF5OyIsImNsYXNzIFByb2plY3R7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lKXtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBjaGFuZ2VOYW1lKG5ld05hbWUpe1xuICAgICAgICB0aGlzLm5hbWUgPSBuZXdOYW1lO1xuICAgIH1cblxuICAgIGdldE5hbWUoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld1Byb2plY3QobmFtZSl7XG4gICAgY29uc3QgbmV3UHJvamVjdCA9IG5ldyBQcm9qZWN0KG5hbWUpO1xuICAgIHJldHVybiBuZXdQcm9qZWN0O1xufVxuXG4vL0FkZCB0aGlzIGZ1bmN0aW9uYWxpdHkgaGVyZSB0byBub3QgaGF2ZSBhbm90aGVyIGZpbGUgdG8gbWFuYWdlXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU5ld1Byb2plY3Q7IiwiZnVuY3Rpb24gYXJyYXlPZlRhc2tzKCl7XG4gICAgY29uc3QgYXJyYXlPZlRhc2tzID0gW107XG5cbiAgICBjb25zdCBnZXROYW1lID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldFRpdGxlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWRkRWxlbWVudCA9ICh0YXNrKSA9PntcbiAgICAgICAgYXJyYXlPZlRhc2tzLnB1c2godGFzayk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0RGVzY3JpcHRpb24gPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0RGVzY3JpcHRpb24oKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXREdWVEYXRlID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldERhdGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRQcmlvcml0eSA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXRQcmlvcml0eSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldFByb2plY3ROYW1lID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldExpbmsoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRMZW5ndGggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3MubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0IGdldExpbmsgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0TGluaygpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlbGV0ZUVsZW1lbnQgPSAoY291bnQpID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzLnNwbGljZShjb3VudCwxKTtcbiAgICB9XG5cblxuXG4gICAgcmV0dXJuIHthZGRFbGVtZW50LGdldERlc2NyaXB0aW9uLGdldER1ZURhdGUsZ2V0UHJpb3JpdHksZ2V0UHJvamVjdE5hbWUsZ2V0TGVuZ3RoLGdldExpbmssZ2V0TmFtZSxkZWxldGVFbGVtZW50fTtcbn1cblxuY29uc3QgcHJvamVjdFRhc2sgPSBhcnJheU9mVGFza3MoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdFRhc2s7IiwiaW1wb3J0IHByb2plY3RBcnJheSBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mUHJvamVjdHMuanNcIjtcbmltcG9ydCBjcmVhdGVOZXdQcm9qZWN0IGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL3Byb2plY3QuanNcIjtcbmltcG9ydCBjcmVhdGVUYXNrRm9yVG9kbyBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy90YXNrLmpzXCI7XG5pbXBvcnQgcHJvamVjdFRhc2sgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlRhc2tzLmpzXCI7XG5cblxuZnVuY3Rpb24gY3JlYXRlVGhlUHJvamVjdEFuZEFkZEl0VG9UaGVBcnJheShuYW1lKXtcbiAgICBsZXQgbmV3UHJvamVjdCA9IGNyZWF0ZU5ld1Byb2plY3QobmFtZSk7XG4gICAgcHJvamVjdEFycmF5LnB1c2hQcm9qZWN0SW50b0FycmF5KG5ld1Byb2plY3QpO1xufVxuXG5mdW5jdGlvbiBhdXRvQ3JlYXRlVGFzayhuYW1lLGRlc2NyLGRhdGUscHJpb3JpdHkscHJvamVjdExpbmspe1xuICAgIGNvbnN0IG5ld1Rhc2sgPSBjcmVhdGVUYXNrRm9yVG9kbyhuYW1lLGRlc2NyLGRhdGUscHJpb3JpdHkscHJvamVjdExpbmspO1xuICAgIHByb2plY3RUYXNrLmFkZEVsZW1lbnQobmV3VGFzayk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlVGhlUHJvamVjdEFuZEFkZEl0VG9UaGVBcnJheTtcbmV4cG9ydCB7YXV0b0NyZWF0ZVRhc2t9O1xuXG5cblxuXG4iLCJpbXBvcnQgY3JlYXRlVGhlUHJvamVjdEFuZEFkZEl0VG9UaGVBcnJheSBmcm9tIFwiLi4vcHJvamVjdE1hbmFnZS9uZXdQcm9qZWN0Q2FsbC5qc1wiO1xuaW1wb3J0IHByb2plY3RUYXNrIGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZUYXNrcy5qc1wiO1xuaW1wb3J0IHByb2plY3RBcnJheSBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mUHJvamVjdHMuanNcIjtcbmltcG9ydCB7IGF1dG9DcmVhdGVUYXNrIH0gZnJvbSBcIi4uL3Byb2plY3RNYW5hZ2UvbmV3UHJvamVjdENhbGwuanNcIjtcblxuXG5mdW5jdGlvbiBzdGFydE5ld1Byb2plY3RCdXR0b24oKXtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbnMgYnV0dG9uOmZpcnN0LW9mLXR5cGUnKTtcblxuICAgIG5ld1Byb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBkcmF3Rm9ybSgpO1xuICAgICAgICBibHVyVGhlRm9ybSgpO1xuICAgICAgICBkcmF3Rm9ybUxvZ2ljKCk7XG4gICAgfSk7XG5cbn1cblxuZnVuY3Rpb24gZHJhd0Zvcm0oKXtcbiAgICBjb25zdCBuZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBuZXdMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IG9rQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgXG4gICAgbmV3Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdwcm9qZWN0Rm9ybScpO1xuXG4gICAgb2tCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgb2tCdXR0b24udGV4dENvbnRlbnQgPSAnT2snO1xuXG4gICAgbmV3SW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Byb2plY3ROYW1lJyk7XG4gICAgbmV3TGFiZWwudGV4dENvbnRlbnQgPSAnTmFtZSA9PiAnO1xuICAgIG5ld0xhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3UHJvamVjdE5hbWUnKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbCk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0KTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQob2tCdXR0b24pO1xuXG4gICAgY29uc3QgYm9keVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgIGJvZHlTZWxlY3Rvci5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xuXG59XG5cblxuZnVuY3Rpb24gYmx1clRoZUZvcm0oKXtcbiAgICBjb25zdCBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bm90KC5wcm9qZWN0Rm9ybSknKTtcbiAgICBcbiAgICBmb3IobGV0IGFsbCBvZiBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3Ipe1xuICAgIGFsbC5zdHlsZS5maWx0ZXIgPSAnYmx1cigxcHgpJztcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gZHJhd0Zvcm1Mb2dpYygpe1xuICAgIGNvbnN0IHByb2plY3RGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtIGJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtIGlucHV0Jyk7XG5cbiAgICBwcm9qZWN0Rm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYoaW5wdXRGb3JtLnZhbHVlICE9ICcnIHx8XG4gICAgICAgICAgIGlucHV0Rm9ybS52YWx1ZSAhPSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgaW5wdXRGb3JtLnZhbHVlICE9IG51bGwpe1xuXG4gICAgICAgICAgICBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5KGlucHV0Rm9ybS52YWx1ZSk7XG4gICAgICAgICAgICBjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0KGlucHV0Rm9ybS52YWx1ZSk7XG4gICAgICAgICAgICByZW1vdmVUaGVGb3JtKCk7XG4gICAgICAgICAgICB1bmJsdXJUaGVGb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5TG9naWNCdXR0b24oKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbkZvck5ld1Byb2plY3QobmFtZU9mTmV3QnV0dG9uKXtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1wcm9qZWN0cycpO1xuICAgIGNvbnN0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgbmV3QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsJ2J1dHRvbicpO1xuXG4gICAgbmV3QnV0dG9uLnRleHRDb250ZW50ID0gbmFtZU9mTmV3QnV0dG9uO1xuXG4gICAgcHJvamVjdHNDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3QnV0dG9uKTtcbn1cblxuXG5mdW5jdGlvbiByZW1vdmVUaGVGb3JtKCl7XG4gICAgY29uc3QgcHJvamVjdEZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0gYnV0dG9uJyk7XG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0nKTtcbiAgICBwcm9qZWN0Rm9ybUJ1dHRvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQocHJvamVjdEZvcm0pO1xufVxuXG5cblxuZnVuY3Rpb24gdW5ibHVyVGhlRm9ybSgpe1xuICAgIGNvbnN0IGFsbEV4Y2VwdE91ckZvcm1TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdjpub3QoLnByb2plY3RGb3JtKScpO1xuICAgIFxuICAgICAgICBmb3IobGV0IGFsbCBvZiBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3Ipe1xuICAgICAgICAgICAgYWxsLnN0eWxlLmZpbHRlciA9ICdibHVyKDApJztcbiAgICAgICAgICAgIH1cbn1cblxuXG5mdW5jdGlvbiBkaXNwbGF5TG9naWNCdXR0b24oKXtcbiAgICBjb25zdCBzZWxlY3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktcHJvamVjdHMgYnV0dG9uOmxhc3Qtb2YtdHlwZScpO1xuICAgIGNvbnN0IHNlbGVjdERpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCcpO1xuICAgIFxuXG4gICAgc2VsZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKSA9PiB7XG4gICAgICAgIGNsZWFyQWxsKCk7XG5cblxuICAgICAgICBjb25zdCBkZWxQcm9qZWN0QnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkZWxQcm9qZWN0QnR0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcbiAgICAgICAgZGVsUHJvamVjdEJ0dG4udGV4dENvbnRlbnQgPSAnZGVsZXRlIHRoaXMgcHJvamVjdCc7XG4gICAgICAgIFxuXG4gICAgICAgIHNlbGVjdERpc3BsYXkuYXBwZW5kQ2hpbGQoZGVsUHJvamVjdEJ0dG4pO1xuICAgICAgICBkZWxldGVQcm9qZWN0TG9naWMoc2VsZWN0QnV0dG9uLnRleHRDb250ZW50KTtcblxuICAgICAgICBkaXNwbGF5QXRTY3JlZW4oc2VsZWN0QnV0dG9uLnRleHRDb250ZW50KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUF0U2NyZWVuKG5hbWVPZlByb2plY3Qpe1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrLmdldExlbmd0aCgpOyBpKyspe1xuICAgICAgICBpZihwcm9qZWN0VGFzay5nZXRMaW5rKGkpID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCk7XG4gICAgICAgICAgICBwb3B1bGF0ZUNvbnRhaW5lcihpKTtcbiAgICAgICAgICAgIGRlbGV0ZVRhc2tMb2dpYygpO1xuICAgICAgICAgICAgYWRkUmVuYW1pbmdCdHRuKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBcbn1cblxuXG5mdW5jdGlvbiBjcmVhdGVOZXdEaXZzV2l0aERlbEJ1dHRvbigpe1xuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGRlbEJ0dG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjb25zdCBzZWxlY3REaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQnKTtcbiAgICBcbiAgICBkZWxCdHRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBkZWxCdHRuLnRleHRDb250ZW50ID0gJ2RlbGV0ZSB0aGlzIHRhc2snO1xuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGRlbEJ0dG4pO1xuICAgIHNlbGVjdERpc3BsYXkuYXBwZW5kQ2hpbGQobmV3Q29udGFpbmVyKTtcbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVDb250YWluZXIoaSl7XG4gICAgY29uc3Qgc2VsZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgPiBkaXY6bGFzdC1vZi10eXBlJyk7XG5cbiAgICBjb25zdCBuZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cbiAgICBuYW1lLnRleHRDb250ZW50ID0gcHJvamVjdFRhc2suZ2V0TmFtZShpKTtcbiAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHByb2plY3RUYXNrLmdldERlc2NyaXB0aW9uKGkpO1xuICAgIGR1ZURhdGUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXREdWVEYXRlKGkpO1xuICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gcHJvamVjdFRhc2suZ2V0UHJpb3JpdHkoaSk7IFxuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5hbWUpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGR1ZURhdGUpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcmlvcml0eSk7XG5cbiAgICBzZWxlY3RDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3Q29udGFpbmVyKTtcblxufVxuXG5mdW5jdGlvbiBkZWxldGVQcm9qZWN0TG9naWMobmFtZU9mUHJvamVjdCl7XG4gICAgY29uc3QgZGVsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgYnV0dG9uOm50aC1jaGlsZCgxKScpO1xuXG4gICAgZGVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2suZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgICAgICBpZihwcm9qZWN0VGFzay5nZXRMaW5rKGkpID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFzay5kZWxldGVFbGVtZW50KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBwcm9qZWN0QXJyYXkuZ2V0TGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgaWYocHJvamVjdEFycmF5LmdldE5hbWUoaSkgPT09IG5hbWVPZlByb2plY3Qpe1xuICAgICAgICAgICAgICAgIHByb2plY3RBcnJheS5kZWxldGVFbGVtZW50KGkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5teS1wcm9qZWN0cyBidXR0b24nKTtcblxuICAgICAgICBmb3IobGV0IGVsZW0gb2YgYnV0dG9ucyl7XG4gICAgICAgICAgICBpZihlbGVtLnRleHRDb250ZW50ID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgICAgICBlbGVtLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhckFsbCgpO1xuICAgIH0pO1xufVxuXG4vLyBBREQgTkVXIEVWRU5UIFRBU0tcblxuZnVuY3Rpb24gYWRkTmV3RXZlbnRCdXR0b24oKXtcbiAgICBjb25zdCBuZXdFdmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25zIGJ1dHRvbjpudGgtY2hpbGQoMiknKTtcbiAgICBcbiAgICBuZXdFdmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZHJhd0Zvcm1UYXNrKCk7XG4gICAgICAgIGJsdXJUaGVGb3JtVGFzaygpO1xuICAgICAgICBkcmF3Rm9ybUxvZ2ljVGFzaygpO1xuICAgIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGRyYXdGb3JtVGFzaygpe1xuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgbmV3TGFiZWxOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gICAgY29uc3QgbmV3TGFiZWxEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbERhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0RGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgIGZvcm0uc2V0QXR0cmlidXRlKCdmb3InLCdsYWJlbFNlbGVjdCcpO1xuICAgIGZvcm0udGV4dENvbnRlbnQgPSAnd2hpY2ggcHJvamVjdCc7XG4gICAgc2VsZWN0LnNldEF0dHJpYnV0ZSgnaWQnLCdsYWJlbFNlbGVjdCcpO1xuICAgIHNlbGVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCdzZWxlY3RPcHRpb24nKTtcblxuICAgIGNvbnN0IGRlZk9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIGRlZk9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywnMCcpO1xuICAgIGRlZk9wdGlvbi50ZXh0Q29udGVudCA9ICdub25lJztcbiAgICBzZWxlY3QuYXBwZW5kQ2hpbGQoZGVmT3B0aW9uKTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyYXkuZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0QXJyYXkuZ2V0TmFtZShpKX1gO1xuICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsYCR7cHJvamVjdEFycmF5LmdldE5hbWUoaSl9YCk7XG4gICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH1cblxuXG4gICAgY29uc3Qgb2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuXG4gICAgXG4gICAgbmV3Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCd0YXNrRm9ybScpO1xuXG4gICAgb2tCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgb2tCdXR0b24udGV4dENvbnRlbnQgPSAnT2snO1xuXG5cblxuICAgIG5ld0lucHV0TmFtZS5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza05hbWUnKTtcbiAgICBuZXdMYWJlbE5hbWUudGV4dENvbnRlbnQgPSdOYW1lID0+ICc7XG4gICAgbmV3TGFiZWxOYW1lLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza05hbWUnKTtcblxuICAgIG5ld0lucHV0RGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Rhc2tEZXNjcmlwdGlvbicpO1xuICAgIG5ld0xhYmVsRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSAnRGVzY3JpcHRpb24gPT4gJztcbiAgICBuZXdMYWJlbERlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza0Rlc2NyaXB0aW9uJyk7XG5cbiAgICBuZXdJbnB1dERhdGUuc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Rhc2tEYXRlJyk7XG4gICAgbmV3TGFiZWxEYXRlLnRleHRDb250ZW50ID0gJ0R1ZURhdGUgPT4gJztcbiAgICBuZXdMYWJlbERhdGUuc2V0QXR0cmlidXRlKCdmb3InLCdOZXdUYXNrRGF0ZScpO1xuXG4gICAgbmV3SW5wdXRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza1ByaW8nKTtcbiAgICBuZXdMYWJlbFByaW9yaXR5LnRleHRDb250ZW50ID0gJ1ByaW9yaXR5ID0+ICc7XG4gICAgbmV3TGFiZWxQcmlvcml0eS5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Rhc2tQcmlvJyk7XG5cbiAgIFxuXG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxOYW1lKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXROYW1lKTtcblxuICAgIG5ld0lucHV0TmFtZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxEZXNjcmlwdGlvbik7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0RGVzY3JpcHRpb24pO1xuXG4gICAgbmV3SW5wdXREZXNjcmlwdGlvbi5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxEYXRlKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXREYXRlKTtcblxuICAgIG5ld0lucHV0RGF0ZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxQcmlvcml0eSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0UHJpb3JpdHkpO1xuXG4gICAgbmV3SW5wdXRQcmlvcml0eS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGVjdCk7XG5cbiAgICBzZWxlY3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsXCI8YnI+XCIpO1xuICAgIFxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChva0J1dHRvbik7XG5cbiAgICBjb25zdCBib2R5U2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgYm9keVNlbGVjdG9yLmFwcGVuZENoaWxkKG5ld0NvbnRhaW5lcik7XG5cbn1cblxuZnVuY3Rpb24gZHJhd0Zvcm1Mb2dpY1Rhc2soKXtcbiAgICBjb25zdCBva0J1dHRvblRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0gYnV0dG9uJyk7XG4gICAgY29uc3QgaW5wdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrRm9ybSBpbnB1dCcpO1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBzZWxlY3QnKTtcblxuICAgIFxuXG4gICAgb2tCdXR0b25UYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgICAgIGxldCBuYW1lID0gaW5wdXRTZWxlY3RvclswXS52YWx1ZTtcbiAgICAgICAgbGV0IGRlc2NyID0gaW5wdXRTZWxlY3RvclsxXS52YWx1ZTtcbiAgICAgICAgbGV0IGRhdGUgPSBpbnB1dFNlbGVjdG9yWzJdLnZhbHVlO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBpbnB1dFNlbGVjdG9yWzNdLnZhbHVlO1xuICAgICAgICBsZXQgcHJvamVjdExpbmsgPSBzZWxlY3QudmFsdWU7XG5cbiAgICAgICAgaWYobmFtZSAgJiZcbiAgICAgICAgICAgZGVzY3IgJiZcbiAgICAgICAgICAgZGF0ZSAgJiZcbiAgICAgICAgICAgcHJpb3JpdHkpe1xuICAgICAgICAgICAgICAgIGF1dG9DcmVhdGVUYXNrKG5hbWUsZGVzY3IsZGF0ZSxwcmlvcml0eSxwcm9qZWN0TGluayk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGhlRm9ybVRhc2soKTtcbiAgICAgICAgICAgICAgICB1bmJsdXJUaGVGb3JtVGFzaygpO1xuICAgICAgICAgICB9XG5cblxuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGJsdXJUaGVGb3JtVGFzaygpe1xuICAgIGNvbnN0IGFsbEV4Y2VwdE91ckZvcm1TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdjpub3QoLnRhc2tGb3JtKScpO1xuICAgIFxuICAgIGZvcihsZXQgYWxsIG9mIGFsbEV4Y2VwdE91ckZvcm1TZWxlY3Rvcil7XG4gICAgYWxsLnN0eWxlLmZpbHRlciA9ICdibHVyKDFweCknO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGhlRm9ybVRhc2soKXtcbiAgICBjb25zdCB0YXNrRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBidXR0b24nKTtcbiAgICBjb25zdCB0YXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybScpO1xuICAgIHRhc2tGb3JtQnV0dG9uLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0YXNrRm9ybSk7XG59XG5cbmZ1bmN0aW9uIHVuYmx1clRoZUZvcm1UYXNrKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgudGFza0Zvcm0pJyk7XG4gICAgXG4gICAgICAgIGZvcihsZXQgYWxsIG9mIGFsbEV4Y2VwdE91ckZvcm1TZWxlY3Rvcil7XG4gICAgICAgICAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMCknO1xuICAgICAgICAgICAgfVxufVxuXG5cbmZ1bmN0aW9uIGRlbGV0ZVRhc2tMb2dpYygpe1xuICAgIGNvbnN0IGRlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkIGRpdjpsYXN0LW9mLXR5cGUgYnV0dG9uOm50aC1jaGlsZCgxKScpO1xuICAgIGNvbnN0IG5hbWVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkIGRpdjpsYXN0LW9mLXR5cGUgPiBkaXYgPiBwOm50aC1jaGlsZCgxKScpO1xuXG4gICAgZGVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2suZ2V0TGVuZ3RoKCkgOyBpKyspe1xuICAgICAgICAgICAgaWYocHJvamVjdFRhc2suZ2V0TmFtZShpKSA9PT0gbmFtZUZpZWxkLnRleHRDb250ZW50KXtcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFzay5kZWxldGVFbGVtZW50KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsZWFyQWxsKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFJlbmFtaW5nQnR0bigpe1xuICAgIGNvbnN0IGxhc3REaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBkaXY6bGFzdC1vZi10eXBlJyk7XG4gICAgY29uc3QgcmVuYW1lQnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IHNlbGVjdERpdkludGVybmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSBkaXYnKTtcblxuICAgIHJlbmFtZUJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgcmVuYW1lQnR0bi50ZXh0Q29udGVudCA9ICdSZW5hbWUgdGhlIEZvcm0nO1xuXG4gICAgbGFzdERpdi5pbnNlcnRCZWZvcmUocmVuYW1lQnR0biwgc2VsZWN0RGl2SW50ZXJuYWwpO1xuXG4gICAgLyogcmVuYW1lQnR0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIH0pOyAqL1xufVxuXG5cbi8vREVGQVVMVCBCVVRUT04gTUVUSE9EXG5mdW5jdGlvbiBzdGFydERlZmF1bHRCdXR0b24oKXtcbiAgICBjb25zdCBkZWZhdWx0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LXByb2plY3RzIGJ1dHRvbicpO1xuICAgIGRlZmF1bHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyQWxsKCk7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCk7XG4gICAgICAgICAgICBwb3B1bGF0ZUNvbnRhaW5lcihpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhckFsbCgpe1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvZG8tYm9hcmQgKicpO1xuXG4gICAgZm9yKGxldCBlbGVtIG9mIGJvYXJkKXtcbiAgICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5leHBvcnQge3N0YXJ0TmV3UHJvamVjdEJ1dHRvbixcbiAgICAgICAgY2xlYXJBbGwsXG4gICAgICAgIGFkZE5ld0V2ZW50QnV0dG9uLFxuICAgICAgICBzdGFydERlZmF1bHRCdXR0b259OyIsImZ1bmN0aW9uIGNyZWF0ZVRhc2tGb3JUb2RvKG5ld1RpdGxlLG5ld0Rlc2NyaXB0aW9uLG5ld0R1ZURhdGUsbmV3UHJpb3JpdHksbmV3UHJvamVjdExpbmspe1xuICAgIGxldCB0aXRsZSA9IG5ld1RpdGxlO1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgIGxldCBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICBsZXQgcHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICBsZXQgcHJvamVjdExpbmsgPSBuZXdQcm9qZWN0TGluaztcblxuICAgIGZ1bmN0aW9uIGdldFRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRlKCl7XG4gICAgICAgIHJldHVybiBkdWVEYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0eSgpe1xuICAgICAgICByZXR1cm4gcHJpb3JpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFByb2plY3ROYW1lKCl7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TGluaztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGluaygpe1xuICAgICAgICByZXR1cm4gcHJvamVjdExpbms7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtnZXRUaXRsZSxnZXREZXNjcmlwdGlvbixnZXREYXRlLGdldFByaW9yaXR5LGdldFByb2plY3ROYW1lLGdldExpbmt9O1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRhc2tGb3JUb2RvOyJdLCJuYW1lcyI6WyJwcm9qZWN0QXJyYXkiLCJhcnJheU9mUHJvamVjdHMiLCJwdXNoUHJvamVjdEludG9BcnJheSIsInByb2plY3QiLCJwdXNoIiwiZ2V0TmFtZSIsImNvdW50IiwiZ2V0TGVuZ3RoIiwibGVuZ3RoIiwiZGVsZXRlRWxlbWVudCIsInNwbGljZSIsImkiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGhpcyIsImNoYW5nZU5hbWUiLCJuZXdOYW1lIiwicHJvamVjdFRhc2siLCJhcnJheU9mVGFza3MiLCJhZGRFbGVtZW50IiwidGFzayIsImdldERlc2NyaXB0aW9uIiwiZ2V0RHVlRGF0ZSIsImdldERhdGUiLCJnZXRQcmlvcml0eSIsImdldFByb2plY3ROYW1lIiwiZ2V0TGluayIsImdldFRpdGxlIiwibmV3UHJvamVjdCIsImNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uIiwibmV3Q29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGVsQnR0biIsInNlbGVjdERpc3BsYXkiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInBvcHVsYXRlQ29udGFpbmVyIiwic2VsZWN0Q29udGFpbmVyIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJkZWxldGVUYXNrTG9naWMiLCJkZWxCdXR0b24iLCJuYW1lRmllbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYXJBbGwiLCJhZGRSZW5hbWluZ0J0dG4iLCJsYXN0RGl2IiwicmVuYW1lQnR0biIsInNlbGVjdERpdkludGVybmFsIiwiaW5zZXJ0QmVmb3JlIiwiYm9hcmQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWxlbSIsInJlbW92ZSIsIm5ld0xhYmVsIiwibmV3SW5wdXQiLCJva0J1dHRvbiIsImRyYXdGb3JtIiwiYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yIiwiYWxsIiwic3R5bGUiLCJmaWx0ZXIiLCJibHVyVGhlRm9ybSIsInByb2plY3RGb3JtQnV0dG9uIiwiaW5wdXRGb3JtIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJuYW1lT2ZOZXdCdXR0b24iLCJwcm9qZWN0c0NvbnRhaW5lciIsIm5ld0J1dHRvbiIsImNyZWF0ZUJ1dHRvbkZvck5ld1Byb2plY3QiLCJwcm9qZWN0Rm9ybSIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVRoZUZvcm0iLCJ1bmJsdXJUaGVGb3JtIiwic2VsZWN0QnV0dG9uIiwiZGVsUHJvamVjdEJ0dG4iLCJuYW1lT2ZQcm9qZWN0IiwiaiIsImJ1dHRvbnMiLCJkaXNwbGF5QXRTY3JlZW4iLCJkaXNwbGF5TG9naWNCdXR0b24iLCJkcmF3Rm9ybUxvZ2ljIiwibmV3TGFiZWxOYW1lIiwibmV3SW5wdXROYW1lIiwibmV3TGFiZWxEZXNjcmlwdGlvbiIsIm5ld0lucHV0RGVzY3JpcHRpb24iLCJuZXdMYWJlbERhdGUiLCJuZXdJbnB1dERhdGUiLCJuZXdMYWJlbFByaW9yaXR5IiwibmV3SW5wdXRQcmlvcml0eSIsImZvcm0iLCJzZWxlY3QiLCJkZWZPcHRpb24iLCJvcHRpb24iLCJpbnNlcnRBZGphY2VudEhUTUwiLCJkcmF3Rm9ybVRhc2siLCJibHVyVGhlRm9ybVRhc2siLCJva0J1dHRvblRhc2siLCJpbnB1dFNlbGVjdG9yIiwiZGVzY3IiLCJkYXRlIiwicHJvamVjdExpbmsiLCJuZXdUYXNrIiwibmV3VGl0bGUiLCJuZXdEZXNjcmlwdGlvbiIsIm5ld0R1ZURhdGUiLCJuZXdQcmlvcml0eSIsIm5ld1Byb2plY3RMaW5rIiwidGl0bGUiLCJhdXRvQ3JlYXRlVGFzayIsInRhc2tGb3JtQnV0dG9uIiwidGFza0Zvcm0iLCJyZW1vdmVUaGVGb3JtVGFzayIsInVuYmx1clRoZUZvcm1UYXNrIiwiZHJhd0Zvcm1Mb2dpY1Rhc2siXSwic291cmNlUm9vdCI6IiJ9