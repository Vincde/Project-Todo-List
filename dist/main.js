(()=>{"use strict";const e=function(){const e=[];return{pushProjectIntoArray:t=>{e.push(t)},getName:t=>e[t].getName(),getLength:()=>e.length,deleteElement:()=>{e.splice(i,1)}}}(),t=e;class n{constructor(e){this.name=e}changeName(e){this.name=e}getName(){return this.name}}const o=function(){const e=[];return{addElement:t=>{e.push(t)},getDescription:t=>e[t].getDescription(),getDueDate:t=>e[t].getDate(),getPriority:t=>e[t].getPriority(),getProjectName:t=>e[t].getLink(),getLength:()=>e.length,getLink:t=>e[t].getLink(),getName:t=>e[t].getTitle(),deleteElement:t=>{e.splice(t,1)},changeName:(t,n)=>{e[t].changeName(n)},changeDescription:(t,n)=>{e[t].changeDescription(n)},changeDueDate:(t,n)=>{e[t].changeDueDate(n)},changePriority:(t,n)=>{e[t].changePriority(n)},changeLink:(t,n)=>{e[t].changeLink(n)}}}(),r=o,c=function(e){let o=function(e){return new n(e)}(e);t.pushProjectIntoArray(o)};function u(){const e=document.createElement("div"),t=document.createElement("button"),n=document.querySelector(".todo-board");t.setAttribute("type","button"),t.textContent="delete this task",e.appendChild(t),n.appendChild(e)}function l(e){const t=document.querySelector(".todo-board > div:last-of-type"),n=document.createElement("div"),o=document.createElement("p"),c=document.createElement("p"),u=document.createElement("p"),l=document.createElement("p");o.textContent=r.getName(e),c.textContent=r.getDescription(e),u.textContent=r.getDueDate(e),l.textContent=r.getPriority(e),n.appendChild(o),n.appendChild(c),n.appendChild(u),n.appendChild(l),t.appendChild(n)}function a(){const e=document.createElement("div"),n=document.createElement("label"),o=document.createElement("input"),r=document.createElement("label"),c=document.createElement("input"),u=document.createElement("label"),l=document.createElement("input"),i=document.createElement("label"),a=document.createElement("input"),d=document.createElement("label"),m=document.createElement("select");d.setAttribute("for","labelSelect"),d.textContent="which project",m.setAttribute("id","labelSelect"),m.setAttribute("name","selectOption");const s=document.createElement("option");s.setAttribute("value","0"),s.textContent="none",m.appendChild(s);for(let e=0;e<t.getLength();e++){const n=document.createElement("option");n.textContent=`${t.getName(e)}`,n.setAttribute("value",`${t.getName(e)}`),m.appendChild(n)}const p=document.createElement("button");e.setAttribute("class","taskForm"),p.setAttribute("type","button"),p.textContent="Ok",o.setAttribute("id","NewTaskName"),n.textContent="Name => ",n.setAttribute("for","NewTaskName"),c.setAttribute("id","NewTaskDescription"),r.textContent="Description => ",r.setAttribute("for","NewTaskDescription"),l.setAttribute("id","NewTaskDate"),u.textContent="DueDate => ",u.setAttribute("for","NewTaskDate"),a.setAttribute("id","NewTaskPrio"),i.textContent="Priority => ",i.setAttribute("for","NewTaskPrio"),e.appendChild(n),e.appendChild(o),o.insertAdjacentHTML("afterend","<br>"),e.appendChild(r),e.appendChild(c),c.insertAdjacentHTML("afterend","<br>"),e.appendChild(u),e.appendChild(l),l.insertAdjacentHTML("afterend","<br>"),e.appendChild(i),e.appendChild(a),a.insertAdjacentHTML("afterend","<br>"),e.appendChild(d),e.appendChild(m),m.insertAdjacentHTML("afterend","<br>"),e.appendChild(p),document.querySelector("body").appendChild(e)}function d(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(1px)"}function m(){const e=document.querySelector(".taskForm button"),t=document.querySelector(".taskForm");e.parentElement.parentElement.removeChild(t)}function s(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(0)"}function p(){const e=document.querySelector(".todo-board div:last-of-type button:nth-child(1)"),t=document.querySelector(".todo-board div:last-of-type > div > p:nth-child(1)");e.addEventListener("click",(()=>{for(let e=0;e<r.getLength();e++)r.getName(e)===t.textContent&&r.deleteElement(e);b()}))}function h(e){document.querySelector(".todo-board div:last-of-type");const t=document.querySelector(".todo-board div:last-of-type button:nth-child(1)"),n=document.createElement("button");document.querySelector(".todo-board div:last-of-type div"),n.setAttribute("type","button"),n.textContent="Rename the Form",t.parentNode.insertBefore(n,t.nextSibling),n.addEventListener("click",(()=>{a(),d();const t=document.querySelector(".taskForm select"),n=document.querySelectorAll(".taskForm input");n[0].value=r.getName(e),n[1].value=r.getDescription(e),n[2].value=r.getDueDate(e),n[3].value=r.getPriority(e),t.value=r.getLink(e),document.querySelector(".taskForm button").addEventListener("click",(()=>{r.changeName(e,n[0].value),r.changeDescription(e,n[1].value),r.changeDueDate(e,n[2].value),r.changePriority(e,n[3].value),r.changeLink(e,t.value),s(),m()}))}))}function b(){const e=document.querySelectorAll(".todo-board *");for(let t of e)t.remove()}document.querySelector(".my-projects button").addEventListener("click",(()=>{b();for(let e=0;e<r.getLength();e++)u(),l(e),h(e)})),document.querySelector(".buttons button:first-of-type").addEventListener("click",(()=>{!function(){const e=document.createElement("div"),t=document.createElement("label"),n=document.createElement("input"),o=document.createElement("button");e.setAttribute("class","projectForm"),o.setAttribute("type","button"),o.textContent="Ok",n.setAttribute("id","NewProjectName"),t.textContent="Name => ",t.setAttribute("for","NewProjectName"),e.appendChild(t),e.appendChild(n),e.appendChild(o),document.querySelector("body").appendChild(e)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(1px)"}(),function(){const e=document.querySelector(".projectForm button"),n=(document.querySelector(".projectForm"),document.querySelector(".projectForm input"));e.addEventListener("click",(()=>{""==n.value&&null==n.value&&null==n.value||(c(n.value),function(e){const t=document.querySelector(".my-projects"),n=document.createElement("button");n.setAttribute("type","button"),n.textContent=e,t.appendChild(n)}(n.value),function(){const e=document.querySelector(".projectForm button"),t=document.querySelector(".projectForm");e.parentElement.parentElement.removeChild(t)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(0)"}(),function(){const e=document.querySelector(".my-projects button:last-of-type"),n=document.querySelector(".todo-board");e.addEventListener("click",(()=>{b();const o=document.createElement("button");var c;o.setAttribute("type","button"),o.textContent="delete this project",n.appendChild(o),c=e.textContent,document.querySelector(".todo-board button:nth-child(1)").addEventListener("click",(()=>{for(let e=0;e<r.getLength();e++)r.getLink(e)===c&&r.deleteElement(e);for(let e=0;e<t.getLength;e++)if(t.getName(i)===c){t.deleteElement(i);break}const e=document.querySelectorAll(".my-projects button");for(let t of e)t.textContent===c&&t.parentElement.removeChild(t);b()})),function(e){for(let t=0;t<r.getLength();t++)r.getLink(t)===e&&(u(),l(t),p(),h(t))}(e.textContent)}))}())}))}()})),document.querySelector(".buttons button:nth-child(2)").addEventListener("click",(()=>{a(),d(),function(){const e=document.querySelector(".taskForm button"),t=document.querySelectorAll(".taskForm input"),n=document.querySelector(".taskForm select");e.addEventListener("click",(()=>{let e=t[0].value,o=t[1].value,c=t[2].value,u=t[3].value,l=n.value;e&&o&&c&&u&&(function(e,t,n,o,c){const u=function(e,t,n,o,r){let c=e,u=t,l=n,i=o,a=r;return{getTitle:function(){return c},getDescription:function(){return u},getDate:function(){return l},getPriority:function(){return i},getProjectName:function(){return a},getLink:function(){return a},changeName:function(e){c=e},changeDescription:function(e){u=e},changeDueDate:function(e){l=e},changePriority:function(e){i=e},changeLink:function(e){a=e}}}(e,t,n,o,c);r.addElement(u)}(e,o,c,u,l),m(),s())}))}()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBdUJBLE1BQU1BLEVBdkJOLFdBQ0ksTUFBTUMsRUFBa0IsR0FtQnhCLE1BQU8sQ0FBQ0MscUJBaEJzQkMsSUFDMUJGLEVBQWdCRyxLQUFLRCxFQUFRLEVBZUpFLFFBWlpDLEdBQ05MLEVBQWdCSyxHQUFPRCxVQVdHRSxVQVJuQixJQUNQTixFQUFnQk8sT0FPb0JDLGNBSnpCLEtBQ2xCUixFQUFnQlMsT0FBT0MsRUFBRSxFQUFFLEVBSW5DLENBRXFCVixHQUVyQixJQ3pCQSxNQUFNVyxFQUVGLFdBQUFDLENBQVlDLEdBQ1JDLEtBQUtELEtBQU9BLENBQ2hCLENBRUEsVUFBQUUsQ0FBV0MsR0FDUEYsS0FBS0QsS0FBT0csQ0FDaEIsQ0FFQSxPQUFBWixHQUNJLE9BQU9VLEtBQUtELElBQ2hCLEVBVUosTUNzQ01JLEVBNUROLFdBQ0ksTUFBTUMsRUFBZSxHQXdEckIsTUFBTyxDQUFDQyxXQWxEWUMsSUFDaEJGLEVBQWFmLEtBQUtpQixFQUFLLEVBaURSQyxlQTlDS2hCLEdBQ2JhLEVBQWFiLEdBQU9nQixpQkE2Q0dDLFdBMUNkakIsR0FDVGEsRUFBYWIsR0FBT2tCLFVBeUNjQyxZQXRDeEJuQixHQUNWYSxFQUFhYixHQUFPbUIsY0FxQzBCQyxlQWxDakNwQixHQUNiYSxFQUFhYixHQUFPcUIsVUFpQ3lDcEIsVUE5QnRELElBQ1BZLEVBQWFYLE9BNkIwRG1CLFFBMUJqRXJCLEdBQ05hLEVBQWFiLEdBQU9xQixVQXlCMkR0QixRQXREekVDLEdBQ05hLEVBQWFiLEdBQU9zQixXQXFEbUVuQixjQXRCM0VILElBQ25CYSxFQUFhVCxPQUFPSixFQUFNLEVBQUUsRUFxQmdGVSxXQWxCN0YsQ0FBQ1YsRUFBTVcsS0FDdEJFLEVBQWFiLEdBQU9VLFdBQVdDLEVBQVEsRUFpQmdGWSxrQkFmakcsQ0FBQ3ZCLEVBQU13QixLQUM3QlgsRUFBYWIsR0FBT3VCLGtCQUFrQkMsRUFBZSxFQWNvRkMsY0FadkgsQ0FBQ3pCLEVBQU0wQixLQUN6QmIsRUFBYWIsR0FBT3lCLGNBQWNDLEVBQVcsRUFXMEdDLGVBVHBJLENBQUMzQixFQUFNNEIsS0FDMUJmLEVBQWFiLEdBQU8yQixlQUFlQyxFQUFZLEVBUXVIQyxXQU52SixDQUFDN0IsRUFBTThCLEtBQ3RCakIsRUFBYWIsR0FBTzZCLFdBQVdDLEVBQVEsRUFNL0MsQ0FFb0JqQixHQUVwQixJQzdDQSxFQVhBLFNBQTRDTCxHQUN4QyxJQUFJdUIsRUZRUixTQUEwQnZCLEdBRXRCLE9BRG1CLElBQUlGLEVBQVFFLEVBRW5DLENFWHFCLENBQWlCQSxHQUNsQyxFQUFhWixxQkFBcUJtQyxFQUN0QyxFQ2dJQSxTQUFTQyxJQUNMLE1BQU1DLEVBQWVDLFNBQVNDLGNBQWMsT0FDdENDLEVBQVVGLFNBQVNDLGNBQWMsVUFDakNFLEVBQWdCSCxTQUFTSSxjQUFjLGVBRTdDRixFQUFRRyxhQUFhLE9BQVEsVUFDN0JILEVBQVFJLFlBQWMsbUJBRXRCUCxFQUFhUSxZQUFZTCxHQUN6QkMsRUFBY0ksWUFBWVIsRUFDOUIsQ0FFQSxTQUFTUyxFQUFrQnJDLEdBQ3ZCLE1BQU1zQyxFQUFrQlQsU0FBU0ksY0FBYyxrQ0FFekNMLEVBQWVDLFNBQVNDLGNBQWMsT0FDdEMzQixFQUFPMEIsU0FBU0MsY0FBYyxLQUM5QlMsRUFBY1YsU0FBU0MsY0FBYyxLQUNyQ1UsRUFBVVgsU0FBU0MsY0FBYyxLQUNqQ1csRUFBV1osU0FBU0MsY0FBYyxLQUV4QzNCLEVBQUtnQyxZQUFjLEVBQVl6QyxRQUFRTSxHQUN2Q3VDLEVBQVlKLFlBQWMsRUFBWXhCLGVBQWVYLEdBQ3JEd0MsRUFBUUwsWUFBYyxFQUFZdkIsV0FBV1osR0FDN0N5QyxFQUFTTixZQUFjLEVBQVlyQixZQUFZZCxHQUUvQzRCLEVBQWFRLFlBQVlqQyxHQUN6QnlCLEVBQWFRLFlBQVlHLEdBQ3pCWCxFQUFhUSxZQUFZSSxHQUN6QlosRUFBYVEsWUFBWUssR0FFekJILEVBQWdCRixZQUFZUixFQUVoQyxDQTJDQSxTQUFTYyxJQUNMLE1BQU1kLEVBQWVDLFNBQVNDLGNBQWMsT0FFdENhLEVBQWVkLFNBQVNDLGNBQWMsU0FDdENjLEVBQWVmLFNBQVNDLGNBQWMsU0FFdENlLEVBQXNCaEIsU0FBU0MsY0FBYyxTQUM3Q2dCLEVBQXNCakIsU0FBU0MsY0FBYyxTQUU3Q2lCLEVBQWVsQixTQUFTQyxjQUFjLFNBQ3RDa0IsRUFBZW5CLFNBQVNDLGNBQWMsU0FFdENtQixFQUFtQnBCLFNBQVNDLGNBQWMsU0FDMUNvQixFQUFtQnJCLFNBQVNDLGNBQWMsU0FFMUNxQixFQUFPdEIsU0FBU0MsY0FBYyxTQUM5QnNCLEVBQVN2QixTQUFTQyxjQUFjLFVBQ3RDcUIsRUFBS2pCLGFBQWEsTUFBTSxlQUN4QmlCLEVBQUtoQixZQUFjLGdCQUNuQmlCLEVBQU9sQixhQUFhLEtBQUssZUFDekJrQixFQUFPbEIsYUFBYSxPQUFPLGdCQUUzQixNQUFNbUIsRUFBWXhCLFNBQVNDLGNBQWMsVUFDekN1QixFQUFVbkIsYUFBYSxRQUFRLEtBQy9CbUIsRUFBVWxCLFlBQWMsT0FDeEJpQixFQUFPaEIsWUFBWWlCLEdBRW5CLElBQUksSUFBSXJELEVBQUksRUFBR0EsRUFBSSxFQUFhSixZQUFhSSxJQUFJLENBQzdDLE1BQU1zRCxFQUFTekIsU0FBU0MsY0FBYyxVQUN0Q3dCLEVBQU9uQixZQUFjLEdBQUcsRUFBYXpDLFFBQVFNLEtBQzdDc0QsRUFBT3BCLGFBQWEsUUFBUSxHQUFHLEVBQWF4QyxRQUFRTSxNQUNwRG9ELEVBQU9oQixZQUFZa0IsRUFDdkIsQ0FHQSxNQUFNQyxFQUFXMUIsU0FBU0MsY0FBYyxVQUl4Q0YsRUFBYU0sYUFBYSxRQUFRLFlBRWxDcUIsRUFBU3JCLGFBQWEsT0FBTyxVQUM3QnFCLEVBQVNwQixZQUFjLEtBSXZCUyxFQUFhVixhQUFhLEtBQUssZUFDL0JTLEVBQWFSLFlBQWEsV0FDMUJRLEVBQWFULGFBQWEsTUFBTSxlQUVoQ1ksRUFBb0JaLGFBQWEsS0FBSyxzQkFDdENXLEVBQW9CVixZQUFjLGtCQUNsQ1UsRUFBb0JYLGFBQWEsTUFBTSxzQkFFdkNjLEVBQWFkLGFBQWEsS0FBSyxlQUMvQmEsRUFBYVosWUFBYyxjQUMzQlksRUFBYWIsYUFBYSxNQUFNLGVBRWhDZ0IsRUFBaUJoQixhQUFhLEtBQUssZUFDbkNlLEVBQWlCZCxZQUFjLGVBQy9CYyxFQUFpQmYsYUFBYSxNQUFNLGVBS3BDTixFQUFhUSxZQUFZTyxHQUN6QmYsRUFBYVEsWUFBWVEsR0FFekJBLEVBQWFZLG1CQUFtQixXQUFXLFFBRTNDNUIsRUFBYVEsWUFBWVMsR0FDekJqQixFQUFhUSxZQUFZVSxHQUV6QkEsRUFBb0JVLG1CQUFtQixXQUFXLFFBRWxENUIsRUFBYVEsWUFBWVcsR0FDekJuQixFQUFhUSxZQUFZWSxHQUV6QkEsRUFBYVEsbUJBQW1CLFdBQVcsUUFFM0M1QixFQUFhUSxZQUFZYSxHQUN6QnJCLEVBQWFRLFlBQVljLEdBRXpCQSxFQUFpQk0sbUJBQW1CLFdBQVcsUUFFL0M1QixFQUFhUSxZQUFZZSxHQUN6QnZCLEVBQWFRLFlBQVlnQixHQUV6QkEsRUFBT0ksbUJBQW1CLFdBQVcsUUFFckM1QixFQUFhUSxZQUFZbUIsR0FFSjFCLFNBQVNJLGNBQWMsUUFDL0JHLFlBQVlSLEVBRTdCLENBOEJBLFNBQVM2QixJQUNMLE1BQU1DLEVBQTJCN0IsU0FBUzhCLGlCQUFpQixzQkFFM0QsSUFBSSxJQUFJQyxLQUFPRixFQUNmRSxFQUFJQyxNQUFNQyxPQUFTLFdBRXZCLENBRUEsU0FBU0MsSUFDTCxNQUFNQyxFQUFpQm5DLFNBQVNJLGNBQWMsb0JBQ3hDZ0MsRUFBV3BDLFNBQVNJLGNBQWMsYUFDeEMrQixFQUFlRSxjQUFjQSxjQUFjQyxZQUFZRixFQUMzRCxDQUVBLFNBQVNHLElBQ0wsTUFBTVYsRUFBMkI3QixTQUFTOEIsaUJBQWlCLHNCQUV2RCxJQUFJLElBQUlDLEtBQU9GLEVBQ1hFLEVBQUlDLE1BQU1DLE9BQVMsU0FFL0IsQ0FHQSxTQUFTTyxJQUNMLE1BQU1DLEVBQVl6QyxTQUFTSSxjQUFjLG9EQUNuQ3NDLEVBQVkxQyxTQUFTSSxjQUFjLHVEQUV6Q3FDLEVBQVVFLGlCQUFpQixTQUFTLEtBQ2hDLElBQUksSUFBSXhFLEVBQUksRUFBR0EsRUFBSSxFQUFZSixZQUFjSSxJQUN0QyxFQUFZTixRQUFRTSxLQUFPdUUsRUFBVXBDLGFBQ3BDLEVBQVlyQyxjQUFjRSxHQUdsQ3lFLEdBQVUsR0FFbEIsQ0FFQSxTQUFTQyxFQUFnQjFFLEdBQ0w2QixTQUFTSSxjQUFjLGdDQUF2QyxNQUNNMEMsRUFBVzlDLFNBQVNJLGNBQWMsb0RBQ2xDMkMsRUFBYS9DLFNBQVNDLGNBQWMsVUFDaEJELFNBQVNJLGNBQWMsb0NBRWpEMkMsRUFBVzFDLGFBQWEsT0FBTyxVQUMvQjBDLEVBQVd6QyxZQUFjLGtCQUV6QndDLEVBQVNFLFdBQVdDLGFBQWFGLEVBQVlELEVBQVNJLGFBRXRESCxFQUFXSixpQkFBaUIsU0FBUyxLQUNqQzlCLElBQ0FlLElBRUEsTUFBTUwsRUFBU3ZCLFNBQVNJLGNBQWMsb0JBQ2hDK0MsRUFBZ0JuRCxTQUFTOEIsaUJBQWlCLG1CQUVoRHFCLEVBQWMsR0FBR0MsTUFBUSxFQUFZdkYsUUFBUU0sR0FDN0NnRixFQUFjLEdBQUdDLE1BQVEsRUFBWXRFLGVBQWVYLEdBQ3BEZ0YsRUFBYyxHQUFHQyxNQUFRLEVBQVlyRSxXQUFXWixHQUNoRGdGLEVBQWMsR0FBR0MsTUFBUSxFQUFZbkUsWUFBWWQsR0FDakRvRCxFQUFPNkIsTUFBUSxFQUFZakUsUUFBUWhCLEdBRWQ2QixTQUFTSSxjQUFjLG9CQUMvQnVDLGlCQUFpQixTQUFTLEtBQ25DLEVBQVluRSxXQUFXTCxFQUFFZ0YsRUFBYyxHQUFHQyxPQUMxQyxFQUFZL0Qsa0JBQWtCbEIsRUFBRWdGLEVBQWMsR0FBR0MsT0FDakQsRUFBWTdELGNBQWNwQixFQUFFZ0YsRUFBYyxHQUFHQyxPQUM3QyxFQUFZM0QsZUFBZXRCLEVBQUVnRixFQUFjLEdBQUdDLE9BQzlDLEVBQVl6RCxXQUFXeEIsRUFBRW9ELEVBQU82QixPQUVoQ2IsSUFDQUwsR0FBbUIsR0FDckIsR0FHVixDQWdCQSxTQUFTVSxJQUNMLE1BQU1TLEVBQVFyRCxTQUFTOEIsaUJBQWlCLGlCQUV4QyxJQUFJLElBQUl3QixLQUFRRCxFQUNaQyxFQUFLQyxRQUViLENBakIwQnZELFNBQVNJLGNBQWMsdUJBQy9CdUMsaUJBQWlCLFNBQVMsS0FDcENDLElBQ0EsSUFBSSxJQUFJekUsRUFBSSxFQUFHQSxFQUFJLEVBQVlKLFlBQWFJLElBQ3hDMkIsSUFDQVUsRUFBa0JyQyxHQUNsQjBFLEVBQWdCMUUsRUFDcEIsSUFqYWU2QixTQUFTSSxjQUFjLGlDQUUvQnVDLGlCQUFpQixTQUFTLE1BUXpDLFdBQ0ksTUFBTTVDLEVBQWVDLFNBQVNDLGNBQWMsT0FDdEN1RCxFQUFXeEQsU0FBU0MsY0FBYyxTQUNsQ3dELEVBQVd6RCxTQUFTQyxjQUFjLFNBQ2xDeUIsRUFBVzFCLFNBQVNDLGNBQWMsVUFFeENGLEVBQWFNLGFBQWEsUUFBUSxlQUVsQ3FCLEVBQVNyQixhQUFhLE9BQU8sVUFDN0JxQixFQUFTcEIsWUFBYyxLQUV2Qm1ELEVBQVNwRCxhQUFhLEtBQUssa0JBQzNCbUQsRUFBU2xELFlBQWMsV0FDdkJrRCxFQUFTbkQsYUFBYSxNQUFNLGtCQUU1Qk4sRUFBYVEsWUFBWWlELEdBQ3pCekQsRUFBYVEsWUFBWWtELEdBQ3pCMUQsRUFBYVEsWUFBWW1CLEdBRUoxQixTQUFTSSxjQUFjLFFBQy9CRyxZQUFZUixFQUU3QixDQTdCUTJELEdBZ0NSLFdBQ0ksTUFBTTdCLEVBQTJCN0IsU0FBUzhCLGlCQUFpQix5QkFFM0QsSUFBSSxJQUFJQyxLQUFPRixFQUNmRSxFQUFJQyxNQUFNQyxPQUFTLFdBRXZCLENBckNRMEIsR0F3Q1IsV0FDSSxNQUFNQyxFQUFvQjVELFNBQVNJLGNBQWMsdUJBRTNDeUQsR0FEYzdELFNBQVNJLGNBQWMsZ0JBQ3pCSixTQUFTSSxjQUFjLHVCQUV6Q3dELEVBQWtCakIsaUJBQWlCLFNBQVMsS0FDbEIsSUFBbkJrQixFQUFVVCxPQUNTVSxNQUFuQkQsRUFBVVQsT0FDUyxNQUFuQlMsRUFBVVQsUUFFVCxFQUFtQ1MsRUFBVVQsT0FXekQsU0FBbUNXLEdBQy9CLE1BQU1DLEVBQW9CaEUsU0FBU0ksY0FBYyxnQkFDM0M2RCxFQUFZakUsU0FBU0MsY0FBYyxVQUV6Q2dFLEVBQVU1RCxhQUFhLE9BQU8sVUFFOUI0RCxFQUFVM0QsWUFBY3lELEVBRXhCQyxFQUFrQnpELFlBQVkwRCxFQUNsQyxDQW5CWUMsQ0FBMEJMLEVBQVVULE9Bc0JoRCxXQUNJLE1BQU1RLEVBQW9CNUQsU0FBU0ksY0FBYyx1QkFDM0MrRCxFQUFjbkUsU0FBU0ksY0FBYyxnQkFDM0N3RCxFQUFrQnZCLGNBQWNBLGNBQWNDLFlBQVk2QixFQUM5RCxDQXpCWUMsR0E2QlosV0FDSSxNQUFNdkMsRUFBMkI3QixTQUFTOEIsaUJBQWlCLHlCQUV2RCxJQUFJLElBQUlDLEtBQU9GLEVBQ1hFLEVBQUlDLE1BQU1DLE9BQVMsU0FFL0IsQ0FsQ1lvQyxHQXFDWixXQUNJLE1BQU1DLEVBQWV0RSxTQUFTSSxjQUFjLG9DQUN0Q0QsRUFBZ0JILFNBQVNJLGNBQWMsZUFHN0NrRSxFQUFhM0IsaUJBQWlCLFNBQVEsS0FDbENDLElBR0EsTUFBTTJCLEVBQWlCdkUsU0FBU0MsY0FBYyxVQThEdEQsSUFBNEJ1RSxFQTdEcEJELEVBQWVsRSxhQUFhLE9BQU8sVUFDbkNrRSxFQUFlakUsWUFBYyxzQkFHN0JILEVBQWNJLFlBQVlnRSxHQXlETkMsRUF4RERGLEVBQWFoRSxZQXlEbEJOLFNBQVNJLGNBQWMsbUNBRS9CdUMsaUJBQWlCLFNBQVMsS0FDaEMsSUFBSSxJQUFJeEUsRUFBSSxFQUFHQSxFQUFJLEVBQVlKLFlBQWFJLElBQ3JDLEVBQVlnQixRQUFRaEIsS0FBT3FHLEdBQzFCLEVBQVl2RyxjQUFjRSxHQUdsQyxJQUFJLElBQUlzRyxFQUFJLEVBQUdBLEVBQUksRUFBYTFHLFVBQVcwRyxJQUN2QyxHQUFHLEVBQWE1RyxRQUFRTSxLQUFPcUcsRUFBYyxDQUN6QyxFQUFhdkcsY0FBY0UsR0FDM0IsS0FDSixDQUdKLE1BQU11RyxFQUFVMUUsU0FBUzhCLGlCQUFpQix1QkFFMUMsSUFBSSxJQUFJd0IsS0FBUW9CLEVBQ1RwQixFQUFLaEQsY0FBZ0JrRSxHQUNwQmxCLEVBQUtqQixjQUFjQyxZQUFZZ0IsR0FJdkNWLEdBQVUsSUExRWxCLFNBQXlCNEIsR0FFckIsSUFBSSxJQUFJckcsRUFBSSxFQUFHQSxFQUFJLEVBQVlKLFlBQWFJLElBQ3JDLEVBQVlnQixRQUFRaEIsS0FBT3FHLElBQzFCMUUsSUFDQVUsRUFBa0JyQyxHQUNsQnFFLElBQ0FLLEVBQWdCMUUsR0FLNUIsQ0FoQlF3RyxDQUFnQkwsRUFBYWhFLFlBQVksR0FFakQsQ0F2RFlzRSxHQUNKLEdBSVIsQ0ExRFFDLEVBQWUsSUErTEY3RSxTQUFTSSxjQUFjLGdDQUUvQnVDLGlCQUFpQixTQUFTLEtBQy9COUIsSUFDQWUsSUF1R1IsV0FDSSxNQUFNa0QsRUFBZTlFLFNBQVNJLGNBQWMsb0JBQ3RDK0MsRUFBZ0JuRCxTQUFTOEIsaUJBQWlCLG1CQUMxQ1AsRUFBU3ZCLFNBQVNJLGNBQWMsb0JBSXRDMEUsRUFBYW5DLGlCQUFpQixTQUFTLEtBQ25DLElBQUlyRSxFQUFPNkUsRUFBYyxHQUFHQyxNQUN4QjJCLEVBQVE1QixFQUFjLEdBQUdDLE1BQ3pCNEIsRUFBTzdCLEVBQWMsR0FBR0MsTUFDeEJ4QyxFQUFXdUMsRUFBYyxHQUFHQyxNQUM1QjZCLEVBQWMxRCxFQUFPNkIsTUFFdEI5RSxHQUNBeUcsR0FDQUMsR0FDQXBFLElENVRYLFNBQXdCdEMsRUFBS3lHLEVBQU1DLEVBQUtwRSxFQUFTcUUsR0FDN0MsTUFBTUMsRUVaVixTQUEyQkMsRUFBUzdGLEVBQWVFLEVBQVdFLEVBQVkwRixHQUN0RSxJQUFJQyxFQUFRRixFQUNSekUsRUFBY3BCLEVBQ2RxQixFQUFVbkIsRUFDVm9CLEVBQVdsQixFQUNYdUYsRUFBY0csRUFzQ2xCLE1BQU8sQ0FBQ2hHLFNBcENSLFdBQ0ksT0FBT2lHLENBQ1gsRUFrQ2lCdkcsZUFqQ2pCLFdBQ0ksT0FBTzRCLENBQ1gsRUErQmdDMUIsUUE5QmhDLFdBQ0ksT0FBTzJCLENBQ1gsRUE0QndDMUIsWUEzQnhDLFdBQ0ksT0FBTzJCLENBQ1gsRUF5Qm9EMUIsZUF4QnBELFdBQ0ksT0FBTytGLENBQ1gsRUFzQm1FOUYsUUFyQm5FLFdBQ0ksT0FBTzhGLENBQ1gsRUFtQjJFekcsV0FsQjNFLFNBQW9CQyxHQUNoQjRHLEVBQVE1RyxDQUNaLEVBZ0JzRlksa0JBZnRGLFNBQTJCQyxHQUN2Qm9CLEVBQWNwQixDQUNsQixFQWF3R0MsY0FaeEcsU0FBdUJDLEdBQ25CbUIsRUFBVW5CLENBQ2QsRUFVc0hDLGVBVHRILFNBQXdCQyxHQUNwQmtCLEVBQVdsQixDQUNmLEVBT3FJQyxXQU5ySSxTQUFvQkMsR0FDaEJxRixFQUFjckYsQ0FDbEIsRUFLSixDRmhDb0IsQ0FBa0J0QixFQUFLeUcsRUFBTUMsRUFBS3BFLEVBQVNxRSxHQUMzRCxFQUFZckcsV0FBV3NHLEVBQzNCLENDMFRnQkksQ0FBZWhILEVBQUt5RyxFQUFNQyxFQUFLcEUsRUFBU3FFLEdBQ3hDL0MsSUFDQUssSUFDTCxHQUlYLENBL0hRZ0QsRUFBbUIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvdGVtcGxhdGVGaWxlcy9hcnJheU9mUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZUYXNrcy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3Byb2plY3RNYW5hZ2UvbmV3UHJvamVjdENhbGwuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9kb20vZG9tLmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvdGVtcGxhdGVGaWxlcy90YXNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGFycmF5T2ZQcm9qZWN0cygpe1xuICAgIGNvbnN0IGFycmF5T2ZQcm9qZWN0cyA9IFtdO1xuXG5cbiAgICBjb25zdCBwdXNoUHJvamVjdEludG9BcnJheSA9IChwcm9qZWN0KSA9PntcbiAgICAgICAgYXJyYXlPZlByb2plY3RzLnB1c2gocHJvamVjdCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TmFtZSA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlByb2plY3RzW2NvdW50XS5nZXROYW1lKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TGVuZ3RoID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlByb2plY3RzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVFbGVtZW50ID0gKCkgPT4ge1xuICAgICAgICBhcnJheU9mUHJvamVjdHMuc3BsaWNlKGksMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtwdXNoUHJvamVjdEludG9BcnJheSxnZXROYW1lLGdldExlbmd0aCxkZWxldGVFbGVtZW50fTtcbn1cblxuY29uc3QgcHJvamVjdEFycmF5ID0gYXJyYXlPZlByb2plY3RzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHByb2plY3RBcnJheTsiLCJjbGFzcyBQcm9qZWN0e1xuXG4gICAgY29uc3RydWN0b3IobmFtZSl7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgY2hhbmdlTmFtZShuZXdOYW1lKXtcbiAgICAgICAgdGhpcy5uYW1lID0gbmV3TmFtZTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCl7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0KG5hbWUpe1xuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBuZXcgUHJvamVjdChuYW1lKTtcbiAgICByZXR1cm4gbmV3UHJvamVjdDtcbn1cblxuLy9BZGQgdGhpcyBmdW5jdGlvbmFsaXR5IGhlcmUgdG8gbm90IGhhdmUgYW5vdGhlciBmaWxlIHRvIG1hbmFnZVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVOZXdQcm9qZWN0OyIsImZ1bmN0aW9uIGFycmF5T2ZUYXNrcygpe1xuICAgIGNvbnN0IGFycmF5T2ZUYXNrcyA9IFtdO1xuXG4gICAgY29uc3QgZ2V0TmFtZSA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXRUaXRsZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGFkZEVsZW1lbnQgPSAodGFzaykgPT57XG4gICAgICAgIGFycmF5T2ZUYXNrcy5wdXNoKHRhc2spO1xuICAgIH1cblxuICAgIGNvbnN0IGdldERlc2NyaXB0aW9uID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldERlc2NyaXB0aW9uKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0RHVlRGF0ZSA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXREYXRlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0UHJpb3JpdHkgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0UHJpb3JpdHkoKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRQcm9qZWN0TmFtZSA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXRMaW5rKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TGVuZ3RoID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRMaW5rID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldExpbmsoKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVFbGVtZW50ID0gKGNvdW50KSA9PiB7XG4gICAgICAgIGFycmF5T2ZUYXNrcy5zcGxpY2UoY291bnQsMSk7XG4gICAgfVxuXG4gICAgY29uc3QgY2hhbmdlTmFtZSA9IChjb3VudCxuZXdOYW1lKSA9PiB7XG4gICAgICAgIGFycmF5T2ZUYXNrc1tjb3VudF0uY2hhbmdlTmFtZShuZXdOYW1lKTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlRGVzY3JpcHRpb24gPSAoY291bnQsbmV3RGVzY3JpcHRpb24pID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzW2NvdW50XS5jaGFuZ2VEZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZUR1ZURhdGUgPSAoY291bnQsbmV3RHVlRGF0ZSkgPT4ge1xuICAgICAgICBhcnJheU9mVGFza3NbY291bnRdLmNoYW5nZUR1ZURhdGUobmV3RHVlRGF0ZSk7XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZVByaW9yaXR5ID0gKGNvdW50LG5ld1ByaW9yaXR5KSA9PiB7XG4gICAgICAgIGFycmF5T2ZUYXNrc1tjb3VudF0uY2hhbmdlUHJpb3JpdHkobmV3UHJpb3JpdHkpO1xuICAgIH1cbiAgICBjb25zdCBjaGFuZ2VMaW5rID0gKGNvdW50LG5ld0xpbmspID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzW2NvdW50XS5jaGFuZ2VMaW5rKG5ld0xpbmspO1xuICAgIH1cblxuXG5cbiAgICByZXR1cm4ge2FkZEVsZW1lbnQsZ2V0RGVzY3JpcHRpb24sZ2V0RHVlRGF0ZSxnZXRQcmlvcml0eSxnZXRQcm9qZWN0TmFtZSxnZXRMZW5ndGgsZ2V0TGluayxnZXROYW1lLGRlbGV0ZUVsZW1lbnQsY2hhbmdlTmFtZSxjaGFuZ2VEZXNjcmlwdGlvbixjaGFuZ2VEdWVEYXRlLGNoYW5nZVByaW9yaXR5LGNoYW5nZUxpbmt9O1xufVxuXG5jb25zdCBwcm9qZWN0VGFzayA9IGFycmF5T2ZUYXNrcygpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0VGFzazsiLCJpbXBvcnQgcHJvamVjdEFycmF5IGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZQcm9qZWN0cy5qc1wiO1xuaW1wb3J0IGNyZWF0ZU5ld1Byb2plY3QgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvcHJvamVjdC5qc1wiO1xuaW1wb3J0IGNyZWF0ZVRhc2tGb3JUb2RvIGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL3Rhc2suanNcIjtcbmltcG9ydCBwcm9qZWN0VGFzayBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mVGFza3MuanNcIjtcblxuXG5mdW5jdGlvbiBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5KG5hbWUpe1xuICAgIGxldCBuZXdQcm9qZWN0ID0gY3JlYXRlTmV3UHJvamVjdChuYW1lKTtcbiAgICBwcm9qZWN0QXJyYXkucHVzaFByb2plY3RJbnRvQXJyYXkobmV3UHJvamVjdCk7XG59XG5cbmZ1bmN0aW9uIGF1dG9DcmVhdGVUYXNrKG5hbWUsZGVzY3IsZGF0ZSxwcmlvcml0eSxwcm9qZWN0TGluayl7XG4gICAgY29uc3QgbmV3VGFzayA9IGNyZWF0ZVRhc2tGb3JUb2RvKG5hbWUsZGVzY3IsZGF0ZSxwcmlvcml0eSxwcm9qZWN0TGluayk7XG4gICAgcHJvamVjdFRhc2suYWRkRWxlbWVudChuZXdUYXNrKTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5O1xuZXhwb3J0IHthdXRvQ3JlYXRlVGFza307XG5cblxuXG5cbiIsImltcG9ydCBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5IGZyb20gXCIuLi9wcm9qZWN0TWFuYWdlL25ld1Byb2plY3RDYWxsLmpzXCI7XG5pbXBvcnQgcHJvamVjdFRhc2sgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlRhc2tzLmpzXCI7XG5pbXBvcnQgcHJvamVjdEFycmF5IGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZQcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgYXV0b0NyZWF0ZVRhc2sgfSBmcm9tIFwiLi4vcHJvamVjdE1hbmFnZS9uZXdQcm9qZWN0Q2FsbC5qc1wiO1xuXG5cbmZ1bmN0aW9uIHN0YXJ0TmV3UHJvamVjdEJ1dHRvbigpe1xuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9ucyBidXR0b246Zmlyc3Qtb2YtdHlwZScpO1xuXG4gICAgbmV3UHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIGRyYXdGb3JtKCk7XG4gICAgICAgIGJsdXJUaGVGb3JtKCk7XG4gICAgICAgIGRyYXdGb3JtTG9naWMoKTtcbiAgICB9KTtcblxufVxuXG5mdW5jdGlvbiBkcmF3Rm9ybSgpe1xuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IG5ld0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY29uc3Qgb2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBcbiAgICBuZXdDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsJ3Byb2plY3RGb3JtJyk7XG5cbiAgICBva0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcbiAgICBva0J1dHRvbi50ZXh0Q29udGVudCA9ICdPayc7XG5cbiAgICBuZXdJbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3UHJvamVjdE5hbWUnKTtcbiAgICBuZXdMYWJlbC50ZXh0Q29udGVudCA9ICdOYW1lID0+ICc7XG4gICAgbmV3TGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCdOZXdQcm9qZWN0TmFtZScpO1xuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0xhYmVsKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXQpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChva0J1dHRvbik7XG5cbiAgICBjb25zdCBib2R5U2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgYm9keVNlbGVjdG9yLmFwcGVuZENoaWxkKG5ld0NvbnRhaW5lcik7XG5cbn1cblxuXG5mdW5jdGlvbiBibHVyVGhlRm9ybSgpe1xuICAgIGNvbnN0IGFsbEV4Y2VwdE91ckZvcm1TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdjpub3QoLnByb2plY3RGb3JtKScpO1xuICAgIFxuICAgIGZvcihsZXQgYWxsIG9mIGFsbEV4Y2VwdE91ckZvcm1TZWxlY3Rvcil7XG4gICAgYWxsLnN0eWxlLmZpbHRlciA9ICdibHVyKDFweCknO1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBkcmF3Rm9ybUxvZ2ljKCl7XG4gICAgY29uc3QgcHJvamVjdEZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0gYnV0dG9uJyk7XG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0nKTtcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0gaW5wdXQnKTtcblxuICAgIHByb2plY3RGb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZihpbnB1dEZvcm0udmFsdWUgIT0gJycgfHxcbiAgICAgICAgICAgaW5wdXRGb3JtLnZhbHVlICE9IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICBpbnB1dEZvcm0udmFsdWUgIT0gbnVsbCl7XG5cbiAgICAgICAgICAgIGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXkoaW5wdXRGb3JtLnZhbHVlKTtcbiAgICAgICAgICAgIGNyZWF0ZUJ1dHRvbkZvck5ld1Byb2plY3QoaW5wdXRGb3JtLnZhbHVlKTtcbiAgICAgICAgICAgIHJlbW92ZVRoZUZvcm0oKTtcbiAgICAgICAgICAgIHVuYmx1clRoZUZvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlMb2dpY0J1dHRvbigpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnV0dG9uRm9yTmV3UHJvamVjdChuYW1lT2ZOZXdCdXR0b24pe1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LXByb2plY3RzJyk7XG4gICAgY29uc3QgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBuZXdCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG5cbiAgICBuZXdCdXR0b24udGV4dENvbnRlbnQgPSBuYW1lT2ZOZXdCdXR0b247XG5cbiAgICBwcm9qZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdCdXR0b24pO1xufVxuXG5cbmZ1bmN0aW9uIHJlbW92ZVRoZUZvcm0oKXtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybSBidXR0b24nKTtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybScpO1xuICAgIHByb2plY3RGb3JtQnV0dG9uLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChwcm9qZWN0Rm9ybSk7XG59XG5cblxuXG5mdW5jdGlvbiB1bmJsdXJUaGVGb3JtKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgucHJvamVjdEZvcm0pJyk7XG4gICAgXG4gICAgICAgIGZvcihsZXQgYWxsIG9mIGFsbEV4Y2VwdE91ckZvcm1TZWxlY3Rvcil7XG4gICAgICAgICAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMCknO1xuICAgICAgICAgICAgfVxufVxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlMb2dpY0J1dHRvbigpe1xuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1wcm9qZWN0cyBidXR0b246bGFzdC1vZi10eXBlJyk7XG4gICAgY29uc3Qgc2VsZWN0RGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkJyk7XG4gICAgXG5cbiAgICBzZWxlY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpID0+IHtcbiAgICAgICAgY2xlYXJBbGwoKTtcblxuXG4gICAgICAgIGNvbnN0IGRlbFByb2plY3RCdHRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbFByb2plY3RCdHRuLnNldEF0dHJpYnV0ZSgndHlwZScsJ2J1dHRvbicpO1xuICAgICAgICBkZWxQcm9qZWN0QnR0bi50ZXh0Q29udGVudCA9ICdkZWxldGUgdGhpcyBwcm9qZWN0JztcbiAgICAgICAgXG5cbiAgICAgICAgc2VsZWN0RGlzcGxheS5hcHBlbmRDaGlsZChkZWxQcm9qZWN0QnR0bik7XG4gICAgICAgIGRlbGV0ZVByb2plY3RMb2dpYyhzZWxlY3RCdXR0b24udGV4dENvbnRlbnQpO1xuXG4gICAgICAgIGRpc3BsYXlBdFNjcmVlbihzZWxlY3RCdXR0b24udGV4dENvbnRlbnQpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5QXRTY3JlZW4obmFtZU9mUHJvamVjdCl7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2suZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgIGlmKHByb2plY3RUYXNrLmdldExpbmsoaSkgPT09IG5hbWVPZlByb2plY3Qpe1xuICAgICAgICAgICAgY3JlYXRlTmV3RGl2c1dpdGhEZWxCdXR0b24oKTtcbiAgICAgICAgICAgIHBvcHVsYXRlQ29udGFpbmVyKGkpO1xuICAgICAgICAgICAgZGVsZXRlVGFza0xvZ2ljKCk7XG4gICAgICAgICAgICBhZGRSZW5hbWluZ0J0dG4oaSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBcbn1cblxuXG5mdW5jdGlvbiBjcmVhdGVOZXdEaXZzV2l0aERlbEJ1dHRvbigpe1xuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGRlbEJ0dG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjb25zdCBzZWxlY3REaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQnKTtcbiAgICBcbiAgICBkZWxCdHRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBkZWxCdHRuLnRleHRDb250ZW50ID0gJ2RlbGV0ZSB0aGlzIHRhc2snO1xuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGRlbEJ0dG4pO1xuICAgIHNlbGVjdERpc3BsYXkuYXBwZW5kQ2hpbGQobmV3Q29udGFpbmVyKTtcbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVDb250YWluZXIoaSl7XG4gICAgY29uc3Qgc2VsZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgPiBkaXY6bGFzdC1vZi10eXBlJyk7XG5cbiAgICBjb25zdCBuZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgcHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cbiAgICBuYW1lLnRleHRDb250ZW50ID0gcHJvamVjdFRhc2suZ2V0TmFtZShpKTtcbiAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHByb2plY3RUYXNrLmdldERlc2NyaXB0aW9uKGkpO1xuICAgIGR1ZURhdGUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXREdWVEYXRlKGkpO1xuICAgIHByaW9yaXR5LnRleHRDb250ZW50ID0gcHJvamVjdFRhc2suZ2V0UHJpb3JpdHkoaSk7IFxuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5hbWUpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbik7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGR1ZURhdGUpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChwcmlvcml0eSk7XG5cbiAgICBzZWxlY3RDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3Q29udGFpbmVyKTtcblxufVxuXG5mdW5jdGlvbiBkZWxldGVQcm9qZWN0TG9naWMobmFtZU9mUHJvamVjdCl7XG4gICAgY29uc3QgZGVsQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgYnV0dG9uOm50aC1jaGlsZCgxKScpO1xuXG4gICAgZGVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2suZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgICAgICBpZihwcm9qZWN0VGFzay5nZXRMaW5rKGkpID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFzay5kZWxldGVFbGVtZW50KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBwcm9qZWN0QXJyYXkuZ2V0TGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgaWYocHJvamVjdEFycmF5LmdldE5hbWUoaSkgPT09IG5hbWVPZlByb2plY3Qpe1xuICAgICAgICAgICAgICAgIHByb2plY3RBcnJheS5kZWxldGVFbGVtZW50KGkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5teS1wcm9qZWN0cyBidXR0b24nKTtcblxuICAgICAgICBmb3IobGV0IGVsZW0gb2YgYnV0dG9ucyl7XG4gICAgICAgICAgICBpZihlbGVtLnRleHRDb250ZW50ID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgICAgICBlbGVtLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhckFsbCgpO1xuICAgIH0pO1xufVxuXG4vLyBBREQgTkVXIEVWRU5UIFRBU0tcblxuZnVuY3Rpb24gYWRkTmV3RXZlbnRCdXR0b24oKXtcbiAgICBjb25zdCBuZXdFdmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25zIGJ1dHRvbjpudGgtY2hpbGQoMiknKTtcbiAgICBcbiAgICBuZXdFdmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZHJhd0Zvcm1UYXNrKCk7XG4gICAgICAgIGJsdXJUaGVGb3JtVGFzaygpO1xuICAgICAgICBkcmF3Rm9ybUxvZ2ljVGFzaygpO1xuICAgIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGRyYXdGb3JtVGFzaygpe1xuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgbmV3TGFiZWxOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gICAgY29uc3QgbmV3TGFiZWxEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbERhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0RGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgIGZvcm0uc2V0QXR0cmlidXRlKCdmb3InLCdsYWJlbFNlbGVjdCcpO1xuICAgIGZvcm0udGV4dENvbnRlbnQgPSAnd2hpY2ggcHJvamVjdCc7XG4gICAgc2VsZWN0LnNldEF0dHJpYnV0ZSgnaWQnLCdsYWJlbFNlbGVjdCcpO1xuICAgIHNlbGVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCdzZWxlY3RPcHRpb24nKTtcblxuICAgIGNvbnN0IGRlZk9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIGRlZk9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywnMCcpO1xuICAgIGRlZk9wdGlvbi50ZXh0Q29udGVudCA9ICdub25lJztcbiAgICBzZWxlY3QuYXBwZW5kQ2hpbGQoZGVmT3B0aW9uKTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyYXkuZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0QXJyYXkuZ2V0TmFtZShpKX1gO1xuICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsYCR7cHJvamVjdEFycmF5LmdldE5hbWUoaSl9YCk7XG4gICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH1cblxuXG4gICAgY29uc3Qgb2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuXG4gICAgXG4gICAgbmV3Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCd0YXNrRm9ybScpO1xuXG4gICAgb2tCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgb2tCdXR0b24udGV4dENvbnRlbnQgPSAnT2snO1xuXG5cblxuICAgIG5ld0lucHV0TmFtZS5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza05hbWUnKTtcbiAgICBuZXdMYWJlbE5hbWUudGV4dENvbnRlbnQgPSdOYW1lID0+ICc7XG4gICAgbmV3TGFiZWxOYW1lLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza05hbWUnKTtcblxuICAgIG5ld0lucHV0RGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Rhc2tEZXNjcmlwdGlvbicpO1xuICAgIG5ld0xhYmVsRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSAnRGVzY3JpcHRpb24gPT4gJztcbiAgICBuZXdMYWJlbERlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza0Rlc2NyaXB0aW9uJyk7XG5cbiAgICBuZXdJbnB1dERhdGUuc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Rhc2tEYXRlJyk7XG4gICAgbmV3TGFiZWxEYXRlLnRleHRDb250ZW50ID0gJ0R1ZURhdGUgPT4gJztcbiAgICBuZXdMYWJlbERhdGUuc2V0QXR0cmlidXRlKCdmb3InLCdOZXdUYXNrRGF0ZScpO1xuXG4gICAgbmV3SW5wdXRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza1ByaW8nKTtcbiAgICBuZXdMYWJlbFByaW9yaXR5LnRleHRDb250ZW50ID0gJ1ByaW9yaXR5ID0+ICc7XG4gICAgbmV3TGFiZWxQcmlvcml0eS5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Rhc2tQcmlvJyk7XG5cbiAgIFxuXG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxOYW1lKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXROYW1lKTtcblxuICAgIG5ld0lucHV0TmFtZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxEZXNjcmlwdGlvbik7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0RGVzY3JpcHRpb24pO1xuXG4gICAgbmV3SW5wdXREZXNjcmlwdGlvbi5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxEYXRlKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXREYXRlKTtcblxuICAgIG5ld0lucHV0RGF0ZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxQcmlvcml0eSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0UHJpb3JpdHkpO1xuXG4gICAgbmV3SW5wdXRQcmlvcml0eS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGVjdCk7XG5cbiAgICBzZWxlY3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsXCI8YnI+XCIpO1xuICAgIFxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChva0J1dHRvbik7XG5cbiAgICBjb25zdCBib2R5U2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgYm9keVNlbGVjdG9yLmFwcGVuZENoaWxkKG5ld0NvbnRhaW5lcik7XG5cbn1cblxuZnVuY3Rpb24gZHJhd0Zvcm1Mb2dpY1Rhc2soKXtcbiAgICBjb25zdCBva0J1dHRvblRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0gYnV0dG9uJyk7XG4gICAgY29uc3QgaW5wdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrRm9ybSBpbnB1dCcpO1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBzZWxlY3QnKTtcblxuICAgIFxuXG4gICAgb2tCdXR0b25UYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgICAgIGxldCBuYW1lID0gaW5wdXRTZWxlY3RvclswXS52YWx1ZTtcbiAgICAgICAgbGV0IGRlc2NyID0gaW5wdXRTZWxlY3RvclsxXS52YWx1ZTtcbiAgICAgICAgbGV0IGRhdGUgPSBpbnB1dFNlbGVjdG9yWzJdLnZhbHVlO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBpbnB1dFNlbGVjdG9yWzNdLnZhbHVlO1xuICAgICAgICBsZXQgcHJvamVjdExpbmsgPSBzZWxlY3QudmFsdWU7XG5cbiAgICAgICAgaWYobmFtZSAgJiZcbiAgICAgICAgICAgZGVzY3IgJiZcbiAgICAgICAgICAgZGF0ZSAgJiZcbiAgICAgICAgICAgcHJpb3JpdHkpe1xuICAgICAgICAgICAgICAgIGF1dG9DcmVhdGVUYXNrKG5hbWUsZGVzY3IsZGF0ZSxwcmlvcml0eSxwcm9qZWN0TGluayk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGhlRm9ybVRhc2soKTtcbiAgICAgICAgICAgICAgICB1bmJsdXJUaGVGb3JtVGFzaygpO1xuICAgICAgICAgICB9XG5cblxuICAgIH0pO1xufVxuXG5cbmZ1bmN0aW9uIGJsdXJUaGVGb3JtVGFzaygpe1xuICAgIGNvbnN0IGFsbEV4Y2VwdE91ckZvcm1TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdjpub3QoLnRhc2tGb3JtKScpO1xuICAgIFxuICAgIGZvcihsZXQgYWxsIG9mIGFsbEV4Y2VwdE91ckZvcm1TZWxlY3Rvcil7XG4gICAgYWxsLnN0eWxlLmZpbHRlciA9ICdibHVyKDFweCknO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGhlRm9ybVRhc2soKXtcbiAgICBjb25zdCB0YXNrRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBidXR0b24nKTtcbiAgICBjb25zdCB0YXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybScpO1xuICAgIHRhc2tGb3JtQnV0dG9uLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0YXNrRm9ybSk7XG59XG5cbmZ1bmN0aW9uIHVuYmx1clRoZUZvcm1UYXNrKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgudGFza0Zvcm0pJyk7XG4gICAgXG4gICAgICAgIGZvcihsZXQgYWxsIG9mIGFsbEV4Y2VwdE91ckZvcm1TZWxlY3Rvcil7XG4gICAgICAgICAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMCknO1xuICAgICAgICAgICAgfVxufVxuXG5cbmZ1bmN0aW9uIGRlbGV0ZVRhc2tMb2dpYygpe1xuICAgIGNvbnN0IGRlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkIGRpdjpsYXN0LW9mLXR5cGUgYnV0dG9uOm50aC1jaGlsZCgxKScpO1xuICAgIGNvbnN0IG5hbWVGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkIGRpdjpsYXN0LW9mLXR5cGUgPiBkaXYgPiBwOm50aC1jaGlsZCgxKScpO1xuXG4gICAgZGVsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2suZ2V0TGVuZ3RoKCkgOyBpKyspe1xuICAgICAgICAgICAgaWYocHJvamVjdFRhc2suZ2V0TmFtZShpKSA9PT0gbmFtZUZpZWxkLnRleHRDb250ZW50KXtcbiAgICAgICAgICAgICAgICBwcm9qZWN0VGFzay5kZWxldGVFbGVtZW50KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsZWFyQWxsKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFJlbmFtaW5nQnR0bihpKXtcbiAgICBjb25zdCBsYXN0RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZScpO1xuICAgIGNvbnN0IGxhc3RCdHRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSBidXR0b246bnRoLWNoaWxkKDEpJyk7XG4gICAgY29uc3QgcmVuYW1lQnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IHNlbGVjdERpdkludGVybmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tYm9hcmQgZGl2Omxhc3Qtb2YtdHlwZSBkaXYnKTtcblxuICAgIHJlbmFtZUJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgcmVuYW1lQnR0bi50ZXh0Q29udGVudCA9ICdSZW5hbWUgdGhlIEZvcm0nO1xuXG4gICAgbGFzdEJ0dG4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocmVuYW1lQnR0biwgbGFzdEJ0dG4ubmV4dFNpYmxpbmcpO1xuXG4gICAgcmVuYW1lQnR0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZHJhd0Zvcm1UYXNrKCk7XG4gICAgICAgIGJsdXJUaGVGb3JtVGFzaygpO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBzZWxlY3QnKTtcbiAgICAgICAgY29uc3QgaW5wdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrRm9ybSBpbnB1dCcpO1xuICAgICAgICBcbiAgICAgICAgaW5wdXRTZWxlY3RvclswXS52YWx1ZSA9IHByb2plY3RUYXNrLmdldE5hbWUoaSk7XG4gICAgICAgIGlucHV0U2VsZWN0b3JbMV0udmFsdWUgPSBwcm9qZWN0VGFzay5nZXREZXNjcmlwdGlvbihpKTtcbiAgICAgICAgaW5wdXRTZWxlY3RvclsyXS52YWx1ZSA9IHByb2plY3RUYXNrLmdldER1ZURhdGUoaSk7XG4gICAgICAgIGlucHV0U2VsZWN0b3JbM10udmFsdWUgPSBwcm9qZWN0VGFzay5nZXRQcmlvcml0eShpKTtcbiAgICAgICAgc2VsZWN0LnZhbHVlID0gcHJvamVjdFRhc2suZ2V0TGluayhpKTtcblxuICAgICAgICBjb25zdCBva0J1dHRvblRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0gYnV0dG9uJyk7XG4gICAgICAgIG9rQnV0dG9uVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmNoYW5nZU5hbWUoaSxpbnB1dFNlbGVjdG9yWzBdLnZhbHVlKTtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmNoYW5nZURlc2NyaXB0aW9uKGksaW5wdXRTZWxlY3RvclsxXS52YWx1ZSk7XG4gICAgICAgICAgICBwcm9qZWN0VGFzay5jaGFuZ2VEdWVEYXRlKGksaW5wdXRTZWxlY3RvclsyXS52YWx1ZSk7XG4gICAgICAgICAgICBwcm9qZWN0VGFzay5jaGFuZ2VQcmlvcml0eShpLGlucHV0U2VsZWN0b3JbM10udmFsdWUpO1xuICAgICAgICAgICAgcHJvamVjdFRhc2suY2hhbmdlTGluayhpLHNlbGVjdC52YWx1ZSk7XG5cbiAgICAgICAgICAgIHVuYmx1clRoZUZvcm1UYXNrKCk7XG4gICAgICAgICAgICByZW1vdmVUaGVGb3JtVGFzaygpO1xuICAgICAgICB9KTtcblxuICAgIH0pO1xufVxuXG5cbi8vREVGQVVMVCBCVVRUT04gTUVUSE9EXG5mdW5jdGlvbiBzdGFydERlZmF1bHRCdXR0b24oKXtcbiAgICBjb25zdCBkZWZhdWx0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LXByb2plY3RzIGJ1dHRvbicpO1xuICAgIGRlZmF1bHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyQWxsKCk7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCk7XG4gICAgICAgICAgICBwb3B1bGF0ZUNvbnRhaW5lcihpKTtcbiAgICAgICAgICAgIGFkZFJlbmFtaW5nQnR0bihpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhckFsbCgpe1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvZG8tYm9hcmQgKicpO1xuXG4gICAgZm9yKGxldCBlbGVtIG9mIGJvYXJkKXtcbiAgICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5leHBvcnQge3N0YXJ0TmV3UHJvamVjdEJ1dHRvbixcbiAgICAgICAgY2xlYXJBbGwsXG4gICAgICAgIGFkZE5ld0V2ZW50QnV0dG9uLFxuICAgICAgICBzdGFydERlZmF1bHRCdXR0b259OyIsImZ1bmN0aW9uIGNyZWF0ZVRhc2tGb3JUb2RvKG5ld1RpdGxlLG5ld0Rlc2NyaXB0aW9uLG5ld0R1ZURhdGUsbmV3UHJpb3JpdHksbmV3UHJvamVjdExpbmspe1xuICAgIGxldCB0aXRsZSA9IG5ld1RpdGxlO1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgIGxldCBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICBsZXQgcHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICBsZXQgcHJvamVjdExpbmsgPSBuZXdQcm9qZWN0TGluaztcblxuICAgIGZ1bmN0aW9uIGdldFRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRlKCl7XG4gICAgICAgIHJldHVybiBkdWVEYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0eSgpe1xuICAgICAgICByZXR1cm4gcHJpb3JpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFByb2plY3ROYW1lKCl7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TGluaztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGluaygpe1xuICAgICAgICByZXR1cm4gcHJvamVjdExpbms7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYW5nZU5hbWUobmV3TmFtZSl7XG4gICAgICAgIHRpdGxlID0gbmV3TmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhbmdlRGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pe1xuICAgICAgICBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uXG4gICAgfSAgICBcbiAgICBmdW5jdGlvbiBjaGFuZ2VEdWVEYXRlKG5ld0R1ZURhdGUpe1xuICAgICAgICBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhbmdlUHJpb3JpdHkobmV3UHJpb3JpdHkpe1xuICAgICAgICBwcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFuZ2VMaW5rKG5ld0xpbmspe1xuICAgICAgICBwcm9qZWN0TGluayA9IG5ld0xpbms7XG4gICAgfSAgIFxuICAgIFxuICAgIFxuXG4gICAgcmV0dXJuIHtnZXRUaXRsZSxnZXREZXNjcmlwdGlvbixnZXREYXRlLGdldFByaW9yaXR5LGdldFByb2plY3ROYW1lLGdldExpbmssY2hhbmdlTmFtZSxjaGFuZ2VEZXNjcmlwdGlvbixjaGFuZ2VEdWVEYXRlLGNoYW5nZVByaW9yaXR5LGNoYW5nZUxpbmt9O1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRhc2tGb3JUb2RvOyJdLCJuYW1lcyI6WyJwcm9qZWN0QXJyYXkiLCJhcnJheU9mUHJvamVjdHMiLCJwdXNoUHJvamVjdEludG9BcnJheSIsInByb2plY3QiLCJwdXNoIiwiZ2V0TmFtZSIsImNvdW50IiwiZ2V0TGVuZ3RoIiwibGVuZ3RoIiwiZGVsZXRlRWxlbWVudCIsInNwbGljZSIsImkiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJuYW1lIiwidGhpcyIsImNoYW5nZU5hbWUiLCJuZXdOYW1lIiwicHJvamVjdFRhc2siLCJhcnJheU9mVGFza3MiLCJhZGRFbGVtZW50IiwidGFzayIsImdldERlc2NyaXB0aW9uIiwiZ2V0RHVlRGF0ZSIsImdldERhdGUiLCJnZXRQcmlvcml0eSIsImdldFByb2plY3ROYW1lIiwiZ2V0TGluayIsImdldFRpdGxlIiwiY2hhbmdlRGVzY3JpcHRpb24iLCJuZXdEZXNjcmlwdGlvbiIsImNoYW5nZUR1ZURhdGUiLCJuZXdEdWVEYXRlIiwiY2hhbmdlUHJpb3JpdHkiLCJuZXdQcmlvcml0eSIsImNoYW5nZUxpbmsiLCJuZXdMaW5rIiwibmV3UHJvamVjdCIsImNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uIiwibmV3Q29udGFpbmVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGVsQnR0biIsInNlbGVjdERpc3BsYXkiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInBvcHVsYXRlQ29udGFpbmVyIiwic2VsZWN0Q29udGFpbmVyIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJkcmF3Rm9ybVRhc2siLCJuZXdMYWJlbE5hbWUiLCJuZXdJbnB1dE5hbWUiLCJuZXdMYWJlbERlc2NyaXB0aW9uIiwibmV3SW5wdXREZXNjcmlwdGlvbiIsIm5ld0xhYmVsRGF0ZSIsIm5ld0lucHV0RGF0ZSIsIm5ld0xhYmVsUHJpb3JpdHkiLCJuZXdJbnB1dFByaW9yaXR5IiwiZm9ybSIsInNlbGVjdCIsImRlZk9wdGlvbiIsIm9wdGlvbiIsIm9rQnV0dG9uIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiYmx1clRoZUZvcm1UYXNrIiwiYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImFsbCIsInN0eWxlIiwiZmlsdGVyIiwicmVtb3ZlVGhlRm9ybVRhc2siLCJ0YXNrRm9ybUJ1dHRvbiIsInRhc2tGb3JtIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwidW5ibHVyVGhlRm9ybVRhc2siLCJkZWxldGVUYXNrTG9naWMiLCJkZWxCdXR0b24iLCJuYW1lRmllbGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYXJBbGwiLCJhZGRSZW5hbWluZ0J0dG4iLCJsYXN0QnR0biIsInJlbmFtZUJ0dG4iLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJpbnB1dFNlbGVjdG9yIiwidmFsdWUiLCJib2FyZCIsImVsZW0iLCJyZW1vdmUiLCJuZXdMYWJlbCIsIm5ld0lucHV0IiwiZHJhd0Zvcm0iLCJibHVyVGhlRm9ybSIsInByb2plY3RGb3JtQnV0dG9uIiwiaW5wdXRGb3JtIiwidW5kZWZpbmVkIiwibmFtZU9mTmV3QnV0dG9uIiwicHJvamVjdHNDb250YWluZXIiLCJuZXdCdXR0b24iLCJjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0IiwicHJvamVjdEZvcm0iLCJyZW1vdmVUaGVGb3JtIiwidW5ibHVyVGhlRm9ybSIsInNlbGVjdEJ1dHRvbiIsImRlbFByb2plY3RCdHRuIiwibmFtZU9mUHJvamVjdCIsImoiLCJidXR0b25zIiwiZGlzcGxheUF0U2NyZWVuIiwiZGlzcGxheUxvZ2ljQnV0dG9uIiwiZHJhd0Zvcm1Mb2dpYyIsIm9rQnV0dG9uVGFzayIsImRlc2NyIiwiZGF0ZSIsInByb2plY3RMaW5rIiwibmV3VGFzayIsIm5ld1RpdGxlIiwibmV3UHJvamVjdExpbmsiLCJ0aXRsZSIsImF1dG9DcmVhdGVUYXNrIiwiZHJhd0Zvcm1Mb2dpY1Rhc2siXSwic291cmNlUm9vdCI6IiJ9