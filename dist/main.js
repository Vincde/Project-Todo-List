(()=>{"use strict";const e=function(){const e=[];return{pushProjectIntoArray:t=>{e.push(t)},getName:t=>e[t].getName(),getLength:()=>e.length}}(),t=e;class n{constructor(e){this.name=e}changeName(e){this.name=e}getName(){return this.name}}const o=function(){const e=[];return{addElement:t=>{e.push(t)},getDescription:t=>e[t].getDescription(),getDueDate:t=>e[t].getDate(),getPriority:t=>e[t].getPriority(),getProjectName:t=>e[t].getLink(),getLength:()=>e.length,getLink:t=>e[t].getLink(),getName:t=>e[t].getTitle()}}(),r=o,c=function(e){let o=function(e){return new n(e)}(e);t.pushProjectIntoArray(o)};function u(){const e=document.createElement("div"),t=document.createElement("button"),n=document.querySelector(".todo-board");t.setAttribute("type","button"),t.textContent="delete this task",e.appendChild(t),n.appendChild(e)}function l(e){const t=document.querySelector(".todo-board > div:last-of-type"),n=document.createElement("div"),o=document.createElement("p"),c=document.createElement("p"),u=document.createElement("p"),l=document.createElement("p");o.textContent=r.getName(e),c.textContent=r.getDescription(e),u.textContent=r.getDueDate(e),l.textContent=r.getPriority(e),n.appendChild(o),n.appendChild(c),n.appendChild(u),n.appendChild(l),t.appendChild(n)}function i(){const e=document.querySelectorAll(".todo-board *");for(let t of e)t.remove()}document.querySelector(".my-projects button").addEventListener("click",(()=>{i();for(let e=0;e<r.getLength();e++)console.log("aa"),u(),l(e)})),document.querySelector(".buttons button:first-of-type").addEventListener("click",(()=>{!function(){const e=document.createElement("div"),t=document.createElement("label"),n=document.createElement("input"),o=document.createElement("button");e.setAttribute("class","projectForm"),o.setAttribute("type","button"),o.textContent="Ok",n.setAttribute("id","NewProjectName"),t.textContent="Name => ",t.setAttribute("for","NewProjectName"),e.appendChild(t),e.appendChild(n),e.appendChild(o),document.querySelector("body").appendChild(e)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(1px)"}(),function(){const e=document.querySelector(".projectForm button"),t=(document.querySelector(".projectForm"),document.querySelector(".projectForm input"));e.addEventListener("click",(()=>{""==t.value&&null==t.value&&null==t.value||(c(t.value),function(e){const t=document.querySelector(".my-projects"),n=document.createElement("button");n.setAttribute("type","button"),n.textContent=e,t.appendChild(n)}(t.value),function(){const e=document.querySelector(".projectForm button"),t=document.querySelector(".projectForm");e.parentElement.parentElement.removeChild(t)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(0)"}(),function(){const e=document.querySelector(".my-projects button:last-of-type"),t=document.querySelector(".todo-board");e.addEventListener("click",(()=>{i();const n=document.createElement("button");n.setAttribute("type","button"),n.textContent="delete this project",t.appendChild(n),function(e){for(let t=0;t<r.getLength();t++)r.getLink(t)===e&&(u(),l(t))}(e.textContent)}))}())}))}()})),document.querySelector(".buttons button:nth-child(2)").addEventListener("click",(()=>{!function(){const e=document.createElement("div"),n=document.createElement("label"),o=document.createElement("input"),r=document.createElement("label"),c=document.createElement("input"),u=document.createElement("label"),l=document.createElement("input"),i=document.createElement("label"),d=document.createElement("input"),a=document.createElement("label"),m=document.createElement("select");a.setAttribute("for","labelSelect"),a.textContent="which project",m.setAttribute("id","labelSelect"),m.setAttribute("name","selectOption");const s=document.createElement("option");s.setAttribute("value","0"),s.textContent="none",m.appendChild(s);for(let e=0;e<t.getLength();e++){const n=document.createElement("option");n.textContent=`${t.getName(e)}`,n.setAttribute("value",`${t.getName(e)}`),m.appendChild(n)}const p=document.createElement("button");e.setAttribute("class","taskForm"),p.setAttribute("type","button"),p.textContent="Ok",o.setAttribute("id","NewTaskName"),n.textContent="Name => ",n.setAttribute("for","NewTaskName"),c.setAttribute("id","NewTaskDescription"),r.textContent="Description => ",r.setAttribute("for","NewTaskDescription"),l.setAttribute("id","NewTaskDate"),u.textContent="DueDate => ",u.setAttribute("for","NewTaskDate"),d.setAttribute("id","NewTaskPrio"),i.textContent="Priority => ",i.setAttribute("for","NewTaskPrio"),e.appendChild(n),e.appendChild(o),o.insertAdjacentHTML("afterend","<br>"),e.appendChild(r),e.appendChild(c),c.insertAdjacentHTML("afterend","<br>"),e.appendChild(u),e.appendChild(l),l.insertAdjacentHTML("afterend","<br>"),e.appendChild(i),e.appendChild(d),d.insertAdjacentHTML("afterend","<br>"),e.appendChild(a),e.appendChild(m),m.insertAdjacentHTML("afterend","<br>"),e.appendChild(p),document.querySelector("body").appendChild(e)}(),function(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(1px)"}(),function(){const e=document.querySelector(".taskForm button"),t=document.querySelectorAll(".taskForm input"),n=document.querySelector(".taskForm select");e.addEventListener("click",(()=>{let e=t[0].value,o=t[1].value,c=t[2].value,u=t[3].value,l=n.value;e&&o&&c&&u&&(function(e,t,n,o,c){const u=function(e,t,n,o,r){let c=e,u=t,l=n,i=o,d=r;return{getTitle:function(){return c},getDescription:function(){return u},getDate:function(){return l},getPriority:function(){return i},getProjectName:function(){return d},getLink:function(){return d}}}(e,t,n,o,c);r.addElement(u)}(e,o,c,u,l),function(){const e=document.querySelector(".taskForm button"),t=document.querySelector(".taskForm");e.parentElement.parentElement.removeChild(t)}(),function(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(0)"}())}))}()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBbUJBLE1BQU1BLEVBbkJOLFdBQ0ksTUFBTUMsRUFBa0IsR0FleEIsTUFBTyxDQUFDQyxxQkFac0JDLElBQzFCRixFQUFnQkcsS0FBS0QsRUFBUSxFQVdKRSxRQVJaQyxHQUNOTCxFQUFnQkssR0FBT0QsVUFPR0UsVUFKbkIsSUFDUE4sRUFBZ0JPLE9BSS9CLENBRXFCUCxHQUVyQixJQ3JCQSxNQUFNUSxFQUVGLFdBQUFDLENBQVlDLEdBQ1JDLEtBQUtELEtBQU9BLENBQ2hCLENBRUEsVUFBQUUsQ0FBV0MsR0FDUEYsS0FBS0QsS0FBT0csQ0FDaEIsQ0FFQSxPQUFBVCxHQUNJLE9BQU9PLEtBQUtELElBQ2hCLEVBVUosTUNrQk1JLEVBeENOLFdBQ0ksTUFBTUMsRUFBZSxHQW9DckIsTUFBTyxDQUFDQyxXQTlCWUMsSUFDaEJGLEVBQWFaLEtBQUtjLEVBQUssRUE2QlJDLGVBMUJLYixHQUNiVSxFQUFhVixHQUFPYSxpQkF5QkdDLFdBdEJkZCxHQUNUVSxFQUFhVixHQUFPZSxVQXFCY0MsWUFsQnhCaEIsR0FDVlUsRUFBYVYsR0FBT2dCLGNBaUIwQkMsZUFkakNqQixHQUNiVSxFQUFhVixHQUFPa0IsVUFheUNqQixVQVZ0RCxJQUNQUyxFQUFhUixPQVMwRGdCLFFBTmpFbEIsR0FDTlUsRUFBYVYsR0FBT2tCLFVBSzJEbkIsUUFsQ3pFQyxHQUNOVSxFQUFhVixHQUFPbUIsV0FrQ25DLENBRW9CVCxHQUVwQixJQ3pCQSxFQVhBLFNBQTRDTCxHQUN4QyxJQUFJZSxFRlFSLFNBQTBCZixHQUV0QixPQURtQixJQUFJRixFQUFRRSxFQUVuQyxDRVhxQixDQUFpQkEsR0FDbEMsRUFBYVQscUJBQXFCd0IsRUFDdEMsRUM0SEEsU0FBU0MsSUFDTCxNQUFNQyxFQUFlQyxTQUFTQyxjQUFjLE9BQ3RDQyxFQUFVRixTQUFTQyxjQUFjLFVBQ2pDRSxFQUFnQkgsU0FBU0ksY0FBYyxlQUU3Q0YsRUFBUUcsYUFBYSxPQUFRLFVBQzdCSCxFQUFRSSxZQUFjLG1CQUV0QlAsRUFBYVEsWUFBWUwsR0FDekJDLEVBQWNJLFlBQVlSLEVBQzlCLENBRUEsU0FBU1MsRUFBa0JDLEdBQ3ZCLE1BQU1DLEVBQWtCVixTQUFTSSxjQUFjLGtDQUV6Q0wsRUFBZUMsU0FBU0MsY0FBYyxPQUN0Q25CLEVBQU9rQixTQUFTQyxjQUFjLEtBQzlCVSxFQUFjWCxTQUFTQyxjQUFjLEtBQ3JDVyxFQUFVWixTQUFTQyxjQUFjLEtBQ2pDWSxFQUFXYixTQUFTQyxjQUFjLEtBRXhDbkIsRUFBS3dCLFlBQWMsRUFBWTlCLFFBQVFpQyxHQUN2Q0UsRUFBWUwsWUFBYyxFQUFZaEIsZUFBZW1CLEdBQ3JERyxFQUFRTixZQUFjLEVBQVlmLFdBQVdrQixHQUM3Q0ksRUFBU1AsWUFBYyxFQUFZYixZQUFZZ0IsR0FFL0NWLEVBQWFRLFlBQVl6QixHQUN6QmlCLEVBQWFRLFlBQVlJLEdBQ3pCWixFQUFhUSxZQUFZSyxHQUN6QmIsRUFBYVEsWUFBWU0sR0FFekJILEVBQWdCSCxZQUFZUixFQUVoQyxDQW9MQSxTQUFTZSxJQUNMLE1BQU1DLEVBQVFmLFNBQVNnQixpQkFBaUIsaUJBRXhDLElBQUksSUFBSUMsS0FBUUYsRUFDWkUsRUFBS0MsUUFFYixDQWpCMEJsQixTQUFTSSxjQUFjLHVCQUMvQmUsaUJBQWlCLFNBQVMsS0FDcENMLElBQ0EsSUFBSSxJQUFJTCxFQUFJLEVBQUdBLEVBQUksRUFBWS9CLFlBQWErQixJQUN4Q1csUUFBUUMsSUFBSSxNQUNadkIsSUFDQVUsRUFBa0JDLEVBQ3RCLElBL1VlVCxTQUFTSSxjQUFjLGlDQUUvQmUsaUJBQWlCLFNBQVMsTUFRekMsV0FDSSxNQUFNcEIsRUFBZUMsU0FBU0MsY0FBYyxPQUN0Q3FCLEVBQVd0QixTQUFTQyxjQUFjLFNBQ2xDc0IsRUFBV3ZCLFNBQVNDLGNBQWMsU0FDbEN1QixFQUFXeEIsU0FBU0MsY0FBYyxVQUV4Q0YsRUFBYU0sYUFBYSxRQUFRLGVBRWxDbUIsRUFBU25CLGFBQWEsT0FBTyxVQUM3Qm1CLEVBQVNsQixZQUFjLEtBRXZCaUIsRUFBU2xCLGFBQWEsS0FBSyxrQkFDM0JpQixFQUFTaEIsWUFBYyxXQUN2QmdCLEVBQVNqQixhQUFhLE1BQU0sa0JBRTVCTixFQUFhUSxZQUFZZSxHQUN6QnZCLEVBQWFRLFlBQVlnQixHQUN6QnhCLEVBQWFRLFlBQVlpQixHQUVKeEIsU0FBU0ksY0FBYyxRQUMvQkcsWUFBWVIsRUFFN0IsQ0E3QlEwQixHQWdDUixXQUNJLE1BQU1DLEVBQTJCMUIsU0FBU2dCLGlCQUFpQix5QkFFM0QsSUFBSSxJQUFJVyxLQUFPRCxFQUNmQyxFQUFJQyxNQUFNQyxPQUFTLFdBRXZCLENBckNRQyxHQXdDUixXQUNJLE1BQU1DLEVBQW9CL0IsU0FBU0ksY0FBYyx1QkFFM0M0QixHQURjaEMsU0FBU0ksY0FBYyxnQkFDekJKLFNBQVNJLGNBQWMsdUJBRXpDMkIsRUFBa0JaLGlCQUFpQixTQUFTLEtBQ2xCLElBQW5CYSxFQUFVQyxPQUNTQyxNQUFuQkYsRUFBVUMsT0FDUyxNQUFuQkQsRUFBVUMsUUFFVCxFQUFtQ0QsRUFBVUMsT0FXekQsU0FBbUNFLEdBQy9CLE1BQU1DLEVBQW9CcEMsU0FBU0ksY0FBYyxnQkFDM0NpQyxFQUFZckMsU0FBU0MsY0FBYyxVQUV6Q29DLEVBQVVoQyxhQUFhLE9BQU8sVUFFOUJnQyxFQUFVL0IsWUFBYzZCLEVBRXhCQyxFQUFrQjdCLFlBQVk4QixFQUNsQyxDQW5CWUMsQ0FBMEJOLEVBQVVDLE9Bc0JoRCxXQUNJLE1BQU1GLEVBQW9CL0IsU0FBU0ksY0FBYyx1QkFDM0NtQyxFQUFjdkMsU0FBU0ksY0FBYyxnQkFDM0MyQixFQUFrQlMsY0FBY0EsY0FBY0MsWUFBWUYsRUFDOUQsQ0F6QllHLEdBNkJaLFdBQ0ksTUFBTWhCLEVBQTJCMUIsU0FBU2dCLGlCQUFpQix5QkFFdkQsSUFBSSxJQUFJVyxLQUFPRCxFQUNYQyxFQUFJQyxNQUFNQyxPQUFTLFNBRS9CLENBbENZYyxHQXFDWixXQUNJLE1BQU1DLEVBQWU1QyxTQUFTSSxjQUFjLG9DQUN0Q0QsRUFBZ0JILFNBQVNJLGNBQWMsZUFHN0N3QyxFQUFhekIsaUJBQWlCLFNBQVEsS0FDbENMLElBR0EsTUFBTStCLEVBQWlCN0MsU0FBU0MsY0FBYyxVQUM5QzRDLEVBQWV4QyxhQUFhLE9BQU8sVUFDbkN3QyxFQUFldkMsWUFBYyxzQkFFN0JILEVBQWNJLFlBQVlzQyxHQU1sQyxTQUF5QkMsR0FFckIsSUFBSSxJQUFJckMsRUFBSSxFQUFHQSxFQUFJLEVBQVkvQixZQUFhK0IsSUFDckMsRUFBWWQsUUFBUWMsS0FBT3FDLElBQzFCaEQsSUFDQVUsRUFBa0JDLEdBSzlCLENBZFFzQyxDQUFnQkgsRUFBYXRDLFlBQVksR0FFakQsQ0FyRFkwQyxHQUNKLEdBSVIsQ0ExRFFDLEVBQWUsSUErSkZqRCxTQUFTSSxjQUFjLGdDQUUvQmUsaUJBQWlCLFNBQVMsTUFRdkMsV0FDSSxNQUFNcEIsRUFBZUMsU0FBU0MsY0FBYyxPQUV0Q2lELEVBQWVsRCxTQUFTQyxjQUFjLFNBQ3RDa0QsRUFBZW5ELFNBQVNDLGNBQWMsU0FFdENtRCxFQUFzQnBELFNBQVNDLGNBQWMsU0FDN0NvRCxFQUFzQnJELFNBQVNDLGNBQWMsU0FFN0NxRCxFQUFldEQsU0FBU0MsY0FBYyxTQUN0Q3NELEVBQWV2RCxTQUFTQyxjQUFjLFNBRXRDdUQsRUFBbUJ4RCxTQUFTQyxjQUFjLFNBQzFDd0QsRUFBbUJ6RCxTQUFTQyxjQUFjLFNBRTFDeUQsRUFBTzFELFNBQVNDLGNBQWMsU0FDOUIwRCxFQUFTM0QsU0FBU0MsY0FBYyxVQUN0Q3lELEVBQUtyRCxhQUFhLE1BQU0sZUFDeEJxRCxFQUFLcEQsWUFBYyxnQkFDbkJxRCxFQUFPdEQsYUFBYSxLQUFLLGVBQ3pCc0QsRUFBT3RELGFBQWEsT0FBTyxnQkFFM0IsTUFBTXVELEVBQVk1RCxTQUFTQyxjQUFjLFVBQ3pDMkQsRUFBVXZELGFBQWEsUUFBUSxLQUMvQnVELEVBQVV0RCxZQUFjLE9BQ3hCcUQsRUFBT3BELFlBQVlxRCxHQUVuQixJQUFJLElBQUluRCxFQUFJLEVBQUdBLEVBQUksRUFBYS9CLFlBQWErQixJQUFJLENBQzdDLE1BQU1vRCxFQUFTN0QsU0FBU0MsY0FBYyxVQUN0QzRELEVBQU92RCxZQUFjLEdBQUcsRUFBYTlCLFFBQVFpQyxLQUM3Q29ELEVBQU94RCxhQUFhLFFBQVEsR0FBRyxFQUFhN0IsUUFBUWlDLE1BQ3BEa0QsRUFBT3BELFlBQVlzRCxFQUN2QixDQUdBLE1BQU1yQyxFQUFXeEIsU0FBU0MsY0FBYyxVQUl4Q0YsRUFBYU0sYUFBYSxRQUFRLFlBRWxDbUIsRUFBU25CLGFBQWEsT0FBTyxVQUM3Qm1CLEVBQVNsQixZQUFjLEtBSXZCNkMsRUFBYTlDLGFBQWEsS0FBSyxlQUMvQjZDLEVBQWE1QyxZQUFhLFdBQzFCNEMsRUFBYTdDLGFBQWEsTUFBTSxlQUVoQ2dELEVBQW9CaEQsYUFBYSxLQUFLLHNCQUN0QytDLEVBQW9COUMsWUFBYyxrQkFDbEM4QyxFQUFvQi9DLGFBQWEsTUFBTSxzQkFFdkNrRCxFQUFhbEQsYUFBYSxLQUFLLGVBQy9CaUQsRUFBYWhELFlBQWMsY0FDM0JnRCxFQUFhakQsYUFBYSxNQUFNLGVBRWhDb0QsRUFBaUJwRCxhQUFhLEtBQUssZUFDbkNtRCxFQUFpQmxELFlBQWMsZUFDL0JrRCxFQUFpQm5ELGFBQWEsTUFBTSxlQUtwQ04sRUFBYVEsWUFBWTJDLEdBQ3pCbkQsRUFBYVEsWUFBWTRDLEdBRXpCQSxFQUFhVyxtQkFBbUIsV0FBVyxRQUUzQy9ELEVBQWFRLFlBQVk2QyxHQUN6QnJELEVBQWFRLFlBQVk4QyxHQUV6QkEsRUFBb0JTLG1CQUFtQixXQUFXLFFBRWxEL0QsRUFBYVEsWUFBWStDLEdBQ3pCdkQsRUFBYVEsWUFBWWdELEdBRXpCQSxFQUFhTyxtQkFBbUIsV0FBVyxRQUUzQy9ELEVBQWFRLFlBQVlpRCxHQUN6QnpELEVBQWFRLFlBQVlrRCxHQUV6QkEsRUFBaUJLLG1CQUFtQixXQUFXLFFBRS9DL0QsRUFBYVEsWUFBWW1ELEdBQ3pCM0QsRUFBYVEsWUFBWW9ELEdBRXpCQSxFQUFPRyxtQkFBbUIsV0FBVyxRQUVyQy9ELEVBQWFRLFlBQVlpQixHQUVKeEIsU0FBU0ksY0FBYyxRQUMvQkcsWUFBWVIsRUFFN0IsQ0F0R1FnRSxHQW9JUixXQUNJLE1BQU1yQyxFQUEyQjFCLFNBQVNnQixpQkFBaUIsc0JBRTNELElBQUksSUFBSVcsS0FBT0QsRUFDZkMsRUFBSUMsTUFBTUMsT0FBUyxXQUV2QixDQXpJUW1DLEdBdUdSLFdBQ0ksTUFBTUMsRUFBZWpFLFNBQVNJLGNBQWMsb0JBQ3RDOEQsRUFBZ0JsRSxTQUFTZ0IsaUJBQWlCLG1CQUMxQzJDLEVBQVMzRCxTQUFTSSxjQUFjLG9CQUl0QzZELEVBQWE5QyxpQkFBaUIsU0FBUyxLQUNuQyxJQUFJckMsRUFBT29GLEVBQWMsR0FBR2pDLE1BQ3hCa0MsRUFBUUQsRUFBYyxHQUFHakMsTUFDekJtQyxFQUFPRixFQUFjLEdBQUdqQyxNQUN4QnBCLEVBQVdxRCxFQUFjLEdBQUdqQyxNQUM1Qm9DLEVBQWNWLEVBQU8xQixNQUV0Qm5ELEdBQ0FxRixHQUNBQyxHQUNBdkQsSUQ1UlgsU0FBd0IvQixFQUFLcUYsRUFBTUMsRUFBS3ZELEVBQVN3RCxHQUM3QyxNQUFNQyxFRVpWLFNBQTJCQyxFQUFTQyxFQUFlQyxFQUFXQyxFQUFZQyxHQUN0RSxJQUFJQyxFQUFRTCxFQUNSNUQsRUFBYzZELEVBQ2Q1RCxFQUFVNkQsRUFDVjVELEVBQVc2RCxFQUNYTCxFQUFjTSxFQXFCbEIsTUFBTyxDQUFDL0UsU0FuQlIsV0FDSSxPQUFPZ0YsQ0FDWCxFQWlCaUJ0RixlQWhCakIsV0FDSSxPQUFPcUIsQ0FDWCxFQWNnQ25CLFFBYmhDLFdBQ0ksT0FBT29CLENBQ1gsRUFXd0NuQixZQVZ4QyxXQUNJLE9BQU9vQixDQUNYLEVBUW9EbkIsZUFQcEQsV0FDSSxPQUFPMkUsQ0FDWCxFQUttRTFFLFFBSm5FLFdBQ0ksT0FBTzBFLENBQ1gsRUFHSixDRmZvQixDQUFrQnZGLEVBQUtxRixFQUFNQyxFQUFLdkQsRUFBU3dELEdBQzNELEVBQVlqRixXQUFXa0YsRUFDM0IsQ0MwUmdCTyxDQUFlL0YsRUFBS3FGLEVBQU1DLEVBQUt2RCxFQUFTd0QsR0FrQnhELFdBQ0ksTUFBTVMsRUFBaUI5RSxTQUFTSSxjQUFjLG9CQUN4QzJFLEVBQVcvRSxTQUFTSSxjQUFjLGFBQ3hDMEUsRUFBZXRDLGNBQWNBLGNBQWNDLFlBQVlzQyxFQUMzRCxDQXJCZ0JDLEdBdUJoQixXQUNJLE1BQU10RCxFQUEyQjFCLFNBQVNnQixpQkFBaUIsc0JBRXZELElBQUksSUFBSVcsS0FBT0QsRUFDWEMsRUFBSUMsTUFBTUMsT0FBUyxTQUUvQixDQTVCZ0JvRCxHQUNMLEdBSVgsQ0EvSFFDLEVBQW1CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlByb2plY3RzLmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvdGVtcGxhdGVGaWxlcy9wcm9qZWN0LmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvdGVtcGxhdGVGaWxlcy9hcnJheU9mVGFza3MuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9wcm9qZWN0TWFuYWdlL25ld1Byb2plY3RDYWxsLmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvZG9tL2RvbS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvdGFzay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBhcnJheU9mUHJvamVjdHMoKXtcbiAgICBjb25zdCBhcnJheU9mUHJvamVjdHMgPSBbXTtcblxuXG4gICAgY29uc3QgcHVzaFByb2plY3RJbnRvQXJyYXkgPSAocHJvamVjdCkgPT57XG4gICAgICAgIGFycmF5T2ZQcm9qZWN0cy5wdXNoKHByb2plY3QpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldE5hbWUgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZQcm9qZWN0c1tjb3VudF0uZ2V0TmFtZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldExlbmd0aCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZQcm9qZWN0cy5sZW5ndGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtwdXNoUHJvamVjdEludG9BcnJheSxnZXROYW1lLGdldExlbmd0aH07XG59XG5cbmNvbnN0IHByb2plY3RBcnJheSA9IGFycmF5T2ZQcm9qZWN0cygpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0QXJyYXk7IiwiY2xhc3MgUHJvamVjdHtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWUpe1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIGNoYW5nZU5hbWUobmV3TmFtZSl7XG4gICAgICAgIHRoaXMubmFtZSA9IG5ld05hbWU7XG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdChuYW1lKXtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3QobmFtZSk7XG4gICAgcmV0dXJuIG5ld1Byb2plY3Q7XG59XG5cbi8vQWRkIHRoaXMgZnVuY3Rpb25hbGl0eSBoZXJlIHRvIG5vdCBoYXZlIGFub3RoZXIgZmlsZSB0byBtYW5hZ2VcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTmV3UHJvamVjdDsiLCJmdW5jdGlvbiBhcnJheU9mVGFza3MoKXtcbiAgICBjb25zdCBhcnJheU9mVGFza3MgPSBbXTtcblxuICAgIGNvbnN0IGdldE5hbWUgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0VGl0bGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhZGRFbGVtZW50ID0gKHRhc2spID0+e1xuICAgICAgICBhcnJheU9mVGFza3MucHVzaCh0YXNrKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXREZXNjcmlwdGlvbiA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXREZXNjcmlwdGlvbigpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldER1ZURhdGUgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0RGF0ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldFByaW9yaXR5ID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldFByaW9yaXR5KCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0UHJvamVjdE5hbWUgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0TGluaygpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldExlbmd0aCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TGluayA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXRMaW5rKCk7XG4gICAgfVxuXG5cblxuICAgIHJldHVybiB7YWRkRWxlbWVudCxnZXREZXNjcmlwdGlvbixnZXREdWVEYXRlLGdldFByaW9yaXR5LGdldFByb2plY3ROYW1lLGdldExlbmd0aCxnZXRMaW5rLGdldE5hbWV9O1xufVxuXG5jb25zdCBwcm9qZWN0VGFzayA9IGFycmF5T2ZUYXNrcygpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0VGFzazsiLCJpbXBvcnQgcHJvamVjdEFycmF5IGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZQcm9qZWN0cy5qc1wiO1xuaW1wb3J0IGNyZWF0ZU5ld1Byb2plY3QgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvcHJvamVjdC5qc1wiO1xuaW1wb3J0IGNyZWF0ZVRhc2tGb3JUb2RvIGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL3Rhc2suanNcIjtcbmltcG9ydCBwcm9qZWN0VGFzayBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mVGFza3MuanNcIjtcblxuXG5mdW5jdGlvbiBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5KG5hbWUpe1xuICAgIGxldCBuZXdQcm9qZWN0ID0gY3JlYXRlTmV3UHJvamVjdChuYW1lKTtcbiAgICBwcm9qZWN0QXJyYXkucHVzaFByb2plY3RJbnRvQXJyYXkobmV3UHJvamVjdCk7XG59XG5cbmZ1bmN0aW9uIGF1dG9DcmVhdGVUYXNrKG5hbWUsZGVzY3IsZGF0ZSxwcmlvcml0eSxwcm9qZWN0TGluayl7XG4gICAgY29uc3QgbmV3VGFzayA9IGNyZWF0ZVRhc2tGb3JUb2RvKG5hbWUsZGVzY3IsZGF0ZSxwcmlvcml0eSxwcm9qZWN0TGluayk7XG4gICAgcHJvamVjdFRhc2suYWRkRWxlbWVudChuZXdUYXNrKTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5O1xuZXhwb3J0IHthdXRvQ3JlYXRlVGFza307XG5cblxuXG5cbiIsImltcG9ydCBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5IGZyb20gXCIuLi9wcm9qZWN0TWFuYWdlL25ld1Byb2plY3RDYWxsLmpzXCI7XG5pbXBvcnQgcHJvamVjdFRhc2sgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlRhc2tzLmpzXCI7XG5pbXBvcnQgcHJvamVjdEFycmF5IGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZQcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgYXV0b0NyZWF0ZVRhc2sgfSBmcm9tIFwiLi4vcHJvamVjdE1hbmFnZS9uZXdQcm9qZWN0Q2FsbC5qc1wiO1xuXG5cbmZ1bmN0aW9uIHN0YXJ0TmV3UHJvamVjdEJ1dHRvbigpe1xuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9ucyBidXR0b246Zmlyc3Qtb2YtdHlwZScpO1xuXG4gICAgbmV3UHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIGRyYXdGb3JtKCk7XG4gICAgICAgIGJsdXJUaGVGb3JtKCk7XG4gICAgICAgIGRyYXdGb3JtTG9naWMoKTtcbiAgICB9KTtcblxufVxuXG5mdW5jdGlvbiBkcmF3Rm9ybSgpe1xuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IG5ld0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY29uc3Qgb2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBcbiAgICBuZXdDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsJ3Byb2plY3RGb3JtJyk7XG5cbiAgICBva0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcbiAgICBva0J1dHRvbi50ZXh0Q29udGVudCA9ICdPayc7XG5cbiAgICBuZXdJbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3UHJvamVjdE5hbWUnKTtcbiAgICBuZXdMYWJlbC50ZXh0Q29udGVudCA9ICdOYW1lID0+ICc7XG4gICAgbmV3TGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCdOZXdQcm9qZWN0TmFtZScpO1xuXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0xhYmVsKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXQpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChva0J1dHRvbik7XG5cbiAgICBjb25zdCBib2R5U2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgYm9keVNlbGVjdG9yLmFwcGVuZENoaWxkKG5ld0NvbnRhaW5lcik7XG5cbn1cblxuXG5mdW5jdGlvbiBibHVyVGhlRm9ybSgpe1xuICAgIGNvbnN0IGFsbEV4Y2VwdE91ckZvcm1TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdjpub3QoLnByb2plY3RGb3JtKScpO1xuICAgIFxuICAgIGZvcihsZXQgYWxsIG9mIGFsbEV4Y2VwdE91ckZvcm1TZWxlY3Rvcil7XG4gICAgYWxsLnN0eWxlLmZpbHRlciA9ICdibHVyKDFweCknO1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBkcmF3Rm9ybUxvZ2ljKCl7XG4gICAgY29uc3QgcHJvamVjdEZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0gYnV0dG9uJyk7XG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0nKTtcbiAgICBjb25zdCBpbnB1dEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0gaW5wdXQnKTtcblxuICAgIHByb2plY3RGb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZihpbnB1dEZvcm0udmFsdWUgIT0gJycgfHxcbiAgICAgICAgICAgaW5wdXRGb3JtLnZhbHVlICE9IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICBpbnB1dEZvcm0udmFsdWUgIT0gbnVsbCl7XG5cbiAgICAgICAgICAgIGNyZWF0ZVRoZVByb2plY3RBbmRBZGRJdFRvVGhlQXJyYXkoaW5wdXRGb3JtLnZhbHVlKTtcbiAgICAgICAgICAgIGNyZWF0ZUJ1dHRvbkZvck5ld1Byb2plY3QoaW5wdXRGb3JtLnZhbHVlKTtcbiAgICAgICAgICAgIHJlbW92ZVRoZUZvcm0oKTtcbiAgICAgICAgICAgIHVuYmx1clRoZUZvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlMb2dpY0J1dHRvbigpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnV0dG9uRm9yTmV3UHJvamVjdChuYW1lT2ZOZXdCdXR0b24pe1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm15LXByb2plY3RzJyk7XG4gICAgY29uc3QgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBuZXdCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG5cbiAgICBuZXdCdXR0b24udGV4dENvbnRlbnQgPSBuYW1lT2ZOZXdCdXR0b247XG5cbiAgICBwcm9qZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdCdXR0b24pO1xufVxuXG5cbmZ1bmN0aW9uIHJlbW92ZVRoZUZvcm0oKXtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybSBidXR0b24nKTtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybScpO1xuICAgIHByb2plY3RGb3JtQnV0dG9uLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChwcm9qZWN0Rm9ybSk7XG59XG5cblxuXG5mdW5jdGlvbiB1bmJsdXJUaGVGb3JtKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgucHJvamVjdEZvcm0pJyk7XG4gICAgXG4gICAgICAgIGZvcihsZXQgYWxsIG9mIGFsbEV4Y2VwdE91ckZvcm1TZWxlY3Rvcil7XG4gICAgICAgICAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMCknO1xuICAgICAgICAgICAgfVxufVxuXG5cbmZ1bmN0aW9uIGRpc3BsYXlMb2dpY0J1dHRvbigpe1xuICAgIGNvbnN0IHNlbGVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1wcm9qZWN0cyBidXR0b246bGFzdC1vZi10eXBlJyk7XG4gICAgY29uc3Qgc2VsZWN0RGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkJyk7XG4gICAgXG5cbiAgICBzZWxlY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpID0+IHtcbiAgICAgICAgY2xlYXJBbGwoKTtcblxuXG4gICAgICAgIGNvbnN0IGRlbFByb2plY3RCdHRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGRlbFByb2plY3RCdHRuLnNldEF0dHJpYnV0ZSgndHlwZScsJ2J1dHRvbicpO1xuICAgICAgICBkZWxQcm9qZWN0QnR0bi50ZXh0Q29udGVudCA9ICdkZWxldGUgdGhpcyBwcm9qZWN0JztcblxuICAgICAgICBzZWxlY3REaXNwbGF5LmFwcGVuZENoaWxkKGRlbFByb2plY3RCdHRuKTtcblxuICAgICAgICBkaXNwbGF5QXRTY3JlZW4oc2VsZWN0QnV0dG9uLnRleHRDb250ZW50KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUF0U2NyZWVuKG5hbWVPZlByb2plY3Qpe1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrLmdldExlbmd0aCgpOyBpKyspe1xuICAgICAgICBpZihwcm9qZWN0VGFzay5nZXRMaW5rKGkpID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCk7XG4gICAgICAgICAgICBwb3B1bGF0ZUNvbnRhaW5lcihpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFxufVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCl7XG4gICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgZGVsQnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IHNlbGVjdERpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCcpO1xuICAgIFxuICAgIGRlbEJ0dG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGRlbEJ0dG4udGV4dENvbnRlbnQgPSAnZGVsZXRlIHRoaXMgdGFzayc7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVsQnR0bik7XG4gICAgc2VsZWN0RGlzcGxheS5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xufVxuXG5mdW5jdGlvbiBwb3B1bGF0ZUNvbnRhaW5lcihpKXtcbiAgICBjb25zdCBzZWxlY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCA+IGRpdjpsYXN0LW9mLXR5cGUnKTtcblxuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcblxuICAgIG5hbWUudGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXROYW1lKGkpO1xuICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcHJvamVjdFRhc2suZ2V0RGVzY3JpcHRpb24oaSk7XG4gICAgZHVlRGF0ZS50ZXh0Q29udGVudCA9IHByb2plY3RUYXNrLmdldER1ZURhdGUoaSk7XG4gICAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXRQcmlvcml0eShpKTsgXG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZHVlRGF0ZSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHByaW9yaXR5KTtcblxuICAgIHNlbGVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xuXG59XG5cbi8vIEFERCBORVcgRVZFTlQgVEFTS1xuXG5mdW5jdGlvbiBhZGROZXdFdmVudEJ1dHRvbigpe1xuICAgIGNvbnN0IG5ld0V2ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbnMgYnV0dG9uOm50aC1jaGlsZCgyKScpO1xuICAgIFxuICAgIG5ld0V2ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBkcmF3Rm9ybVRhc2soKTtcbiAgICAgICAgYmx1clRoZUZvcm1UYXNrKCk7XG4gICAgICAgIGRyYXdGb3JtTG9naWNUYXNrKCk7XG4gICAgfSk7XG5cbn1cblxuZnVuY3Rpb24gZHJhd0Zvcm1UYXNrKCl7XG4gICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGNvbnN0IG5ld0xhYmVsRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGNvbnN0IG5ld0xhYmVsUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ2xhYmVsU2VsZWN0Jyk7XG4gICAgZm9ybS50ZXh0Q29udGVudCA9ICd3aGljaCBwcm9qZWN0JztcbiAgICBzZWxlY3Quc2V0QXR0cmlidXRlKCdpZCcsJ2xhYmVsU2VsZWN0Jyk7XG4gICAgc2VsZWN0LnNldEF0dHJpYnV0ZSgnbmFtZScsJ3NlbGVjdE9wdGlvbicpO1xuXG4gICAgY29uc3QgZGVmT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgZGVmT3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCcwJyk7XG4gICAgZGVmT3B0aW9uLnRleHRDb250ZW50ID0gJ25vbmUnO1xuICAgIHNlbGVjdC5hcHBlbmRDaGlsZChkZWZPcHRpb24pO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RBcnJheS5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGAke3Byb2plY3RBcnJheS5nZXROYW1lKGkpfWA7XG4gICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJyxgJHtwcm9qZWN0QXJyYXkuZ2V0TmFtZShpKX1gKTtcbiAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgfVxuXG5cbiAgICBjb25zdCBva0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG5cbiAgICBcbiAgICBuZXdDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsJ3Rhc2tGb3JtJyk7XG5cbiAgICBva0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcbiAgICBva0J1dHRvbi50ZXh0Q29udGVudCA9ICdPayc7XG5cblxuXG4gICAgbmV3SW5wdXROYW1lLnNldEF0dHJpYnV0ZSgnaWQnLCdOZXdUYXNrTmFtZScpO1xuICAgIG5ld0xhYmVsTmFtZS50ZXh0Q29udGVudCA9J05hbWUgPT4gJztcbiAgICBuZXdMYWJlbE5hbWUuc2V0QXR0cmlidXRlKCdmb3InLCdOZXdUYXNrTmFtZScpO1xuXG4gICAgbmV3SW5wdXREZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza0Rlc2NyaXB0aW9uJyk7XG4gICAgbmV3TGFiZWxEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9ICdEZXNjcmlwdGlvbiA9PiAnO1xuICAgIG5ld0xhYmVsRGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdmb3InLCdOZXdUYXNrRGVzY3JpcHRpb24nKTtcblxuICAgIG5ld0lucHV0RGF0ZS5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza0RhdGUnKTtcbiAgICBuZXdMYWJlbERhdGUudGV4dENvbnRlbnQgPSAnRHVlRGF0ZSA9PiAnO1xuICAgIG5ld0xhYmVsRGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Rhc2tEYXRlJyk7XG5cbiAgICBuZXdJbnB1dFByaW9yaXR5LnNldEF0dHJpYnV0ZSgnaWQnLCdOZXdUYXNrUHJpbycpO1xuICAgIG5ld0xhYmVsUHJpb3JpdHkudGV4dENvbnRlbnQgPSAnUHJpb3JpdHkgPT4gJztcbiAgICBuZXdMYWJlbFByaW9yaXR5LnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza1ByaW8nKTtcblxuICAgXG5cblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbE5hbWUpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdJbnB1dE5hbWUpO1xuXG4gICAgbmV3SW5wdXROYW1lLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbERlc2NyaXB0aW9uKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXREZXNjcmlwdGlvbik7XG5cbiAgICBuZXdJbnB1dERlc2NyaXB0aW9uLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbERhdGUpO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdJbnB1dERhdGUpO1xuXG4gICAgbmV3SW5wdXREYXRlLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbFByaW9yaXR5KTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXRQcmlvcml0eSk7XG5cbiAgICBuZXdJbnB1dFByaW9yaXR5Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLFwiPGJyPlwiKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChmb3JtKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VsZWN0KTtcblxuICAgIHNlbGVjdC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG4gICAgXG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG9rQnV0dG9uKTtcblxuICAgIGNvbnN0IGJvZHlTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbiAgICBib2R5U2VsZWN0b3IuYXBwZW5kQ2hpbGQobmV3Q29udGFpbmVyKTtcblxufVxuXG5mdW5jdGlvbiBkcmF3Rm9ybUxvZ2ljVGFzaygpe1xuICAgIGNvbnN0IG9rQnV0dG9uVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBidXR0b24nKTtcbiAgICBjb25zdCBpbnB1dFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2tGb3JtIGlucHV0Jyk7XG4gICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtIHNlbGVjdCcpO1xuXG4gICAgXG5cbiAgICBva0J1dHRvblRhc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICAgICAgbGV0IG5hbWUgPSBpbnB1dFNlbGVjdG9yWzBdLnZhbHVlO1xuICAgICAgICBsZXQgZGVzY3IgPSBpbnB1dFNlbGVjdG9yWzFdLnZhbHVlO1xuICAgICAgICBsZXQgZGF0ZSA9IGlucHV0U2VsZWN0b3JbMl0udmFsdWU7XG4gICAgICAgIGxldCBwcmlvcml0eSA9IGlucHV0U2VsZWN0b3JbM10udmFsdWU7XG4gICAgICAgIGxldCBwcm9qZWN0TGluayA9IHNlbGVjdC52YWx1ZTtcblxuICAgICAgICBpZihuYW1lICAmJlxuICAgICAgICAgICBkZXNjciAmJlxuICAgICAgICAgICBkYXRlICAmJlxuICAgICAgICAgICBwcmlvcml0eSl7XG4gICAgICAgICAgICAgICAgYXV0b0NyZWF0ZVRhc2sobmFtZSxkZXNjcixkYXRlLHByaW9yaXR5LHByb2plY3RMaW5rKTtcbiAgICAgICAgICAgICAgICByZW1vdmVUaGVGb3JtVGFzaygpO1xuICAgICAgICAgICAgICAgIHVuYmx1clRoZUZvcm1UYXNrKCk7XG4gICAgICAgICAgIH1cblxuXG4gICAgfSk7XG59XG5cblxuZnVuY3Rpb24gYmx1clRoZUZvcm1UYXNrKCl7XG4gICAgY29uc3QgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Om5vdCgudGFza0Zvcm0pJyk7XG4gICAgXG4gICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICBhbGwuc3R5bGUuZmlsdGVyID0gJ2JsdXIoMXB4KSc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVUaGVGb3JtVGFzaygpe1xuICAgIGNvbnN0IHRhc2tGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtIGJ1dHRvbicpO1xuICAgIGNvbnN0IHRhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtJyk7XG4gICAgdGFza0Zvcm1CdXR0b24ucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRhc2tGb3JtKTtcbn1cblxuZnVuY3Rpb24gdW5ibHVyVGhlRm9ybVRhc2soKXtcbiAgICBjb25zdCBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bm90KC50YXNrRm9ybSknKTtcbiAgICBcbiAgICAgICAgZm9yKGxldCBhbGwgb2YgYWxsRXhjZXB0T3VyRm9ybVNlbGVjdG9yKXtcbiAgICAgICAgICAgIGFsbC5zdHlsZS5maWx0ZXIgPSAnYmx1cigwKSc7XG4gICAgICAgICAgICB9XG59XG5cblxuXG5cblxuXG4vL0RFRkFVTFQgQlVUVE9OIE1FVEhPRFxuZnVuY3Rpb24gc3RhcnREZWZhdWx0QnV0dG9uKCl7XG4gICAgY29uc3QgZGVmYXVsdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1wcm9qZWN0cyBidXR0b24nKTtcbiAgICBkZWZhdWx0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjbGVhckFsbCgpO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2suZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYWEnKTtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCk7XG4gICAgICAgICAgICBwb3B1bGF0ZUNvbnRhaW5lcihpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhckFsbCgpe1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRvZG8tYm9hcmQgKicpO1xuXG4gICAgZm9yKGxldCBlbGVtIG9mIGJvYXJkKXtcbiAgICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5leHBvcnQge3N0YXJ0TmV3UHJvamVjdEJ1dHRvbixcbiAgICAgICAgY2xlYXJBbGwsXG4gICAgICAgIGFkZE5ld0V2ZW50QnV0dG9uLFxuICAgICAgICBzdGFydERlZmF1bHRCdXR0b259OyIsImZ1bmN0aW9uIGNyZWF0ZVRhc2tGb3JUb2RvKG5ld1RpdGxlLG5ld0Rlc2NyaXB0aW9uLG5ld0R1ZURhdGUsbmV3UHJpb3JpdHksbmV3UHJvamVjdExpbmspe1xuICAgIGxldCB0aXRsZSA9IG5ld1RpdGxlO1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgIGxldCBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICBsZXQgcHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICBsZXQgcHJvamVjdExpbmsgPSBuZXdQcm9qZWN0TGluaztcblxuICAgIGZ1bmN0aW9uIGdldFRpdGxlKCl7XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24oKXtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRlKCl7XG4gICAgICAgIHJldHVybiBkdWVEYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0eSgpe1xuICAgICAgICByZXR1cm4gcHJpb3JpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFByb2plY3ROYW1lKCl7XG4gICAgICAgIHJldHVybiBwcm9qZWN0TGluaztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGluaygpe1xuICAgICAgICByZXR1cm4gcHJvamVjdExpbms7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtnZXRUaXRsZSxnZXREZXNjcmlwdGlvbixnZXREYXRlLGdldFByaW9yaXR5LGdldFByb2plY3ROYW1lLGdldExpbmt9O1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRhc2tGb3JUb2RvOyJdLCJuYW1lcyI6WyJwcm9qZWN0QXJyYXkiLCJhcnJheU9mUHJvamVjdHMiLCJwdXNoUHJvamVjdEludG9BcnJheSIsInByb2plY3QiLCJwdXNoIiwiZ2V0TmFtZSIsImNvdW50IiwiZ2V0TGVuZ3RoIiwibGVuZ3RoIiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsInRoaXMiLCJjaGFuZ2VOYW1lIiwibmV3TmFtZSIsInByb2plY3RUYXNrIiwiYXJyYXlPZlRhc2tzIiwiYWRkRWxlbWVudCIsInRhc2siLCJnZXREZXNjcmlwdGlvbiIsImdldER1ZURhdGUiLCJnZXREYXRlIiwiZ2V0UHJpb3JpdHkiLCJnZXRQcm9qZWN0TmFtZSIsImdldExpbmsiLCJnZXRUaXRsZSIsIm5ld1Byb2plY3QiLCJjcmVhdGVOZXdEaXZzV2l0aERlbEJ1dHRvbiIsIm5ld0NvbnRhaW5lciIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRlbEJ0dG4iLCJzZWxlY3REaXNwbGF5IiwicXVlcnlTZWxlY3RvciIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJwb3B1bGF0ZUNvbnRhaW5lciIsImkiLCJzZWxlY3RDb250YWluZXIiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsImNsZWFyQWxsIiwiYm9hcmQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWxlbSIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwibmV3TGFiZWwiLCJuZXdJbnB1dCIsIm9rQnV0dG9uIiwiZHJhd0Zvcm0iLCJhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IiLCJhbGwiLCJzdHlsZSIsImZpbHRlciIsImJsdXJUaGVGb3JtIiwicHJvamVjdEZvcm1CdXR0b24iLCJpbnB1dEZvcm0iLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIm5hbWVPZk5ld0J1dHRvbiIsInByb2plY3RzQ29udGFpbmVyIiwibmV3QnV0dG9uIiwiY3JlYXRlQnV0dG9uRm9yTmV3UHJvamVjdCIsInByb2plY3RGb3JtIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwicmVtb3ZlVGhlRm9ybSIsInVuYmx1clRoZUZvcm0iLCJzZWxlY3RCdXR0b24iLCJkZWxQcm9qZWN0QnR0biIsIm5hbWVPZlByb2plY3QiLCJkaXNwbGF5QXRTY3JlZW4iLCJkaXNwbGF5TG9naWNCdXR0b24iLCJkcmF3Rm9ybUxvZ2ljIiwibmV3TGFiZWxOYW1lIiwibmV3SW5wdXROYW1lIiwibmV3TGFiZWxEZXNjcmlwdGlvbiIsIm5ld0lucHV0RGVzY3JpcHRpb24iLCJuZXdMYWJlbERhdGUiLCJuZXdJbnB1dERhdGUiLCJuZXdMYWJlbFByaW9yaXR5IiwibmV3SW5wdXRQcmlvcml0eSIsImZvcm0iLCJzZWxlY3QiLCJkZWZPcHRpb24iLCJvcHRpb24iLCJpbnNlcnRBZGphY2VudEhUTUwiLCJkcmF3Rm9ybVRhc2siLCJibHVyVGhlRm9ybVRhc2siLCJva0J1dHRvblRhc2siLCJpbnB1dFNlbGVjdG9yIiwiZGVzY3IiLCJkYXRlIiwicHJvamVjdExpbmsiLCJuZXdUYXNrIiwibmV3VGl0bGUiLCJuZXdEZXNjcmlwdGlvbiIsIm5ld0R1ZURhdGUiLCJuZXdQcmlvcml0eSIsIm5ld1Byb2plY3RMaW5rIiwidGl0bGUiLCJhdXRvQ3JlYXRlVGFzayIsInRhc2tGb3JtQnV0dG9uIiwidGFza0Zvcm0iLCJyZW1vdmVUaGVGb3JtVGFzayIsInVuYmx1clRoZUZvcm1UYXNrIiwiZHJhd0Zvcm1Mb2dpY1Rhc2siXSwic291cmNlUm9vdCI6IiJ9