(()=>{"use strict";const e=function(){const e=[];return{pushProjectIntoArray:t=>{e.push(t)},getName:t=>e[t].getName(),getLength:()=>e.length,deleteElement:t=>{e.splice(t,1)}}}(),t=e;class n{constructor(e){this.name=e}changeName(e){this.name=e}getName(){return this.name}}const o=function(e,t,n,o,r){let c=e,l=t,u=n,i=o,a=r;return{getTitle:function(){return c},getDescription:function(){return l},getDate:function(){return u},getPriority:function(){return i},getProjectName:function(){return a},getLink:function(){return a},changeName:function(e){c=e},changeDescription:function(e){l=e},changeDueDate:function(e){u=e},changePriority:function(e){i=e},changeLink:function(e){a=e}}},r=function(){const e=[];return{addElement:t=>{e.push(t)},getDescription:t=>e[t].getDescription(),getDueDate:t=>e[t].getDate(),getPriority:t=>e[t].getPriority(),getProjectName:t=>e[t].getLink(),getLength:()=>e.length,getLink:t=>e[t].getLink(),getName:t=>e[t].getTitle(),deleteElement:t=>{e.splice(t,1)},changeName:(t,n)=>{e[t].changeName(n)},changeDescription:(t,n)=>{e[t].changeDescription(n)},changeDueDate:(t,n)=>{e[t].changeDueDate(n)},changePriority:(t,n)=>{e[t].changePriority(n)},changeLink:(t,n)=>{e[t].changeLink(n)}}}(),c=r;function l(e,t,n,r,l){const u=o(e,t,n,r,l);c.addElement(u)}const u=function(e){let o=function(e){return new n(e)}(e);t.pushProjectIntoArray(o)};function i(e){const t=document.querySelector(".my-projects"),n=document.createElement("button");n.setAttribute("type","button"),n.textContent=e,t.appendChild(n)}function a(){const e=document.querySelector(".my-projects button:last-of-type"),n=document.querySelector(".todo-board");e.addEventListener("click",(()=>{C();const o=document.createElement("button");var r;o.setAttribute("type","button"),o.textContent="delete this project",n.appendChild(o),r=e.textContent,document.querySelector(".todo-board button:nth-child(1)").addEventListener("click",(()=>{if(0!==c.getLength())for(let e=0;e<c.getLength();e++)c.getLink(e)===r&&c.deleteElement(e);for(let e=0;e<t.getLength();e++)if(t.getName(e)===r){t.deleteElement(e),s();break}const e=document.querySelectorAll(".my-projects button");for(let t of e)t.textContent===r&&t.parentElement.removeChild(t);C()})),function(e){for(let t=0;t<c.getLength();t++)c.getLink(t)===e&&(d(),m(t),b(),y(t))}(e.textContent)}))}function d(){const e=document.createElement("div"),t=document.createElement("button"),n=document.querySelector(".todo-board");t.setAttribute("type","button"),t.textContent="delete this task",e.appendChild(t),n.appendChild(e)}function m(e){const t=document.querySelector(".todo-board > div:last-of-type"),n=document.createElement("div"),o=document.createElement("p"),r=document.createElement("p"),l=document.createElement("p"),u=document.createElement("p");o.textContent=c.getName(e),r.textContent=c.getDescription(e),l.textContent=c.getDueDate(e),u.textContent=c.getPriority(e),n.appendChild(o),n.appendChild(r),n.appendChild(l),n.appendChild(u),t.appendChild(n)}function s(){let e=[];for(let n=0;n<t.getLength();n++)e.push(t.getName(n));localStorage.setItem("projects",JSON.stringify(e))}function p(){const e=document.createElement("div"),n=document.createElement("label"),o=document.createElement("input"),r=document.createElement("label"),c=document.createElement("input"),l=document.createElement("label"),u=document.createElement("input"),i=document.createElement("label"),a=document.createElement("input"),d=document.createElement("label"),m=document.createElement("select");d.setAttribute("for","labelSelect"),d.textContent="which project",m.setAttribute("id","labelSelect"),m.setAttribute("name","selectOption");const s=document.createElement("option");s.setAttribute("value","0"),s.textContent="none",m.appendChild(s);for(let e=0;e<t.getLength();e++){const n=document.createElement("option");n.textContent=`${t.getName(e)}`,n.setAttribute("value",`${t.getName(e)}`),m.appendChild(n)}const p=document.createElement("button");e.setAttribute("class","taskForm"),p.setAttribute("type","button"),p.textContent="Ok",o.setAttribute("id","NewTaskName"),n.textContent="Name => ",n.setAttribute("for","NewTaskName"),c.setAttribute("id","NewTaskDescription"),r.textContent="Description => ",r.setAttribute("for","NewTaskDescription"),u.setAttribute("id","NewTaskDate"),l.textContent="DueDate => ",l.setAttribute("for","NewTaskDate"),a.setAttribute("id","NewTaskPrio"),i.textContent="Priority => ",i.setAttribute("for","NewTaskPrio"),e.appendChild(n),e.appendChild(o),o.insertAdjacentHTML("afterend","<br>"),e.appendChild(r),e.appendChild(c),c.insertAdjacentHTML("afterend","<br>"),e.appendChild(l),e.appendChild(u),u.insertAdjacentHTML("afterend","<br>"),e.appendChild(i),e.appendChild(a),a.insertAdjacentHTML("afterend","<br>"),e.appendChild(d),e.appendChild(m),m.insertAdjacentHTML("afterend","<br>"),e.appendChild(p),document.querySelector("body").appendChild(e)}function g(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(1px)"}function h(){const e=document.querySelector(".taskForm button"),t=document.querySelector(".taskForm");e.parentElement.parentElement.removeChild(t)}function f(){const e=document.querySelectorAll("div:not(.taskForm)");for(let t of e)t.style.filter="blur(0)"}function b(){const e=document.querySelector(".todo-board div:last-of-type button:nth-child(1)"),t=document.querySelector(".todo-board div:last-of-type > div > p:nth-child(1)");e.addEventListener("click",(()=>{for(let e=0;e<c.getLength();e++)c.getName(e)===t.textContent&&(c.deleteElement(e),v());C()}))}function y(e){document.querySelector(".todo-board div:last-of-type");const t=document.querySelector(".todo-board div:last-of-type button:nth-child(1)"),n=document.createElement("button");document.querySelector(".todo-board div:last-of-type div"),n.setAttribute("type","button"),n.textContent="Rename the Form",t.parentNode.insertBefore(n,t.nextSibling),n.addEventListener("click",(()=>{p(),g();const t=document.querySelector(".taskForm select"),n=document.querySelectorAll(".taskForm input");n[0].value=c.getName(e),n[1].value=c.getDescription(e),n[2].value=c.getDueDate(e),n[3].value=c.getPriority(e),t.value=c.getLink(e),document.querySelector(".taskForm button").addEventListener("click",(()=>{c.changeName(e,n[0].value),c.changeDescription(e,n[1].value),c.changeDueDate(e,n[2].value),c.changePriority(e,n[3].value),c.changeLink(e,t.value),f(),h(),v()}))}))}function v(){let e=[];for(let t=0;t<c.getLength();t++)e.push(c.getName(t)),e.push(c.getDescription(t)),e.push(c.getDueDate(t)),e.push(c.getPriority(t)),e.push(c.getLink(t));localStorage.setItem("tasks",JSON.stringify(e))}function C(){const e=document.querySelectorAll(".todo-board *");for(let t of e)t.remove()}!function(){if(localStorage.getItem("projects")){let e=JSON.parse(localStorage.getItem("projects"));for(let t=0;t<e.length;t++)u(e[t]),i(e[t]),a()}if(localStorage.getItem("tasks")){let e=[];e=JSON.parse(localStorage.getItem("tasks"));let t=0;for(;t<=e.length;)l(e[t],e[t+1],e[t+2],e[t+3],e[t+4]),t+=5}document.querySelector(".my-projects button").addEventListener("click",(()=>{C();for(let e=0;e<c.getLength();e++)d(),m(e),y(e)})),document.querySelector(".buttons button:first-of-type").addEventListener("click",(()=>{!function(){const e=document.createElement("div"),t=document.createElement("label"),n=document.createElement("input"),o=document.createElement("button");e.setAttribute("class","projectForm"),o.setAttribute("type","button"),o.textContent="Ok",n.setAttribute("id","NewProjectName"),t.textContent="Name => ",t.setAttribute("for","NewProjectName"),e.appendChild(t),e.appendChild(n),e.appendChild(o),document.querySelector("body").appendChild(e)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(1px)"}(),function(){const e=document.querySelector(".projectForm button"),t=(document.querySelector(".projectForm"),document.querySelector(".projectForm input"));e.addEventListener("click",(()=>{""==t.value&&null==t.value&&null==t.value||(u(t.value),i(t.value),function(){const e=document.querySelector(".projectForm button"),t=document.querySelector(".projectForm");e.parentElement.parentElement.removeChild(t)}(),function(){const e=document.querySelectorAll("div:not(.projectForm)");for(let t of e)t.style.filter="blur(0)"}(),a(),s())}))}()})),document.querySelector(".buttons button:nth-child(2)").addEventListener("click",(()=>{p(),g(),function(){const e=document.querySelector(".taskForm button"),t=document.querySelectorAll(".taskForm input"),n=document.querySelector(".taskForm select");e.addEventListener("click",(()=>{let e=t[0].value,o=t[1].value,r=t[2].value,c=t[3].value,u=n.value;e&&o&&r&&c&&(l(e,o,r,c,u),h(),f(),v())}))}()}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBdUJBLE1BQU1BLEVBdkJOLFdBQ0ksTUFBTUMsRUFBa0IsR0FtQnhCLE1BQU8sQ0FBQ0MscUJBaEJzQkMsSUFDMUJGLEVBQWdCRyxLQUFLRCxFQUFRLEVBZUpFLFFBWlpDLEdBQ05MLEVBQWdCSyxHQUFPRCxVQVdHRSxVQVJuQixJQUNQTixFQUFnQk8sT0FPb0JDLGNBSnhCQyxJQUNuQlQsRUFBZ0JVLE9BQU9ELEVBQUUsRUFBRSxFQUluQyxDQUVxQlQsR0FFckIsSUN6QkEsTUFBTVcsRUFFRixXQUFBQyxDQUFZQyxHQUNSQyxLQUFLRCxLQUFPQSxDQUNoQixDQUVBLFVBQUFFLENBQVdDLEdBQ1BGLEtBQUtELEtBQU9HLENBQ2hCLENBRUEsT0FBQVosR0FDSSxPQUFPVSxLQUFLRCxJQUNoQixFQVVKLE1DeUJBLEVBL0NBLFNBQTJCSSxFQUFTQyxFQUFlQyxFQUFXQyxFQUFZQyxHQUN0RSxJQUFJQyxFQUFRTCxFQUNSTSxFQUFjTCxFQUNkTSxFQUFVTCxFQUNWTSxFQUFXTCxFQUNYTSxFQUFjTCxFQXNDbEIsTUFBTyxDQUFDTSxTQXBDUixXQUNJLE9BQU9MLENBQ1gsRUFrQ2lCTSxlQWpDakIsV0FDSSxPQUFPTCxDQUNYLEVBK0JnQ00sUUE5QmhDLFdBQ0ksT0FBT0wsQ0FDWCxFQTRCd0NNLFlBM0J4QyxXQUNJLE9BQU9MLENBQ1gsRUF5Qm9ETSxlQXhCcEQsV0FDSSxPQUFPTCxDQUNYLEVBc0JtRU0sUUFyQm5FLFdBQ0ksT0FBT04sQ0FDWCxFQW1CMkVYLFdBbEIzRSxTQUFvQkMsR0FDaEJNLEVBQVFOLENBQ1osRUFnQnNGaUIsa0JBZnRGLFNBQTJCZixHQUN2QkssRUFBY0wsQ0FDbEIsRUFhd0dnQixjQVp4RyxTQUF1QmYsR0FDbkJLLEVBQVVMLENBQ2QsRUFVc0hnQixlQVR0SCxTQUF3QmYsR0FDcEJLLEVBQVdMLENBQ2YsRUFPcUlnQixXQU5ySSxTQUFvQkMsR0FDaEJYLEVBQWNXLENBQ2xCLEVBS0osRUNnQk1DLEVBNUROLFdBQ0ksTUFBTUMsRUFBZSxHQXdEckIsTUFBTyxDQUFDQyxXQWxEWUMsSUFDaEJGLEVBQWFwQyxLQUFLc0MsRUFBSyxFQWlEUmIsZUE5Q0t2QixHQUNia0MsRUFBYWxDLEdBQU91QixpQkE2Q0djLFdBMUNkckMsR0FDVGtDLEVBQWFsQyxHQUFPd0IsVUF5Q2NDLFlBdEN4QnpCLEdBQ1ZrQyxFQUFhbEMsR0FBT3lCLGNBcUMwQkMsZUFsQ2pDMUIsR0FDYmtDLEVBQWFsQyxHQUFPMkIsVUFpQ3lDMUIsVUE5QnRELElBQ1BpQyxFQUFhaEMsT0E2QjBEeUIsUUExQmpFM0IsR0FDTmtDLEVBQWFsQyxHQUFPMkIsVUF5QjJENUIsUUF0RHpFQyxHQUNOa0MsRUFBYWxDLEdBQU9zQixXQXFEbUVuQixjQXRCM0VILElBQ25Ca0MsRUFBYTdCLE9BQU9MLEVBQU0sRUFBRSxFQXFCZ0ZVLFdBbEI3RixDQUFDVixFQUFNVyxLQUN0QnVCLEVBQWFsQyxHQUFPVSxXQUFXQyxFQUFRLEVBaUJnRmlCLGtCQWZqRyxDQUFDNUIsRUFBTWEsS0FDN0JxQixFQUFhbEMsR0FBTzRCLGtCQUFrQmYsRUFBZSxFQWNvRmdCLGNBWnZILENBQUM3QixFQUFNYyxLQUN6Qm9CLEVBQWFsQyxHQUFPNkIsY0FBY2YsRUFBVyxFQVcwR2dCLGVBVHBJLENBQUM5QixFQUFNZSxLQUMxQm1CLEVBQWFsQyxHQUFPOEIsZUFBZWYsRUFBWSxFQVF1SGdCLFdBTnZKLENBQUMvQixFQUFNZ0MsS0FDdEJFLEVBQWFsQyxHQUFPK0IsV0FBV0MsRUFBUSxFQU0vQyxDQUVvQkUsR0FFcEIsSUNuREEsU0FBU0ksRUFBZTlCLEVBQUsrQixFQUFNQyxFQUFLcEIsRUFBU0MsR0FDN0MsTUFBTW9CLEVBQVUsRUFBa0JqQyxFQUFLK0IsRUFBTUMsRUFBS3BCLEVBQVNDLEdBQzNELEVBQVljLFdBQVdNLEVBQzNCLENBR0EsUUFYQSxTQUE0Q2pDLEdBQ3hDLElBQUlrQyxFSFFSLFNBQTBCbEMsR0FFdEIsT0FEbUIsSUFBSUYsRUFBUUUsRUFFbkMsQ0dYcUIsQ0FBaUJBLEdBQ2xDLEVBQWFaLHFCQUFxQjhDLEVBQ3RDLEVDZ0VBLFNBQVNDLEVBQTBCQyxHQUMvQixNQUFNQyxFQUFvQkMsU0FBU0MsY0FBYyxnQkFDM0NDLEVBQVlGLFNBQVNHLGNBQWMsVUFFekNELEVBQVVFLGFBQWEsT0FBTyxVQUU5QkYsRUFBVUcsWUFBY1AsRUFFeEJDLEVBQWtCTyxZQUFZSixFQUNsQyxDQW9CQSxTQUFTSyxJQUNMLE1BQU1DLEVBQWVSLFNBQVNDLGNBQWMsb0NBQ3RDUSxFQUFnQlQsU0FBU0MsY0FBYyxlQUc3Q08sRUFBYUUsaUJBQWlCLFNBQVEsS0FDbENDLElBR0EsTUFBTUMsRUFBaUJaLFNBQVNHLGNBQWMsVUE4RHRELElBQTRCVSxFQTdEcEJELEVBQWVSLGFBQWEsT0FBTyxVQUNuQ1EsRUFBZVAsWUFBYyxzQkFHN0JJLEVBQWNILFlBQVlNLEdBeUROQyxFQXhEREwsRUFBYUgsWUF5RGxCTCxTQUFTQyxjQUFjLG1DQUUvQlMsaUJBQWlCLFNBQVMsS0FDaEMsR0FBK0IsSUFBNUIsRUFBWXZELFlBQ1gsSUFBSSxJQUFJRyxFQUFJLEVBQUdBLEVBQUksRUFBWUgsWUFBYUcsSUFDckMsRUFBWXVCLFFBQVF2QixLQUFPdUQsR0FDMUIsRUFBWXhELGNBQWNDLEdBSXRDLElBQUksSUFBSXdELEVBQUksRUFBR0EsRUFBSSxFQUFhM0QsWUFBYTJELElBQ3pDLEdBQUcsRUFBYTdELFFBQVE2RCxLQUFPRCxFQUFjLENBQ3pDLEVBQWF4RCxjQUFjeUQsR0FDM0JDLElBQ0EsS0FDSixDQUdKLE1BQU1DLEVBQVVoQixTQUFTaUIsaUJBQWlCLHVCQUUxQyxJQUFJLElBQUlDLEtBQVFGLEVBQ1RFLEVBQUtiLGNBQWdCUSxHQUNwQkssRUFBS0MsY0FBY0MsWUFBWUYsR0FJdkNQLEdBQVUsSUE3RWxCLFNBQXlCRSxHQUVyQixJQUFJLElBQUl2RCxFQUFJLEVBQUdBLEVBQUksRUFBWUgsWUFBYUcsSUFDckMsRUFBWXVCLFFBQVF2QixLQUFPdUQsSUFDMUJRLElBQ0FDLEVBQWtCaEUsR0FDbEJpRSxJQUNBQyxFQUFnQmxFLEdBSzVCLENBaEJRbUUsQ0FBZ0JqQixFQUFhSCxZQUFZLEdBRWpELENBaUJBLFNBQVNnQixJQUNMLE1BQU1LLEVBQWUxQixTQUFTRyxjQUFjLE9BQ3RDd0IsRUFBVTNCLFNBQVNHLGNBQWMsVUFDakNNLEVBQWdCVCxTQUFTQyxjQUFjLGVBRTdDMEIsRUFBUXZCLGFBQWEsT0FBUSxVQUM3QnVCLEVBQVF0QixZQUFjLG1CQUV0QnFCLEVBQWFwQixZQUFZcUIsR0FDekJsQixFQUFjSCxZQUFZb0IsRUFDOUIsQ0FFQSxTQUFTSixFQUFrQmhFLEdBQ3ZCLE1BQU1zRSxFQUFrQjVCLFNBQVNDLGNBQWMsa0NBRXpDeUIsRUFBZTFCLFNBQVNHLGNBQWMsT0FDdEN6QyxFQUFPc0MsU0FBU0csY0FBYyxLQUM5Qi9CLEVBQWM0QixTQUFTRyxjQUFjLEtBQ3JDOUIsRUFBVTJCLFNBQVNHLGNBQWMsS0FDakM3QixFQUFXMEIsU0FBU0csY0FBYyxLQUV4Q3pDLEVBQUsyQyxZQUFjLEVBQVlwRCxRQUFRSyxHQUN2Q2MsRUFBWWlDLFlBQWMsRUFBWTVCLGVBQWVuQixHQUNyRGUsRUFBUWdDLFlBQWMsRUFBWWQsV0FBV2pDLEdBQzdDZ0IsRUFBUytCLFlBQWMsRUFBWTFCLFlBQVlyQixHQUUvQ29FLEVBQWFwQixZQUFZNUMsR0FDekJnRSxFQUFhcEIsWUFBWWxDLEdBQ3pCc0QsRUFBYXBCLFlBQVlqQyxHQUN6QnFELEVBQWFwQixZQUFZaEMsR0FFekJzRCxFQUFnQnRCLFlBQVlvQixFQUVoQyxDQWlDQSxTQUFTWCxJQUNMLElBQUljLEVBQU0sR0FFVixJQUFJLElBQUl2RSxFQUFJLEVBQUdBLEVBQUksRUFBYUgsWUFBYUcsSUFDekN1RSxFQUFJN0UsS0FBSyxFQUFhQyxRQUFRSyxJQUdsQ3dFLGFBQWFDLFFBQVEsV0FBWUMsS0FBS0MsVUFBVUosR0FDcEQsQ0FlQSxTQUFTSyxJQUNMLE1BQU1SLEVBQWUxQixTQUFTRyxjQUFjLE9BRXRDZ0MsRUFBZW5DLFNBQVNHLGNBQWMsU0FDdENpQyxFQUFlcEMsU0FBU0csY0FBYyxTQUV0Q2tDLEVBQXNCckMsU0FBU0csY0FBYyxTQUM3Q21DLEVBQXNCdEMsU0FBU0csY0FBYyxTQUU3Q29DLEVBQWV2QyxTQUFTRyxjQUFjLFNBQ3RDcUMsRUFBZXhDLFNBQVNHLGNBQWMsU0FFdENzQyxFQUFtQnpDLFNBQVNHLGNBQWMsU0FDMUN1QyxFQUFtQjFDLFNBQVNHLGNBQWMsU0FFMUN3QyxFQUFPM0MsU0FBU0csY0FBYyxTQUM5QnlDLEVBQVM1QyxTQUFTRyxjQUFjLFVBQ3RDd0MsRUFBS3ZDLGFBQWEsTUFBTSxlQUN4QnVDLEVBQUt0QyxZQUFjLGdCQUNuQnVDLEVBQU94QyxhQUFhLEtBQUssZUFDekJ3QyxFQUFPeEMsYUFBYSxPQUFPLGdCQUUzQixNQUFNeUMsRUFBWTdDLFNBQVNHLGNBQWMsVUFDekMwQyxFQUFVekMsYUFBYSxRQUFRLEtBQy9CeUMsRUFBVXhDLFlBQWMsT0FDeEJ1QyxFQUFPdEMsWUFBWXVDLEdBRW5CLElBQUksSUFBSXZGLEVBQUksRUFBR0EsRUFBSSxFQUFhSCxZQUFhRyxJQUFJLENBQzdDLE1BQU13RixFQUFTOUMsU0FBU0csY0FBYyxVQUN0QzJDLEVBQU96QyxZQUFjLEdBQUcsRUFBYXBELFFBQVFLLEtBQzdDd0YsRUFBTzFDLGFBQWEsUUFBUSxHQUFHLEVBQWFuRCxRQUFRSyxNQUNwRHNGLEVBQU90QyxZQUFZd0MsRUFDdkIsQ0FHQSxNQUFNQyxFQUFXL0MsU0FBU0csY0FBYyxVQUl4Q3VCLEVBQWF0QixhQUFhLFFBQVEsWUFFbEMyQyxFQUFTM0MsYUFBYSxPQUFPLFVBQzdCMkMsRUFBUzFDLFlBQWMsS0FJdkIrQixFQUFhaEMsYUFBYSxLQUFLLGVBQy9CK0IsRUFBYTlCLFlBQWEsV0FDMUI4QixFQUFhL0IsYUFBYSxNQUFNLGVBRWhDa0MsRUFBb0JsQyxhQUFhLEtBQUssc0JBQ3RDaUMsRUFBb0JoQyxZQUFjLGtCQUNsQ2dDLEVBQW9CakMsYUFBYSxNQUFNLHNCQUV2Q29DLEVBQWFwQyxhQUFhLEtBQUssZUFDL0JtQyxFQUFhbEMsWUFBYyxjQUMzQmtDLEVBQWFuQyxhQUFhLE1BQU0sZUFFaENzQyxFQUFpQnRDLGFBQWEsS0FBSyxlQUNuQ3FDLEVBQWlCcEMsWUFBYyxlQUMvQm9DLEVBQWlCckMsYUFBYSxNQUFNLGVBS3BDc0IsRUFBYXBCLFlBQVk2QixHQUN6QlQsRUFBYXBCLFlBQVk4QixHQUV6QkEsRUFBYVksbUJBQW1CLFdBQVcsUUFFM0N0QixFQUFhcEIsWUFBWStCLEdBQ3pCWCxFQUFhcEIsWUFBWWdDLEdBRXpCQSxFQUFvQlUsbUJBQW1CLFdBQVcsUUFFbER0QixFQUFhcEIsWUFBWWlDLEdBQ3pCYixFQUFhcEIsWUFBWWtDLEdBRXpCQSxFQUFhUSxtQkFBbUIsV0FBVyxRQUUzQ3RCLEVBQWFwQixZQUFZbUMsR0FDekJmLEVBQWFwQixZQUFZb0MsR0FFekJBLEVBQWlCTSxtQkFBbUIsV0FBVyxRQUUvQ3RCLEVBQWFwQixZQUFZcUMsR0FDekJqQixFQUFhcEIsWUFBWXNDLEdBRXpCQSxFQUFPSSxtQkFBbUIsV0FBVyxRQUVyQ3RCLEVBQWFwQixZQUFZeUMsR0FFSi9DLFNBQVNDLGNBQWMsUUFDL0JLLFlBQVlvQixFQUU3QixDQStCQSxTQUFTdUIsSUFDTCxNQUFNQyxFQUEyQmxELFNBQVNpQixpQkFBaUIsc0JBRTNELElBQUksSUFBSWtDLEtBQU9ELEVBQ2ZDLEVBQUlDLE1BQU1DLE9BQVMsV0FFdkIsQ0FFQSxTQUFTQyxJQUNMLE1BQU1DLEVBQWlCdkQsU0FBU0MsY0FBYyxvQkFDeEN1RCxFQUFXeEQsU0FBU0MsY0FBYyxhQUN4Q3NELEVBQWVwQyxjQUFjQSxjQUFjQyxZQUFZb0MsRUFDM0QsQ0FFQSxTQUFTQyxJQUNMLE1BQU1QLEVBQTJCbEQsU0FBU2lCLGlCQUFpQixzQkFFdkQsSUFBSSxJQUFJa0MsS0FBT0QsRUFDWEMsRUFBSUMsTUFBTUMsT0FBUyxTQUUvQixDQUdBLFNBQVM5QixJQUNMLE1BQU1tQyxFQUFZMUQsU0FBU0MsY0FBYyxvREFDbkMwRCxFQUFZM0QsU0FBU0MsY0FBYyx1REFFekN5RCxFQUFVaEQsaUJBQWlCLFNBQVMsS0FDaEMsSUFBSSxJQUFJcEQsRUFBSSxFQUFHQSxFQUFJLEVBQVlILFlBQWNHLElBQ3RDLEVBQVlMLFFBQVFLLEtBQU9xRyxFQUFVdEQsY0FDcEMsRUFBWWhELGNBQWNDLEdBQzFCc0csS0FHUmpELEdBQVUsR0FFbEIsQ0FFQSxTQUFTYSxFQUFnQmxFLEdBQ0wwQyxTQUFTQyxjQUFjLGdDQUF2QyxNQUNNNEQsRUFBVzdELFNBQVNDLGNBQWMsb0RBQ2xDNkQsRUFBYTlELFNBQVNHLGNBQWMsVUFDaEJILFNBQVNDLGNBQWMsb0NBRWpENkQsRUFBVzFELGFBQWEsT0FBTyxVQUMvQjBELEVBQVd6RCxZQUFjLGtCQUV6QndELEVBQVNFLFdBQVdDLGFBQWFGLEVBQVlELEVBQVNJLGFBRXRESCxFQUFXcEQsaUJBQWlCLFNBQVMsS0FDakN3QixJQUNBZSxJQUVBLE1BQU1MLEVBQVM1QyxTQUFTQyxjQUFjLG9CQUNoQ2lFLEVBQWdCbEUsU0FBU2lCLGlCQUFpQixtQkFFaERpRCxFQUFjLEdBQUdDLE1BQVEsRUFBWWxILFFBQVFLLEdBQzdDNEcsRUFBYyxHQUFHQyxNQUFRLEVBQVkxRixlQUFlbkIsR0FDcEQ0RyxFQUFjLEdBQUdDLE1BQVEsRUFBWTVFLFdBQVdqQyxHQUNoRDRHLEVBQWMsR0FBR0MsTUFBUSxFQUFZeEYsWUFBWXJCLEdBQ2pEc0YsRUFBT3VCLE1BQVEsRUFBWXRGLFFBQVF2QixHQUVkMEMsU0FBU0MsY0FBYyxvQkFDL0JTLGlCQUFpQixTQUFTLEtBQ25DLEVBQVk5QyxXQUFXTixFQUFFNEcsRUFBYyxHQUFHQyxPQUMxQyxFQUFZckYsa0JBQWtCeEIsRUFBRTRHLEVBQWMsR0FBR0MsT0FDakQsRUFBWXBGLGNBQWN6QixFQUFFNEcsRUFBYyxHQUFHQyxPQUM3QyxFQUFZbkYsZUFBZTFCLEVBQUU0RyxFQUFjLEdBQUdDLE9BQzlDLEVBQVlsRixXQUFXM0IsRUFBRXNGLEVBQU91QixPQUVoQ1YsSUFDQUgsSUFDQU0sR0FBd0IsR0FDMUIsR0FHVixDQUVBLFNBQVNBLElBQ0wsSUFBSVEsRUFBVyxHQUVmLElBQUksSUFBSTlHLEVBQUksRUFBR0EsRUFBSSxFQUFZSCxZQUFhRyxJQUN4QzhHLEVBQVNwSCxLQUFLLEVBQVlDLFFBQVFLLElBQ2xDOEcsRUFBU3BILEtBQUssRUFBWXlCLGVBQWVuQixJQUN6QzhHLEVBQVNwSCxLQUFLLEVBQVl1QyxXQUFXakMsSUFDckM4RyxFQUFTcEgsS0FBSyxFQUFZMkIsWUFBWXJCLElBQ3RDOEcsRUFBU3BILEtBQUssRUFBWTZCLFFBQVF2QixJQUd0Q3dFLGFBQWFDLFFBQVEsUUFBU0MsS0FBS0MsVUFBVW1DLEdBQ2pELENBZ0JBLFNBQVN6RCxJQUNMLE1BQU0wRCxFQUFRckUsU0FBU2lCLGlCQUFpQixpQkFFeEMsSUFBSSxJQUFJQyxLQUFRbUQsRUFDWm5ELEVBQUtvRCxRQUViLEVDOWNhLFdBR1QsR0FBR3hDLGFBQWF5QyxRQUFRLFlBQVksQ0FDaEMsSUFBSTFDLEVBQU1HLEtBQUt3QyxNQUFNMUMsYUFBYXlDLFFBQVEsYUFFMUMsSUFBSSxJQUFJekQsRUFBSSxFQUFHQSxFQUFJZSxFQUFJekUsT0FBUTBELElBQy9CLEVBQW1DZSxFQUFJZixJQUN2Q2pCLEVBQTBCZ0MsRUFBSWYsSUFDOUJQLEdBRUosQ0FFQSxHQUFHdUIsYUFBYXlDLFFBQVEsU0FBUyxDQUM3QixJQUFJSCxFQUFXLEdBQ2ZBLEVBQVdwQyxLQUFLd0MsTUFBTTFDLGFBQWF5QyxRQUFRLFVBQzNDLElBQUlqSCxFQUFJLEVBR1IsS0FBTUEsR0FBSzhHLEVBQVNoSCxRQUNoQm9DLEVBQWU0RSxFQUFTOUcsR0FDVDhHLEVBQVM5RyxFQUFFLEdBQ1g4RyxFQUFTOUcsRUFBRSxHQUNYOEcsRUFBUzlHLEVBQUUsR0FDWDhHLEVBQVM5RyxFQUFFLElBQzFCQSxHQUFNLENBR2QsQ0RpYXNCMEMsU0FBU0MsY0FBYyx1QkFDL0JTLGlCQUFpQixTQUFTLEtBQ3BDQyxJQUNBLElBQUksSUFBSXJELEVBQUksRUFBR0EsRUFBSSxFQUFZSCxZQUFhRyxJQUN4QytELElBQ0FDLEVBQWtCaEUsR0FDbEJrRSxFQUFnQmxFLEVBQ3BCLElBaGNlMEMsU0FBU0MsY0FBYyxpQ0FFL0JTLGlCQUFpQixTQUFTLE1BUXpDLFdBQ0ksTUFBTWdCLEVBQWUxQixTQUFTRyxjQUFjLE9BQ3RDc0UsRUFBV3pFLFNBQVNHLGNBQWMsU0FDbEN1RSxFQUFXMUUsU0FBU0csY0FBYyxTQUNsQzRDLEVBQVcvQyxTQUFTRyxjQUFjLFVBRXhDdUIsRUFBYXRCLGFBQWEsUUFBUSxlQUVsQzJDLEVBQVMzQyxhQUFhLE9BQU8sVUFDN0IyQyxFQUFTMUMsWUFBYyxLQUV2QnFFLEVBQVN0RSxhQUFhLEtBQUssa0JBQzNCcUUsRUFBU3BFLFlBQWMsV0FDdkJvRSxFQUFTckUsYUFBYSxNQUFNLGtCQUU1QnNCLEVBQWFwQixZQUFZbUUsR0FDekIvQyxFQUFhcEIsWUFBWW9FLEdBQ3pCaEQsRUFBYXBCLFlBQVl5QyxHQUVKL0MsU0FBU0MsY0FBYyxRQUMvQkssWUFBWW9CLEVBRTdCLENBN0JRaUQsR0FnQ1IsV0FDSSxNQUFNekIsRUFBMkJsRCxTQUFTaUIsaUJBQWlCLHlCQUUzRCxJQUFJLElBQUlrQyxLQUFPRCxFQUNmQyxFQUFJQyxNQUFNQyxPQUFTLFdBRXZCLENBckNRdUIsR0F3Q1IsV0FDSSxNQUFNQyxFQUFvQjdFLFNBQVNDLGNBQWMsdUJBRTNDNkUsR0FEYzlFLFNBQVNDLGNBQWMsZ0JBQ3pCRCxTQUFTQyxjQUFjLHVCQUV6QzRFLEVBQWtCbkUsaUJBQWlCLFNBQVMsS0FDbEIsSUFBbkJvRSxFQUFVWCxPQUNTWSxNQUFuQkQsRUFBVVgsT0FDUyxNQUFuQlcsRUFBVVgsUUFFVCxFQUFtQ1csRUFBVVgsT0FDN0N0RSxFQUEwQmlGLEVBQVVYLE9BdUJoRCxXQUNJLE1BQU1VLEVBQW9CN0UsU0FBU0MsY0FBYyx1QkFDM0MrRSxFQUFjaEYsU0FBU0MsY0FBYyxnQkFDM0M0RSxFQUFrQjFELGNBQWNBLGNBQWNDLFlBQVk0RCxFQUM5RCxDQTFCWUMsR0E4QlosV0FDSSxNQUFNL0IsRUFBMkJsRCxTQUFTaUIsaUJBQWlCLHlCQUV2RCxJQUFJLElBQUlrQyxLQUFPRCxFQUNYQyxFQUFJQyxNQUFNQyxPQUFTLFNBRS9CLENBbkNZNkIsR0FDQTNFLElBQ0FRLElBQ0osR0FJUixDQTNEUW9FLEVBQWUsSUE2TUZuRixTQUFTQyxjQUFjLGdDQUUvQlMsaUJBQWlCLFNBQVMsS0FDL0J3QixJQUNBZSxJQXVHUixXQUNJLE1BQU1tQyxFQUFlcEYsU0FBU0MsY0FBYyxvQkFDdENpRSxFQUFnQmxFLFNBQVNpQixpQkFBaUIsbUJBQzFDMkIsRUFBUzVDLFNBQVNDLGNBQWMsb0JBSXRDbUYsRUFBYTFFLGlCQUFpQixTQUFTLEtBQ25DLElBQUloRCxFQUFPd0csRUFBYyxHQUFHQyxNQUN4QjFFLEVBQVF5RSxFQUFjLEdBQUdDLE1BQ3pCekUsRUFBT3dFLEVBQWMsR0FBR0MsTUFDeEI3RixFQUFXNEYsRUFBYyxHQUFHQyxNQUM1QjVGLEVBQWNxRSxFQUFPdUIsTUFFdEJ6RyxHQUNBK0IsR0FDQUMsR0FDQXBCLElBQ0trQixFQUFlOUIsRUFBSytCLEVBQU1DLEVBQUtwQixFQUFTQyxHQUN4QytFLElBQ0FHLElBQ0FHLElBQ0wsR0FJWCxDQWhJUXlCLEVBQW1CLEdDekwzQixDQ2pDQSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZQcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvdGFzay5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlRhc2tzLmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdE1hbmFnZS9uZXdQcm9qZWN0Q2FsbC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0LXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL2RvbS9kb20uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9pbml0LmpzIiwid2VicGFjazovL3Byb2plY3QtdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGFycmF5T2ZQcm9qZWN0cygpe1xuICAgIGNvbnN0IGFycmF5T2ZQcm9qZWN0cyA9IFtdO1xuXG5cbiAgICBjb25zdCBwdXNoUHJvamVjdEludG9BcnJheSA9IChwcm9qZWN0KSA9PntcbiAgICAgICAgYXJyYXlPZlByb2plY3RzLnB1c2gocHJvamVjdCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TmFtZSA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlByb2plY3RzW2NvdW50XS5nZXROYW1lKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TGVuZ3RoID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlByb2plY3RzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBjb25zdCBkZWxldGVFbGVtZW50ID0gKGkpID0+IHtcbiAgICAgICAgYXJyYXlPZlByb2plY3RzLnNwbGljZShpLDEpO1xuICAgIH1cblxuICAgIHJldHVybiB7cHVzaFByb2plY3RJbnRvQXJyYXksZ2V0TmFtZSxnZXRMZW5ndGgsZGVsZXRlRWxlbWVudH07XG59XG5cbmNvbnN0IHByb2plY3RBcnJheSA9IGFycmF5T2ZQcm9qZWN0cygpO1xuXG5leHBvcnQgZGVmYXVsdCBwcm9qZWN0QXJyYXk7IiwiY2xhc3MgUHJvamVjdHtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWUpe1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIGNoYW5nZU5hbWUobmV3TmFtZSl7XG4gICAgICAgIHRoaXMubmFtZSA9IG5ld05hbWU7XG4gICAgfVxuXG4gICAgZ2V0TmFtZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdChuYW1lKXtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3QobmFtZSk7XG4gICAgcmV0dXJuIG5ld1Byb2plY3Q7XG59XG5cbi8vQWRkIHRoaXMgZnVuY3Rpb25hbGl0eSBoZXJlIHRvIG5vdCBoYXZlIGFub3RoZXIgZmlsZSB0byBtYW5hZ2VcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlTmV3UHJvamVjdDsiLCJmdW5jdGlvbiBjcmVhdGVUYXNrRm9yVG9kbyhuZXdUaXRsZSxuZXdEZXNjcmlwdGlvbixuZXdEdWVEYXRlLG5ld1ByaW9yaXR5LG5ld1Byb2plY3RMaW5rKXtcbiAgICBsZXQgdGl0bGUgPSBuZXdUaXRsZTtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICBsZXQgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgbGV0IHByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gICAgbGV0IHByb2plY3RMaW5rID0gbmV3UHJvamVjdExpbms7XG5cbiAgICBmdW5jdGlvbiBnZXRUaXRsZSgpe1xuICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKCl7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGF0ZSgpe1xuICAgICAgICByZXR1cm4gZHVlRGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UHJpb3JpdHkoKXtcbiAgICAgICAgcmV0dXJuIHByaW9yaXR5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcm9qZWN0TmFtZSgpe1xuICAgICAgICByZXR1cm4gcHJvamVjdExpbms7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExpbmsoKXtcbiAgICAgICAgcmV0dXJuIHByb2plY3RMaW5rO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFuZ2VOYW1lKG5ld05hbWUpe1xuICAgICAgICB0aXRsZSA9IG5ld05hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYW5nZURlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKXtcbiAgICAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvblxuICAgIH0gICAgXG4gICAgZnVuY3Rpb24gY2hhbmdlRHVlRGF0ZShuZXdEdWVEYXRlKXtcbiAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYW5nZVByaW9yaXR5KG5ld1ByaW9yaXR5KXtcbiAgICAgICAgcHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhbmdlTGluayhuZXdMaW5rKXtcbiAgICAgICAgcHJvamVjdExpbmsgPSBuZXdMaW5rO1xuICAgIH0gICBcbiAgICBcbiAgICBcblxuICAgIHJldHVybiB7Z2V0VGl0bGUsZ2V0RGVzY3JpcHRpb24sZ2V0RGF0ZSxnZXRQcmlvcml0eSxnZXRQcm9qZWN0TmFtZSxnZXRMaW5rLGNoYW5nZU5hbWUsY2hhbmdlRGVzY3JpcHRpb24sY2hhbmdlRHVlRGF0ZSxjaGFuZ2VQcmlvcml0eSxjaGFuZ2VMaW5rfTtcbn1cblxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVUYXNrRm9yVG9kbzsiLCJmdW5jdGlvbiBhcnJheU9mVGFza3MoKXtcbiAgICBjb25zdCBhcnJheU9mVGFza3MgPSBbXTtcblxuICAgIGNvbnN0IGdldE5hbWUgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0VGl0bGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBhZGRFbGVtZW50ID0gKHRhc2spID0+e1xuICAgICAgICBhcnJheU9mVGFza3MucHVzaCh0YXNrKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZXREZXNjcmlwdGlvbiA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXREZXNjcmlwdGlvbigpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldER1ZURhdGUgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0RGF0ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldFByaW9yaXR5ID0gKGNvdW50KSA9PiB7XG4gICAgICAgIHJldHVybiBhcnJheU9mVGFza3NbY291bnRdLmdldFByaW9yaXR5KCk7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0UHJvamVjdE5hbWUgPSAoY291bnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrc1tjb3VudF0uZ2V0TGluaygpO1xuICAgIH1cblxuICAgIGNvbnN0IGdldExlbmd0aCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFycmF5T2ZUYXNrcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TGluayA9IChjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyYXlPZlRhc2tzW2NvdW50XS5nZXRMaW5rKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZXRlRWxlbWVudCA9IChjb3VudCkgPT4ge1xuICAgICAgICBhcnJheU9mVGFza3Muc3BsaWNlKGNvdW50LDEpO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYW5nZU5hbWUgPSAoY291bnQsbmV3TmFtZSkgPT4ge1xuICAgICAgICBhcnJheU9mVGFza3NbY291bnRdLmNoYW5nZU5hbWUobmV3TmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZURlc2NyaXB0aW9uID0gKGNvdW50LG5ld0Rlc2NyaXB0aW9uKSA9PiB7XG4gICAgICAgIGFycmF5T2ZUYXNrc1tjb3VudF0uY2hhbmdlRGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICBjb25zdCBjaGFuZ2VEdWVEYXRlID0gKGNvdW50LG5ld0R1ZURhdGUpID0+IHtcbiAgICAgICAgYXJyYXlPZlRhc2tzW2NvdW50XS5jaGFuZ2VEdWVEYXRlKG5ld0R1ZURhdGUpO1xuICAgIH1cbiAgICBjb25zdCBjaGFuZ2VQcmlvcml0eSA9IChjb3VudCxuZXdQcmlvcml0eSkgPT4ge1xuICAgICAgICBhcnJheU9mVGFza3NbY291bnRdLmNoYW5nZVByaW9yaXR5KG5ld1ByaW9yaXR5KTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlTGluayA9IChjb3VudCxuZXdMaW5rKSA9PiB7XG4gICAgICAgIGFycmF5T2ZUYXNrc1tjb3VudF0uY2hhbmdlTGluayhuZXdMaW5rKTtcbiAgICB9XG5cblxuXG4gICAgcmV0dXJuIHthZGRFbGVtZW50LGdldERlc2NyaXB0aW9uLGdldER1ZURhdGUsZ2V0UHJpb3JpdHksZ2V0UHJvamVjdE5hbWUsZ2V0TGVuZ3RoLGdldExpbmssZ2V0TmFtZSxkZWxldGVFbGVtZW50LGNoYW5nZU5hbWUsY2hhbmdlRGVzY3JpcHRpb24sY2hhbmdlRHVlRGF0ZSxjaGFuZ2VQcmlvcml0eSxjaGFuZ2VMaW5rfTtcbn1cblxuY29uc3QgcHJvamVjdFRhc2sgPSBhcnJheU9mVGFza3MoKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvamVjdFRhc2s7IiwiaW1wb3J0IHByb2plY3RBcnJheSBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mUHJvamVjdHMuanNcIjtcbmltcG9ydCBjcmVhdGVOZXdQcm9qZWN0IGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL3Byb2plY3QuanNcIjtcbmltcG9ydCBjcmVhdGVUYXNrRm9yVG9kbyBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy90YXNrLmpzXCI7XG5pbXBvcnQgcHJvamVjdFRhc2sgZnJvbSBcIi4uL3RlbXBsYXRlRmlsZXMvYXJyYXlPZlRhc2tzLmpzXCI7XG5cblxuZnVuY3Rpb24gY3JlYXRlVGhlUHJvamVjdEFuZEFkZEl0VG9UaGVBcnJheShuYW1lKXtcbiAgICBsZXQgbmV3UHJvamVjdCA9IGNyZWF0ZU5ld1Byb2plY3QobmFtZSk7XG4gICAgcHJvamVjdEFycmF5LnB1c2hQcm9qZWN0SW50b0FycmF5KG5ld1Byb2plY3QpO1xufVxuXG5mdW5jdGlvbiBhdXRvQ3JlYXRlVGFzayhuYW1lLGRlc2NyLGRhdGUscHJpb3JpdHkscHJvamVjdExpbmspe1xuICAgIGNvbnN0IG5ld1Rhc2sgPSBjcmVhdGVUYXNrRm9yVG9kbyhuYW1lLGRlc2NyLGRhdGUscHJpb3JpdHkscHJvamVjdExpbmspO1xuICAgIHByb2plY3RUYXNrLmFkZEVsZW1lbnQobmV3VGFzayk7XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlVGhlUHJvamVjdEFuZEFkZEl0VG9UaGVBcnJheTtcbmV4cG9ydCB7YXV0b0NyZWF0ZVRhc2t9O1xuXG5cblxuXG4iLCJpbXBvcnQgY3JlYXRlVGhlUHJvamVjdEFuZEFkZEl0VG9UaGVBcnJheSBmcm9tIFwiLi4vcHJvamVjdE1hbmFnZS9uZXdQcm9qZWN0Q2FsbC5qc1wiO1xuaW1wb3J0IHByb2plY3RUYXNrIGZyb20gXCIuLi90ZW1wbGF0ZUZpbGVzL2FycmF5T2ZUYXNrcy5qc1wiO1xuaW1wb3J0IHByb2plY3RBcnJheSBmcm9tIFwiLi4vdGVtcGxhdGVGaWxlcy9hcnJheU9mUHJvamVjdHMuanNcIjtcbmltcG9ydCB7IGF1dG9DcmVhdGVUYXNrIH0gZnJvbSBcIi4uL3Byb2plY3RNYW5hZ2UvbmV3UHJvamVjdENhbGwuanNcIjtcblxuXG5mdW5jdGlvbiBzdGFydE5ld1Byb2plY3RCdXR0b24oKXtcbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbnMgYnV0dG9uOmZpcnN0LW9mLXR5cGUnKTtcblxuICAgIG5ld1Byb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBkcmF3Rm9ybSgpO1xuICAgICAgICBibHVyVGhlRm9ybSgpO1xuICAgICAgICBkcmF3Rm9ybUxvZ2ljKCk7XG4gICAgfSk7XG5cbn1cblxuZnVuY3Rpb24gZHJhd0Zvcm0oKXtcbiAgICBjb25zdCBuZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBuZXdMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IG9rQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgXG4gICAgbmV3Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdwcm9qZWN0Rm9ybScpO1xuXG4gICAgb2tCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgb2tCdXR0b24udGV4dENvbnRlbnQgPSAnT2snO1xuXG4gICAgbmV3SW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Byb2plY3ROYW1lJyk7XG4gICAgbmV3TGFiZWwudGV4dENvbnRlbnQgPSAnTmFtZSA9PiAnO1xuICAgIG5ld0xhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3UHJvamVjdE5hbWUnKTtcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuZXdMYWJlbCk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0KTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQob2tCdXR0b24pO1xuXG4gICAgY29uc3QgYm9keVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgIGJvZHlTZWxlY3Rvci5hcHBlbmRDaGlsZChuZXdDb250YWluZXIpO1xuXG59XG5cblxuZnVuY3Rpb24gYmx1clRoZUZvcm0oKXtcbiAgICBjb25zdCBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bm90KC5wcm9qZWN0Rm9ybSknKTtcbiAgICBcbiAgICBmb3IobGV0IGFsbCBvZiBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3Ipe1xuICAgIGFsbC5zdHlsZS5maWx0ZXIgPSAnYmx1cigxcHgpJztcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gZHJhd0Zvcm1Mb2dpYygpe1xuICAgIGNvbnN0IHByb2plY3RGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtIGJ1dHRvbicpO1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyk7XG4gICAgY29uc3QgaW5wdXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtIGlucHV0Jyk7XG5cbiAgICBwcm9qZWN0Rm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYoaW5wdXRGb3JtLnZhbHVlICE9ICcnIHx8XG4gICAgICAgICAgIGlucHV0Rm9ybS52YWx1ZSAhPSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgaW5wdXRGb3JtLnZhbHVlICE9IG51bGwpe1xuXG4gICAgICAgICAgICBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5KGlucHV0Rm9ybS52YWx1ZSk7XG4gICAgICAgICAgICBjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0KGlucHV0Rm9ybS52YWx1ZSk7XG4gICAgICAgICAgICByZW1vdmVUaGVGb3JtKCk7XG4gICAgICAgICAgICB1bmJsdXJUaGVGb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5TG9naWNCdXR0b24oKTtcbiAgICAgICAgICAgIGxvY2Fsc3RvcmFnZVByb2plY3RzTG9naWMoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbkZvck5ld1Byb2plY3QobmFtZU9mTmV3QnV0dG9uKXtcbiAgICBjb25zdCBwcm9qZWN0c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1wcm9qZWN0cycpO1xuICAgIGNvbnN0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgbmV3QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsJ2J1dHRvbicpO1xuXG4gICAgbmV3QnV0dG9uLnRleHRDb250ZW50ID0gbmFtZU9mTmV3QnV0dG9uO1xuXG4gICAgcHJvamVjdHNDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3QnV0dG9uKTtcbn1cblxuXG5mdW5jdGlvbiByZW1vdmVUaGVGb3JtKCl7XG4gICAgY29uc3QgcHJvamVjdEZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0gYnV0dG9uJyk7XG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0nKTtcbiAgICBwcm9qZWN0Rm9ybUJ1dHRvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQocHJvamVjdEZvcm0pO1xufVxuXG5cblxuZnVuY3Rpb24gdW5ibHVyVGhlRm9ybSgpe1xuICAgIGNvbnN0IGFsbEV4Y2VwdE91ckZvcm1TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdjpub3QoLnByb2plY3RGb3JtKScpO1xuICAgIFxuICAgICAgICBmb3IobGV0IGFsbCBvZiBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3Ipe1xuICAgICAgICAgICAgYWxsLnN0eWxlLmZpbHRlciA9ICdibHVyKDApJztcbiAgICAgICAgICAgIH1cbn1cblxuXG5mdW5jdGlvbiBkaXNwbGF5TG9naWNCdXR0b24oKXtcbiAgICBjb25zdCBzZWxlY3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXktcHJvamVjdHMgYnV0dG9uOmxhc3Qtb2YtdHlwZScpO1xuICAgIGNvbnN0IHNlbGVjdERpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCcpO1xuICAgIFxuXG4gICAgc2VsZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKSA9PiB7XG4gICAgICAgIGNsZWFyQWxsKCk7XG5cblxuICAgICAgICBjb25zdCBkZWxQcm9qZWN0QnR0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBkZWxQcm9qZWN0QnR0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcbiAgICAgICAgZGVsUHJvamVjdEJ0dG4udGV4dENvbnRlbnQgPSAnZGVsZXRlIHRoaXMgcHJvamVjdCc7XG4gICAgICAgIFxuXG4gICAgICAgIHNlbGVjdERpc3BsYXkuYXBwZW5kQ2hpbGQoZGVsUHJvamVjdEJ0dG4pO1xuICAgICAgICBkZWxldGVQcm9qZWN0TG9naWMoc2VsZWN0QnV0dG9uLnRleHRDb250ZW50KTtcblxuICAgICAgICBkaXNwbGF5QXRTY3JlZW4oc2VsZWN0QnV0dG9uLnRleHRDb250ZW50KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUF0U2NyZWVuKG5hbWVPZlByb2plY3Qpe1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrLmdldExlbmd0aCgpOyBpKyspe1xuICAgICAgICBpZihwcm9qZWN0VGFzay5nZXRMaW5rKGkpID09PSBuYW1lT2ZQcm9qZWN0KXtcbiAgICAgICAgICAgIGNyZWF0ZU5ld0RpdnNXaXRoRGVsQnV0dG9uKCk7XG4gICAgICAgICAgICBwb3B1bGF0ZUNvbnRhaW5lcihpKTtcbiAgICAgICAgICAgIGRlbGV0ZVRhc2tMb2dpYygpO1xuICAgICAgICAgICAgYWRkUmVuYW1pbmdCdHRuKGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgXG59XG5cblxuZnVuY3Rpb24gY3JlYXRlTmV3RGl2c1dpdGhEZWxCdXR0b24oKXtcbiAgICBjb25zdCBuZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBkZWxCdHRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY29uc3Qgc2VsZWN0RGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkJyk7XG4gICAgXG4gICAgZGVsQnR0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgZGVsQnR0bi50ZXh0Q29udGVudCA9ICdkZWxldGUgdGhpcyB0YXNrJztcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZWxCdHRuKTtcbiAgICBzZWxlY3REaXNwbGF5LmFwcGVuZENoaWxkKG5ld0NvbnRhaW5lcik7XG59XG5cbmZ1bmN0aW9uIHBvcHVsYXRlQ29udGFpbmVyKGkpe1xuICAgIGNvbnN0IHNlbGVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkID4gZGl2Omxhc3Qtb2YtdHlwZScpO1xuXG4gICAgY29uc3QgbmV3Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXG4gICAgbmFtZS50ZXh0Q29udGVudCA9IHByb2plY3RUYXNrLmdldE5hbWUoaSk7XG4gICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBwcm9qZWN0VGFzay5nZXREZXNjcmlwdGlvbihpKTtcbiAgICBkdWVEYXRlLnRleHRDb250ZW50ID0gcHJvamVjdFRhc2suZ2V0RHVlRGF0ZShpKTtcbiAgICBwcmlvcml0eS50ZXh0Q29udGVudCA9IHByb2plY3RUYXNrLmdldFByaW9yaXR5KGkpOyBcblxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChuYW1lKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChkdWVEYXRlKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQocHJpb3JpdHkpO1xuXG4gICAgc2VsZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0NvbnRhaW5lcik7XG5cbn1cblxuZnVuY3Rpb24gZGVsZXRlUHJvamVjdExvZ2ljKG5hbWVPZlByb2plY3Qpe1xuICAgIGNvbnN0IGRlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWJvYXJkIGJ1dHRvbjpudGgtY2hpbGQoMSknKTtcblxuICAgIGRlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYocHJvamVjdFRhc2suZ2V0TGVuZ3RoKCkgIT09IDApe1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrLmdldExlbmd0aCgpOyBpKyspe1xuICAgICAgICAgICAgICAgIGlmKHByb2plY3RUYXNrLmdldExpbmsoaSkgPT09IG5hbWVPZlByb2plY3Qpe1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0VGFzay5kZWxldGVFbGVtZW50KGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgcHJvamVjdEFycmF5LmdldExlbmd0aCgpOyBqKyspe1xuICAgICAgICAgICAgaWYocHJvamVjdEFycmF5LmdldE5hbWUoaikgPT09IG5hbWVPZlByb2plY3Qpe1xuICAgICAgICAgICAgICAgIHByb2plY3RBcnJheS5kZWxldGVFbGVtZW50KGopO1xuICAgICAgICAgICAgICAgIGxvY2Fsc3RvcmFnZVByb2plY3RzTG9naWMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubXktcHJvamVjdHMgYnV0dG9uJyk7XG5cbiAgICAgICAgZm9yKGxldCBlbGVtIG9mIGJ1dHRvbnMpe1xuICAgICAgICAgICAgaWYoZWxlbS50ZXh0Q29udGVudCA9PT0gbmFtZU9mUHJvamVjdCl7XG4gICAgICAgICAgICAgICAgZWxlbS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJBbGwoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlUHJvamVjdHNMb2dpYygpe1xuICAgIGxldCBhcnIgPSBbXTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyYXkuZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgIGFyci5wdXNoKHByb2plY3RBcnJheS5nZXROYW1lKGkpKTtcbiAgICB9XG5cbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KGFycikpO1xufVxuXG4vLyBBREQgTkVXIEVWRU5UIFRBU0tcblxuZnVuY3Rpb24gYWRkTmV3RXZlbnRCdXR0b24oKXtcbiAgICBjb25zdCBuZXdFdmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25zIGJ1dHRvbjpudGgtY2hpbGQoMiknKTtcbiAgICBcbiAgICBuZXdFdmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZHJhd0Zvcm1UYXNrKCk7XG4gICAgICAgIGJsdXJUaGVGb3JtVGFzaygpO1xuICAgICAgICBkcmF3Rm9ybUxvZ2ljVGFzaygpO1xuICAgIH0pO1xuXG59XG5cbmZ1bmN0aW9uIGRyYXdGb3JtVGFzaygpe1xuICAgIGNvbnN0IG5ld0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29uc3QgbmV3TGFiZWxOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gICAgY29uc3QgbmV3TGFiZWxEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbmV3SW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbERhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IG5ld0lucHV0RGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICBjb25zdCBuZXdMYWJlbFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBuZXdJbnB1dFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgIGZvcm0uc2V0QXR0cmlidXRlKCdmb3InLCdsYWJlbFNlbGVjdCcpO1xuICAgIGZvcm0udGV4dENvbnRlbnQgPSAnd2hpY2ggcHJvamVjdCc7XG4gICAgc2VsZWN0LnNldEF0dHJpYnV0ZSgnaWQnLCdsYWJlbFNlbGVjdCcpO1xuICAgIHNlbGVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCdzZWxlY3RPcHRpb24nKTtcblxuICAgIGNvbnN0IGRlZk9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIGRlZk9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywnMCcpO1xuICAgIGRlZk9wdGlvbi50ZXh0Q29udGVudCA9ICdub25lJztcbiAgICBzZWxlY3QuYXBwZW5kQ2hpbGQoZGVmT3B0aW9uKTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0QXJyYXkuZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0QXJyYXkuZ2V0TmFtZShpKX1gO1xuICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsYCR7cHJvamVjdEFycmF5LmdldE5hbWUoaSl9YCk7XG4gICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH1cblxuXG4gICAgY29uc3Qgb2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuXG4gICAgXG4gICAgbmV3Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCd0YXNrRm9ybScpO1xuXG4gICAgb2tCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywnYnV0dG9uJyk7XG4gICAgb2tCdXR0b24udGV4dENvbnRlbnQgPSAnT2snO1xuXG5cblxuICAgIG5ld0lucHV0TmFtZS5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza05hbWUnKTtcbiAgICBuZXdMYWJlbE5hbWUudGV4dENvbnRlbnQgPSdOYW1lID0+ICc7XG4gICAgbmV3TGFiZWxOYW1lLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza05hbWUnKTtcblxuICAgIG5ld0lucHV0RGVzY3JpcHRpb24uc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Rhc2tEZXNjcmlwdGlvbicpO1xuICAgIG5ld0xhYmVsRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSAnRGVzY3JpcHRpb24gPT4gJztcbiAgICBuZXdMYWJlbERlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZSgnZm9yJywnTmV3VGFza0Rlc2NyaXB0aW9uJyk7XG5cbiAgICBuZXdJbnB1dERhdGUuc2V0QXR0cmlidXRlKCdpZCcsJ05ld1Rhc2tEYXRlJyk7XG4gICAgbmV3TGFiZWxEYXRlLnRleHRDb250ZW50ID0gJ0R1ZURhdGUgPT4gJztcbiAgICBuZXdMYWJlbERhdGUuc2V0QXR0cmlidXRlKCdmb3InLCdOZXdUYXNrRGF0ZScpO1xuXG4gICAgbmV3SW5wdXRQcmlvcml0eS5zZXRBdHRyaWJ1dGUoJ2lkJywnTmV3VGFza1ByaW8nKTtcbiAgICBuZXdMYWJlbFByaW9yaXR5LnRleHRDb250ZW50ID0gJ1ByaW9yaXR5ID0+ICc7XG4gICAgbmV3TGFiZWxQcmlvcml0eS5zZXRBdHRyaWJ1dGUoJ2ZvcicsJ05ld1Rhc2tQcmlvJyk7XG5cbiAgIFxuXG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxOYW1lKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXROYW1lKTtcblxuICAgIG5ld0lucHV0TmFtZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxEZXNjcmlwdGlvbik7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0RGVzY3JpcHRpb24pO1xuXG4gICAgbmV3SW5wdXREZXNjcmlwdGlvbi5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxEYXRlKTtcbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3SW5wdXREYXRlKTtcblxuICAgIG5ld0lucHV0RGF0ZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQobmV3TGFiZWxQcmlvcml0eSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0lucHV0UHJpb3JpdHkpO1xuXG4gICAgbmV3SW5wdXRQcmlvcml0eS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJyxcIjxicj5cIik7XG5cbiAgICBuZXdDb250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGVjdCk7XG5cbiAgICBzZWxlY3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsXCI8YnI+XCIpO1xuICAgIFxuICAgIG5ld0NvbnRhaW5lci5hcHBlbmRDaGlsZChva0J1dHRvbik7XG5cbiAgICBjb25zdCBib2R5U2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgYm9keVNlbGVjdG9yLmFwcGVuZENoaWxkKG5ld0NvbnRhaW5lcik7XG5cbn1cblxuZnVuY3Rpb24gZHJhd0Zvcm1Mb2dpY1Rhc2soKXtcbiAgICBjb25zdCBva0J1dHRvblRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0gYnV0dG9uJyk7XG4gICAgY29uc3QgaW5wdXRTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrRm9ybSBpbnB1dCcpO1xuICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBzZWxlY3QnKTtcblxuICAgIFxuXG4gICAgb2tCdXR0b25UYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgICAgIGxldCBuYW1lID0gaW5wdXRTZWxlY3RvclswXS52YWx1ZTtcbiAgICAgICAgbGV0IGRlc2NyID0gaW5wdXRTZWxlY3RvclsxXS52YWx1ZTtcbiAgICAgICAgbGV0IGRhdGUgPSBpbnB1dFNlbGVjdG9yWzJdLnZhbHVlO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBpbnB1dFNlbGVjdG9yWzNdLnZhbHVlO1xuICAgICAgICBsZXQgcHJvamVjdExpbmsgPSBzZWxlY3QudmFsdWU7XG5cbiAgICAgICAgaWYobmFtZSAgJiZcbiAgICAgICAgICAgZGVzY3IgJiZcbiAgICAgICAgICAgZGF0ZSAgJiZcbiAgICAgICAgICAgcHJpb3JpdHkpe1xuICAgICAgICAgICAgICAgIGF1dG9DcmVhdGVUYXNrKG5hbWUsZGVzY3IsZGF0ZSxwcmlvcml0eSxwcm9qZWN0TGluayk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVGhlRm9ybVRhc2soKTtcbiAgICAgICAgICAgICAgICB1bmJsdXJUaGVGb3JtVGFzaygpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVRhc2tzTG9naWMoKTtcbiAgICAgICAgICAgfVxuXG5cbiAgICB9KTtcbn1cblxuXG5mdW5jdGlvbiBibHVyVGhlRm9ybVRhc2soKXtcbiAgICBjb25zdCBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bm90KC50YXNrRm9ybSknKTtcbiAgICBcbiAgICBmb3IobGV0IGFsbCBvZiBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3Ipe1xuICAgIGFsbC5zdHlsZS5maWx0ZXIgPSAnYmx1cigxcHgpJztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRoZUZvcm1UYXNrKCl7XG4gICAgY29uc3QgdGFza0Zvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0gYnV0dG9uJyk7XG4gICAgY29uc3QgdGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm0nKTtcbiAgICB0YXNrRm9ybUJ1dHRvbi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGFza0Zvcm0pO1xufVxuXG5mdW5jdGlvbiB1bmJsdXJUaGVGb3JtVGFzaygpe1xuICAgIGNvbnN0IGFsbEV4Y2VwdE91ckZvcm1TZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdjpub3QoLnRhc2tGb3JtKScpO1xuICAgIFxuICAgICAgICBmb3IobGV0IGFsbCBvZiBhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3Ipe1xuICAgICAgICAgICAgYWxsLnN0eWxlLmZpbHRlciA9ICdibHVyKDApJztcbiAgICAgICAgICAgIH1cbn1cblxuXG5mdW5jdGlvbiBkZWxldGVUYXNrTG9naWMoKXtcbiAgICBjb25zdCBkZWxCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBkaXY6bGFzdC1vZi10eXBlIGJ1dHRvbjpudGgtY2hpbGQoMSknKTtcbiAgICBjb25zdCBuYW1lRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBkaXY6bGFzdC1vZi10eXBlID4gZGl2ID4gcDpudGgtY2hpbGQoMSknKTtcblxuICAgIGRlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHByb2plY3RUYXNrLmdldExlbmd0aCgpIDsgaSsrKXtcbiAgICAgICAgICAgIGlmKHByb2plY3RUYXNrLmdldE5hbWUoaSkgPT09IG5hbWVGaWVsZC50ZXh0Q29udGVudCl7XG4gICAgICAgICAgICAgICAgcHJvamVjdFRhc2suZGVsZXRlRWxlbWVudChpKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2VUYXNrc0xvZ2ljKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJBbGwoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkUmVuYW1pbmdCdHRuKGkpe1xuICAgIGNvbnN0IGxhc3REaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBkaXY6bGFzdC1vZi10eXBlJyk7XG4gICAgY29uc3QgbGFzdEJ0dG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBkaXY6bGFzdC1vZi10eXBlIGJ1dHRvbjpudGgtY2hpbGQoMSknKTtcbiAgICBjb25zdCByZW5hbWVCdHRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY29uc3Qgc2VsZWN0RGl2SW50ZXJuYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1ib2FyZCBkaXY6bGFzdC1vZi10eXBlIGRpdicpO1xuXG4gICAgcmVuYW1lQnR0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCdidXR0b24nKTtcbiAgICByZW5hbWVCdHRuLnRleHRDb250ZW50ID0gJ1JlbmFtZSB0aGUgRm9ybSc7XG5cbiAgICBsYXN0QnR0bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyZW5hbWVCdHRuLCBsYXN0QnR0bi5uZXh0U2libGluZyk7XG5cbiAgICByZW5hbWVCdHRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBkcmF3Rm9ybVRhc2soKTtcbiAgICAgICAgYmx1clRoZUZvcm1UYXNrKCk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tGb3JtIHNlbGVjdCcpO1xuICAgICAgICBjb25zdCBpbnB1dFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2tGb3JtIGlucHV0Jyk7XG4gICAgICAgIFxuICAgICAgICBpbnB1dFNlbGVjdG9yWzBdLnZhbHVlID0gcHJvamVjdFRhc2suZ2V0TmFtZShpKTtcbiAgICAgICAgaW5wdXRTZWxlY3RvclsxXS52YWx1ZSA9IHByb2plY3RUYXNrLmdldERlc2NyaXB0aW9uKGkpO1xuICAgICAgICBpbnB1dFNlbGVjdG9yWzJdLnZhbHVlID0gcHJvamVjdFRhc2suZ2V0RHVlRGF0ZShpKTtcbiAgICAgICAgaW5wdXRTZWxlY3RvclszXS52YWx1ZSA9IHByb2plY3RUYXNrLmdldFByaW9yaXR5KGkpO1xuICAgICAgICBzZWxlY3QudmFsdWUgPSBwcm9qZWN0VGFzay5nZXRMaW5rKGkpO1xuXG4gICAgICAgIGNvbnN0IG9rQnV0dG9uVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybSBidXR0b24nKTtcbiAgICAgICAgb2tCdXR0b25UYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgcHJvamVjdFRhc2suY2hhbmdlTmFtZShpLGlucHV0U2VsZWN0b3JbMF0udmFsdWUpO1xuICAgICAgICAgICAgcHJvamVjdFRhc2suY2hhbmdlRGVzY3JpcHRpb24oaSxpbnB1dFNlbGVjdG9yWzFdLnZhbHVlKTtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmNoYW5nZUR1ZURhdGUoaSxpbnB1dFNlbGVjdG9yWzJdLnZhbHVlKTtcbiAgICAgICAgICAgIHByb2plY3RUYXNrLmNoYW5nZVByaW9yaXR5KGksaW5wdXRTZWxlY3RvclszXS52YWx1ZSk7XG4gICAgICAgICAgICBwcm9qZWN0VGFzay5jaGFuZ2VMaW5rKGksc2VsZWN0LnZhbHVlKTtcblxuICAgICAgICAgICAgdW5ibHVyVGhlRm9ybVRhc2soKTtcbiAgICAgICAgICAgIHJlbW92ZVRoZUZvcm1UYXNrKCk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VUYXNrc0xvZ2ljKCk7XG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvY2FsU3RvcmFnZVRhc2tzTG9naWMoKXtcbiAgICBsZXQgYXJyVGFza3MgPSBbXTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0VGFzay5nZXRMZW5ndGgoKTsgaSsrKXtcbiAgICAgICAgYXJyVGFza3MucHVzaChwcm9qZWN0VGFzay5nZXROYW1lKGkpKTtcbiAgICAgICAgYXJyVGFza3MucHVzaChwcm9qZWN0VGFzay5nZXREZXNjcmlwdGlvbihpKSk7XG4gICAgICAgIGFyclRhc2tzLnB1c2gocHJvamVjdFRhc2suZ2V0RHVlRGF0ZShpKSk7XG4gICAgICAgIGFyclRhc2tzLnB1c2gocHJvamVjdFRhc2suZ2V0UHJpb3JpdHkoaSkpO1xuICAgICAgICBhcnJUYXNrcy5wdXNoKHByb2plY3RUYXNrLmdldExpbmsoaSkpO1xuICAgIH1cblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGFza3NcIiwgSlNPTi5zdHJpbmdpZnkoYXJyVGFza3MpKTtcbn1cblxuXG4vL0RFRkFVTFQgQlVUVE9OIE1FVEhPRFxuZnVuY3Rpb24gc3RhcnREZWZhdWx0QnV0dG9uKCl7XG4gICAgY29uc3QgZGVmYXVsdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5teS1wcm9qZWN0cyBidXR0b24nKTtcbiAgICBkZWZhdWx0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBjbGVhckFsbCgpO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdFRhc2suZ2V0TGVuZ3RoKCk7IGkrKyl7XG4gICAgICAgICAgICBjcmVhdGVOZXdEaXZzV2l0aERlbEJ1dHRvbigpO1xuICAgICAgICAgICAgcG9wdWxhdGVDb250YWluZXIoaSk7XG4gICAgICAgICAgICBhZGRSZW5hbWluZ0J0dG4oaSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJBbGwoKXtcbiAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50b2RvLWJvYXJkIConKTtcblxuICAgIGZvcihsZXQgZWxlbSBvZiBib2FyZCl7XG4gICAgICAgIGVsZW0ucmVtb3ZlKCk7XG4gICAgfVxufVxuXG5cblxuXG5cblxuXG5cblxuZXhwb3J0IHtzdGFydE5ld1Byb2plY3RCdXR0b24sXG4gICAgICAgIGNsZWFyQWxsLFxuICAgICAgICBhZGROZXdFdmVudEJ1dHRvbixcbiAgICAgICAgc3RhcnREZWZhdWx0QnV0dG9uLFxuICAgICAgICBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5LFxuICAgICAgICBjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0LFxuICAgICAgICBkaXNwbGF5TG9naWNCdXR0b24sXG4gICAgICAgIGRlbGV0ZVRhc2tMb2dpYyxcbiAgICAgICAgYWRkUmVuYW1pbmdCdHRufTsiLCJpbXBvcnQgeyBzdGFydE5ld1Byb2plY3RCdXR0b24sIGNsZWFyQWxsLCBhZGROZXdFdmVudEJ1dHRvbiwgc3RhcnREZWZhdWx0QnV0dG9uLCBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5LCBjcmVhdGVCdXR0b25Gb3JOZXdQcm9qZWN0LCBkaXNwbGF5TG9naWNCdXR0b24sIGRlbGV0ZVRhc2tMb2dpYywgYWRkUmVuYW1pbmdCdHRuIH0gZnJvbSBcIi4vZG9tL2RvbS5qc1wiO1xuaW1wb3J0IHsgYXV0b0NyZWF0ZVRhc2sgfSBmcm9tIFwiLi9wcm9qZWN0TWFuYWdlL25ld1Byb2plY3RDYWxsLmpzXCI7XG5cbmNvbnN0IGluaXQgPSBmdW5jdGlvbigpe1xuICAgIFxuXG4gICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcm9qZWN0c1wiKSl7XG4gICAgICAgIGxldCBhcnIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHJvamVjdHNcIikpO1xuXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBhcnIubGVuZ3RoOyBqKyspe1xuICAgICAgICBjcmVhdGVUaGVQcm9qZWN0QW5kQWRkSXRUb1RoZUFycmF5KGFycltqXSk7XG4gICAgICAgIGNyZWF0ZUJ1dHRvbkZvck5ld1Byb2plY3QoYXJyW2pdKTtcbiAgICAgICAgZGlzcGxheUxvZ2ljQnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRhc2tzXCIpKXtcbiAgICAgICAgbGV0IGFyclRhc2tzID0gW107XG4gICAgICAgIGFyclRhc2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRhc2tzXCIpKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgICAgIHdoaWxlKGkgPD0gYXJyVGFza3MubGVuZ3RoKXtcbiAgICAgICAgICAgIGF1dG9DcmVhdGVUYXNrKGFyclRhc2tzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyVGFza3NbaSsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyclRhc2tzW2krMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJUYXNrc1tpKzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyVGFza3NbaSs0XSk7XG4gICAgICAgICAgICBpID0gaSs1OyAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIHN0YXJ0RGVmYXVsdEJ1dHRvbigpO1xuICAgIHN0YXJ0TmV3UHJvamVjdEJ1dHRvbigpO1xuICAgIGFkZE5ld0V2ZW50QnV0dG9uKCk7XG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBpbml0O1xuXG4iLCJpbXBvcnQgaW5pdCBmcm9tICcuL21vZHVsZXMvaW5pdC5qcyc7XG5cblxuXG5pbml0KCk7Il0sIm5hbWVzIjpbInByb2plY3RBcnJheSIsImFycmF5T2ZQcm9qZWN0cyIsInB1c2hQcm9qZWN0SW50b0FycmF5IiwicHJvamVjdCIsInB1c2giLCJnZXROYW1lIiwiY291bnQiLCJnZXRMZW5ndGgiLCJsZW5ndGgiLCJkZWxldGVFbGVtZW50IiwiaSIsInNwbGljZSIsIlByb2plY3QiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0aGlzIiwiY2hhbmdlTmFtZSIsIm5ld05hbWUiLCJuZXdUaXRsZSIsIm5ld0Rlc2NyaXB0aW9uIiwibmV3RHVlRGF0ZSIsIm5ld1ByaW9yaXR5IiwibmV3UHJvamVjdExpbmsiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwicHJvamVjdExpbmsiLCJnZXRUaXRsZSIsImdldERlc2NyaXB0aW9uIiwiZ2V0RGF0ZSIsImdldFByaW9yaXR5IiwiZ2V0UHJvamVjdE5hbWUiLCJnZXRMaW5rIiwiY2hhbmdlRGVzY3JpcHRpb24iLCJjaGFuZ2VEdWVEYXRlIiwiY2hhbmdlUHJpb3JpdHkiLCJjaGFuZ2VMaW5rIiwibmV3TGluayIsInByb2plY3RUYXNrIiwiYXJyYXlPZlRhc2tzIiwiYWRkRWxlbWVudCIsInRhc2siLCJnZXREdWVEYXRlIiwiYXV0b0NyZWF0ZVRhc2siLCJkZXNjciIsImRhdGUiLCJuZXdUYXNrIiwibmV3UHJvamVjdCIsImNyZWF0ZUJ1dHRvbkZvck5ld1Byb2plY3QiLCJuYW1lT2ZOZXdCdXR0b24iLCJwcm9qZWN0c0NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5ld0J1dHRvbiIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiZGlzcGxheUxvZ2ljQnV0dG9uIiwic2VsZWN0QnV0dG9uIiwic2VsZWN0RGlzcGxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGVhckFsbCIsImRlbFByb2plY3RCdHRuIiwibmFtZU9mUHJvamVjdCIsImoiLCJsb2NhbHN0b3JhZ2VQcm9qZWN0c0xvZ2ljIiwiYnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtIiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwiY3JlYXRlTmV3RGl2c1dpdGhEZWxCdXR0b24iLCJwb3B1bGF0ZUNvbnRhaW5lciIsImRlbGV0ZVRhc2tMb2dpYyIsImFkZFJlbmFtaW5nQnR0biIsImRpc3BsYXlBdFNjcmVlbiIsIm5ld0NvbnRhaW5lciIsImRlbEJ0dG4iLCJzZWxlY3RDb250YWluZXIiLCJhcnIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImRyYXdGb3JtVGFzayIsIm5ld0xhYmVsTmFtZSIsIm5ld0lucHV0TmFtZSIsIm5ld0xhYmVsRGVzY3JpcHRpb24iLCJuZXdJbnB1dERlc2NyaXB0aW9uIiwibmV3TGFiZWxEYXRlIiwibmV3SW5wdXREYXRlIiwibmV3TGFiZWxQcmlvcml0eSIsIm5ld0lucHV0UHJpb3JpdHkiLCJmb3JtIiwic2VsZWN0IiwiZGVmT3B0aW9uIiwib3B0aW9uIiwib2tCdXR0b24iLCJpbnNlcnRBZGphY2VudEhUTUwiLCJibHVyVGhlRm9ybVRhc2siLCJhbGxFeGNlcHRPdXJGb3JtU2VsZWN0b3IiLCJhbGwiLCJzdHlsZSIsImZpbHRlciIsInJlbW92ZVRoZUZvcm1UYXNrIiwidGFza0Zvcm1CdXR0b24iLCJ0YXNrRm9ybSIsInVuYmx1clRoZUZvcm1UYXNrIiwiZGVsQnV0dG9uIiwibmFtZUZpZWxkIiwibG9jYWxTdG9yYWdlVGFza3NMb2dpYyIsImxhc3RCdHRuIiwicmVuYW1lQnR0biIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsImlucHV0U2VsZWN0b3IiLCJ2YWx1ZSIsImFyclRhc2tzIiwiYm9hcmQiLCJyZW1vdmUiLCJnZXRJdGVtIiwicGFyc2UiLCJuZXdMYWJlbCIsIm5ld0lucHV0IiwiZHJhd0Zvcm0iLCJibHVyVGhlRm9ybSIsInByb2plY3RGb3JtQnV0dG9uIiwiaW5wdXRGb3JtIiwidW5kZWZpbmVkIiwicHJvamVjdEZvcm0iLCJyZW1vdmVUaGVGb3JtIiwidW5ibHVyVGhlRm9ybSIsImRyYXdGb3JtTG9naWMiLCJva0J1dHRvblRhc2siLCJkcmF3Rm9ybUxvZ2ljVGFzayJdLCJzb3VyY2VSb290IjoiIn0=